(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hf(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function s_(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var a=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return i[r]}})}),t}var up={exports:{}},Jh={},hp={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function g1(){if(Ay)return ut;Ay=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function S(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function P(R,U,X){this.props=R,this.context=U,this.refs=M,this.updater=X||b}P.prototype.isReactComponent={},P.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},P.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=P.prototype;function z(R,U,X){this.props=R,this.context=U,this.refs=M,this.updater=X||b}var O=z.prototype=new k;O.constructor=z,A(O,P.prototype),O.isPureReactComponent=!0;var W=Array.isArray,B=Object.prototype.hasOwnProperty,K={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function J(R,U,X){var ie,ue={},pe=null,_e=null;if(U!=null)for(ie in U.ref!==void 0&&(_e=U.ref),U.key!==void 0&&(pe=""+U.key),U)B.call(U,ie)&&!N.hasOwnProperty(ie)&&(ue[ie]=U[ie]);var be=arguments.length-2;if(be===1)ue.children=X;else if(1<be){for(var Re=Array(be),ye=0;ye<be;ye++)Re[ye]=arguments[ye+2];ue.children=Re}if(R&&R.defaultProps)for(ie in be=R.defaultProps,be)ue[ie]===void 0&&(ue[ie]=be[ie]);return{$$typeof:i,type:R,key:pe,ref:_e,props:ue,_owner:K.current}}function ce(R,U){return{$$typeof:i,type:R.type,key:U,ref:R.ref,props:R.props,_owner:R._owner}}function fe(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function Pe(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return U[X]})}var Q=/\/+/g;function Z(R,U){return typeof R=="object"&&R!==null&&R.key!=null?Pe(""+R.key):U.toString(36)}function le(R,U,X,ie,ue){var pe=typeof R;(pe==="undefined"||pe==="boolean")&&(R=null);var _e=!1;if(R===null)_e=!0;else switch(pe){case"string":case"number":_e=!0;break;case"object":switch(R.$$typeof){case i:case e:_e=!0}}if(_e)return _e=R,ue=ue(_e),R=ie===""?"."+Z(_e,0):ie,W(ue)?(X="",R!=null&&(X=R.replace(Q,"$&/")+"/"),le(ue,U,X,"",function(ye){return ye})):ue!=null&&(fe(ue)&&(ue=ce(ue,X+(!ue.key||_e&&_e.key===ue.key?"":(""+ue.key).replace(Q,"$&/")+"/")+R)),U.push(ue)),1;if(_e=0,ie=ie===""?".":ie+":",W(R))for(var be=0;be<R.length;be++){pe=R[be];var Re=ie+Z(pe,be);_e+=le(pe,U,X,Re,ue)}else if(Re=S(R),typeof Re=="function")for(R=Re.call(R),be=0;!(pe=R.next()).done;)pe=pe.value,Re=ie+Z(pe,be++),_e+=le(pe,U,X,Re,ue);else if(pe==="object")throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return _e}function Te(R,U,X){if(R==null)return R;var ie=[],ue=0;return le(R,ie,"","",function(pe){return U.call(X,pe,ue++)}),ie}function L(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var G={current:null},C={transition:null},H={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:C,ReactCurrentOwner:K};function D(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:Te,forEach:function(R,U,X){Te(R,function(){U.apply(this,arguments)},X)},count:function(R){var U=0;return Te(R,function(){U++}),U},toArray:function(R){return Te(R,function(U){return U})||[]},only:function(R){if(!fe(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ut.Component=P,ut.Fragment=t,ut.Profiler=a,ut.PureComponent=z,ut.StrictMode=r,ut.Suspense=p,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,ut.act=D,ut.cloneElement=function(R,U,X){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ie=A({},R.props),ue=R.key,pe=R.ref,_e=R._owner;if(U!=null){if(U.ref!==void 0&&(pe=U.ref,_e=K.current),U.key!==void 0&&(ue=""+U.key),R.type&&R.type.defaultProps)var be=R.type.defaultProps;for(Re in U)B.call(U,Re)&&!N.hasOwnProperty(Re)&&(ie[Re]=U[Re]===void 0&&be!==void 0?be[Re]:U[Re])}var Re=arguments.length-2;if(Re===1)ie.children=X;else if(1<Re){be=Array(Re);for(var ye=0;ye<Re;ye++)be[ye]=arguments[ye+2];ie.children=be}return{$$typeof:i,type:R.type,key:ue,ref:pe,props:ie,_owner:_e}},ut.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:o,_context:R},R.Consumer=R},ut.createElement=J,ut.createFactory=function(R){var U=J.bind(null,R);return U.type=R,U},ut.createRef=function(){return{current:null}},ut.forwardRef=function(R){return{$$typeof:d,render:R}},ut.isValidElement=fe,ut.lazy=function(R){return{$$typeof:_,_payload:{_status:-1,_result:R},_init:L}},ut.memo=function(R,U){return{$$typeof:g,type:R,compare:U===void 0?null:U}},ut.startTransition=function(R){var U=C.transition;C.transition={};try{R()}finally{C.transition=U}},ut.unstable_act=D,ut.useCallback=function(R,U){return G.current.useCallback(R,U)},ut.useContext=function(R){return G.current.useContext(R)},ut.useDebugValue=function(){},ut.useDeferredValue=function(R){return G.current.useDeferredValue(R)},ut.useEffect=function(R,U){return G.current.useEffect(R,U)},ut.useId=function(){return G.current.useId()},ut.useImperativeHandle=function(R,U,X){return G.current.useImperativeHandle(R,U,X)},ut.useInsertionEffect=function(R,U){return G.current.useInsertionEffect(R,U)},ut.useLayoutEffect=function(R,U){return G.current.useLayoutEffect(R,U)},ut.useMemo=function(R,U){return G.current.useMemo(R,U)},ut.useReducer=function(R,U,X){return G.current.useReducer(R,U,X)},ut.useRef=function(R){return G.current.useRef(R)},ut.useState=function(R){return G.current.useState(R)},ut.useSyncExternalStore=function(R,U,X){return G.current.useSyncExternalStore(R,U,X)},ut.useTransition=function(){return G.current.useTransition()},ut.version="18.3.1",ut}var Cy;function kg(){return Cy||(Cy=1,hp.exports=g1()),hp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function y1(){if(Py)return Jh;Py=1;var i=kg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var _,w={},S=null,b=null;g!==void 0&&(S=""+g),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(b=p.ref);for(_ in p)r.call(p,_)&&!o.hasOwnProperty(_)&&(w[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:d,key:S,ref:b,props:w,_owner:a.current}}return Jh.Fragment=t,Jh.jsx=c,Jh.jsxs=c,Jh}var Ry;function v1(){return Ry||(Ry=1,up.exports=y1()),up.exports}var co=v1(),zr=kg();const ha=hf(zr);var cd={},cp={exports:{}},Nn={},dp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function _1(){return Iy||(Iy=1,function(i){function e(C,H){var D=C.length;C.push(H);e:for(;0<D;){var R=D-1>>>1,U=C[R];if(0<a(U,H))C[R]=H,C[D]=U,D=R;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],D=C.pop();if(D!==H){C[0]=D;e:for(var R=0,U=C.length,X=U>>>1;R<X;){var ie=2*(R+1)-1,ue=C[ie],pe=ie+1,_e=C[pe];if(0>a(ue,D))pe<U&&0>a(_e,ue)?(C[R]=_e,C[pe]=D,R=pe):(C[R]=ue,C[ie]=D,R=ie);else if(pe<U&&0>a(_e,D))C[R]=_e,C[pe]=D,R=pe;else break e}}return H}function a(C,H){var D=C.sortIndex-H.sortIndex;return D!==0?D:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,w=null,S=3,b=!1,A=!1,M=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(C){for(var H=t(g);H!==null;){if(H.callback===null)r(g);else if(H.startTime<=C)r(g),H.sortIndex=H.expirationTime,e(p,H);else break;H=t(g)}}function W(C){if(M=!1,O(C),!A)if(t(p)!==null)A=!0,L(B);else{var H=t(g);H!==null&&G(W,H.startTime-C)}}function B(C,H){A=!1,M&&(M=!1,k(J),J=-1),b=!0;var D=S;try{for(O(H),w=t(p);w!==null&&(!(w.expirationTime>H)||C&&!Pe());){var R=w.callback;if(typeof R=="function"){w.callback=null,S=w.priorityLevel;var U=R(w.expirationTime<=H);H=i.unstable_now(),typeof U=="function"?w.callback=U:w===t(p)&&r(p),O(H)}else r(p);w=t(p)}if(w!==null)var X=!0;else{var ie=t(g);ie!==null&&G(W,ie.startTime-H),X=!1}return X}finally{w=null,S=D,b=!1}}var K=!1,N=null,J=-1,ce=5,fe=-1;function Pe(){return!(i.unstable_now()-fe<ce)}function Q(){if(N!==null){var C=i.unstable_now();fe=C;var H=!0;try{H=N(!0,C)}finally{H?Z():(K=!1,N=null)}}else K=!1}var Z;if(typeof z=="function")Z=function(){z(Q)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Te=le.port2;le.port1.onmessage=Q,Z=function(){Te.postMessage(null)}}else Z=function(){P(Q,0)};function L(C){N=C,K||(K=!0,Z())}function G(C,H){J=P(function(){C(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_continueExecution=function(){A||b||(A=!0,L(B))},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var D=S;S=H;try{return C()}finally{S=D}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=S;S=C;try{return H()}finally{S=D}},i.unstable_scheduleCallback=function(C,H,D){var R=i.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?R+D:R):D=R,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=D+U,C={id:_++,callback:H,priorityLevel:C,startTime:D,expirationTime:U,sortIndex:-1},D>R?(C.sortIndex=D,e(g,C),t(p)===null&&C===t(g)&&(M?(k(J),J=-1):M=!0,G(W,D-R))):(C.sortIndex=U,e(p,C),A||b||(A=!0,L(B))),C},i.unstable_shouldYield=Pe,i.unstable_wrapCallback=function(C){var H=S;return function(){var D=S;S=H;try{return C.apply(this,arguments)}finally{S=D}}}}(fp)),fp}var My;function x1(){return My||(My=1,dp.exports=_1()),dp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function w1(){if(ky)return Nn;ky=1;var i=kg(),e=x1();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,h=1;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function o(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(a[n]=s,n=0;n<s.length;n++)r.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function S(n){return p.call(w,n)?!0:p.call(_,n)?!1:g.test(n)?w[n]=!0:(_[n]=!0,!1)}function b(n,s,h,f){if(h!==null&&h.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:h!==null?!h.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function A(n,s,h,f){if(s===null||typeof s>"u"||b(n,s,h,f))return!0;if(f)return!1;if(h!==null)switch(h.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(n,s,h,f,y,E,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=h,this.propertyName=n,this.type=s,this.sanitizeURL=E,this.removeEmptyString=I}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){P[n]=new M(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];P[s]=new M(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){P[n]=new M(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){P[n]=new M(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){P[n]=new M(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){P[n]=new M(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){P[n]=new M(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){P[n]=new M(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){P[n]=new M(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function z(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(k,z);P[s]=new M(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(k,z);P[s]=new M(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(k,z);P[s]=new M(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){P[n]=new M(n,1,!1,n.toLowerCase(),null,!1,!1)}),P.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){P[n]=new M(n,1,!1,n.toLowerCase(),null,!0,!0)});function O(n,s,h,f){var y=P.hasOwnProperty(s)?P[s]:null;(y!==null?y.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,h,y,f)&&(h=null),f||y===null?S(s)&&(h===null?n.removeAttribute(s):n.setAttribute(s,""+h)):y.mustUseProperty?n[y.propertyName]=h===null?y.type===3?!1:"":h:(s=y.attributeName,f=y.attributeNamespace,h===null?n.removeAttribute(s):(y=y.type,h=y===3||y===4&&h===!0?"":""+h,f?n.setAttributeNS(f,s,h):n.setAttribute(s,h))))}var W=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),K=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),C=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=C&&n[C]||n["@@iterator"],typeof n=="function"?n:null)}var D=Object.assign,R;function U(n){if(R===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+n}var X=!1;function ie(n,s){if(!n||X)return"";X=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ae){var f=ae}Reflect.construct(n,[],s)}else{try{s.call()}catch(ae){f=ae}n.call(s.prototype)}else{try{throw Error()}catch(ae){f=ae}n()}}catch(ae){if(ae&&f&&typeof ae.stack=="string"){for(var y=ae.stack.split(`
`),E=f.stack.split(`
`),I=y.length-1,j=E.length-1;1<=I&&0<=j&&y[I]!==E[j];)j--;for(;1<=I&&0<=j;I--,j--)if(y[I]!==E[j]){if(I!==1||j!==1)do if(I--,j--,0>j||y[I]!==E[j]){var V=`
`+y[I].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=I&&0<=j);break}}}finally{X=!1,Error.prepareStackTrace=h}return(n=n?n.displayName||n.name:"")?U(n):""}function ue(n){switch(n.tag){case 5:return U(n.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return n=ie(n.type,!1),n;case 11:return n=ie(n.type.render,!1),n;case 1:return n=ie(n.type,!0),n;default:return""}}function pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case K:return"Portal";case ce:return"Profiler";case J:return"StrictMode";case Z:return"Suspense";case le:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Pe:return(n.displayName||"Context")+".Consumer";case fe:return(n._context.displayName||"Context")+".Provider";case Q:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Te:return s=n.displayName||null,s!==null?s:pe(n.type)||"Memo";case L:s=n._payload,n=n._init;try{return pe(n(s))}catch{}}return null}function _e(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(s);case 8:return s===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Re(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ye(n){var s=Re(n)?"checked":"value",h=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),f=""+n[s];if(!n.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,E=h.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return y.call(this)},set:function(I){f=""+I,E.call(this,I)}}),Object.defineProperty(n,s,{enumerable:h.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Me(n){n._valueTracker||(n._valueTracker=ye(n))}function Ue(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var h=s.getValue(),f="";return n&&(f=Re(n)?n.checked?"true":"false":n.value),n=f,n!==h?(s.setValue(n),!0):!1}function We(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ot(n,s){var h=s.checked;return D({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??n._wrapperState.initialChecked})}function He(n,s){var h=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;h=be(s.value!=null?s.value:h),n._wrapperState={initialChecked:f,initialValue:h,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ve(n,s){s=s.checked,s!=null&&O(n,"checked",s,!1)}function kt(n,s){Ve(n,s);var h=be(s.value),f=s.type;if(h!=null)f==="number"?(h===0&&n.value===""||n.value!=h)&&(n.value=""+h):n.value!==""+h&&(n.value=""+h);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Jn(n,s.type,h):s.hasOwnProperty("defaultValue")&&Jn(n,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Gt(n,s,h){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,h||s===n.value||(n.value=s),n.defaultValue=s}h=n.name,h!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,h!==""&&(n.name=h)}function Jn(n,s,h){(s!=="number"||We(n.ownerDocument)!==n)&&(h==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+h&&(n.defaultValue=""+h))}var cr=Array.isArray;function dr(n,s,h,f){if(n=n.options,s){s={};for(var y=0;y<h.length;y++)s["$"+h[y]]=!0;for(h=0;h<n.length;h++)y=s.hasOwnProperty("$"+n[h].value),n[h].selected!==y&&(n[h].selected=y),y&&f&&(n[h].defaultSelected=!0)}else{for(h=""+be(h),s=null,y=0;y<n.length;y++){if(n[y].value===h){n[y].selected=!0,f&&(n[y].defaultSelected=!0);return}s!==null||n[y].disabled||(s=n[y])}s!==null&&(s.selected=!0)}}function ei(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return D({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function gi(n,s){var h=s.value;if(h==null){if(h=s.children,s=s.defaultValue,h!=null){if(s!=null)throw Error(t(92));if(cr(h)){if(1<h.length)throw Error(t(93));h=h[0]}s=h}s==null&&(s=""),h=s}n._wrapperState={initialValue:be(h)}}function Jr(n,s){var h=be(s.value),f=be(s.defaultValue);h!=null&&(h=""+h,h!==n.value&&(n.value=h),s.defaultValue==null&&n.defaultValue!==h&&(n.defaultValue=h)),f!=null&&(n.defaultValue=""+f)}function Bl(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function Ul(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ma(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?Ul(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ga,Qi=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,h,f,y){MSApp.execUnsafeLocalFunction(function(){return n(s,h,f,y)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ga.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function yi(n,s){if(s){var h=n.firstChild;if(h&&h===n.lastChild&&h.nodeType===3){h.nodeValue=s;return}}n.textContent=s}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eh=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(n){eh.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Ki[s]=Ki[n]})});function zl(n,s,h){return s==null||typeof s=="boolean"||s===""?"":h||typeof s!="number"||s===0||Ki.hasOwnProperty(n)&&Ki[n]?(""+s).trim():s+"px"}function ya(n,s){n=n.style;for(var h in s)if(s.hasOwnProperty(h)){var f=h.indexOf("--")===0,y=zl(h,s[h],f);h==="float"&&(h="cssFloat"),f?n.setProperty(h,y):n[h]=y}}var va=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function re(n,s){if(s){if(va[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function se(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ht=null;function _t(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Et=null,tt=null,Nr=null;function ti(n){if(n=Va(n)){if(typeof Et!="function")throw Error(t(280));var s=n.stateNode;s&&(s=$a(s),Et(n.stateNode,n.type,s))}}function gr(n){tt?Nr?Nr.push(n):Nr=[n]:tt=n}function fn(){if(tt){var n=tt,s=Nr;if(Nr=tt=null,ti(n),s)for(n=0;n<s.length;n++)ti(s[n])}}function _a(n,s){return n(s)}function Bn(){}var Sr=!1;function xa(n,s,h){if(Sr)return n(s,h);Sr=!0;try{return _a(n,s,h)}finally{Sr=!1,(tt!==null||Nr!==null)&&(Bn(),fn())}}function Zi(n,s){var h=n.stateNode;if(h===null)return null;var f=$a(h);if(f===null)return null;h=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(h&&typeof h!="function")throw Error(t(231,s,typeof h));return h}var wa=!1;if(d)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){wa=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{wa=!1}function Ea(n,s,h,f,y,E,I,j,V){var ae=Array.prototype.slice.call(arguments,3);try{s.apply(h,ae)}catch(xe){this.onError(xe)}}var pn=!1,Ji=null,es=!1,vi=null,Gl={onError:function(n){pn=!0,Ji=n}};function So(n,s,h,f,y,E,I,j,V){pn=!1,Ji=null,Ea.apply(Gl,arguments)}function Hl(n,s,h,f,y,E,I,j,V){if(So.apply(this,arguments),pn){if(pn){var ae=Ji;pn=!1,Ji=null}else throw Error(t(198));es||(es=!0,vi=ae)}}function zn(n){var s=n,h=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(h=s.return),n=s.return;while(n)}return s.tag===3?h:null}function bo(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function jl(n){if(zn(n)!==n)throw Error(t(188))}function To(n){var s=n.alternate;if(!s){if(s=zn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var h=n,f=s;;){var y=h.return;if(y===null)break;var E=y.alternate;if(E===null){if(f=y.return,f!==null){h=f;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===h)return jl(y),n;if(E===f)return jl(y),s;E=E.sibling}throw Error(t(188))}if(h.return!==f.return)h=y,f=E;else{for(var I=!1,j=y.child;j;){if(j===h){I=!0,h=y,f=E;break}if(j===f){I=!0,f=y,h=E;break}j=j.sibling}if(!I){for(j=E.child;j;){if(j===h){I=!0,h=E,f=y;break}if(j===f){I=!0,f=E,h=y;break}j=j.sibling}if(!I)throw Error(t(189))}}if(h.alternate!==f)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?n:s}function _i(n){return n=To(n),n!==null?ks(n):null}function ks(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=ks(n);if(s!==null)return s;n=n.sibling}return null}var Wl=e.unstable_scheduleCallback,Ao=e.unstable_cancelCallback,Tf=e.unstable_shouldYield,Af=e.unstable_requestPaint,$t=e.unstable_now,Co=e.unstable_getCurrentPriorityLevel,Po=e.unstable_ImmediatePriority,Vl=e.unstable_UserBlockingPriority,$l=e.unstable_NormalPriority,th=e.unstable_LowPriority,Ds=e.unstable_IdlePriority,Gn=null,ft=null;function Ct(n){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:Ns,br=Math.log,Hr=Math.LN2;function Ns(n){return n>>>=0,n===0?32:31-(br(n)/Hr|0)|0}var xi=64,Tr=4194304;function Fs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ro(n,s){var h=n.pendingLanes;if(h===0)return 0;var f=0,y=n.suspendedLanes,E=n.pingedLanes,I=h&268435455;if(I!==0){var j=I&~y;j!==0?f=Fs(j):(E&=I,E!==0&&(f=Fs(E)))}else I=h&~y,I!==0?f=Fs(I):E!==0&&(f=Fs(E));if(f===0)return 0;if(s!==0&&s!==f&&(s&y)===0&&(y=f&-f,E=s&-s,y>=E||y===16&&(E&4194240)!==0))return s;if((f&4)!==0&&(f|=h&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=f;0<s;)h=31-fr(s),y=1<<h,f|=n[h],s&=~y;return f}function Tc(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(n,s){for(var h=n.suspendedLanes,f=n.pingedLanes,y=n.expirationTimes,E=n.pendingLanes;0<E;){var I=31-fr(E),j=1<<I,V=y[I];V===-1?((j&h)===0||(j&f)!==0)&&(y[I]=Tc(j,s)):V<=s&&(n.expiredLanes|=j),E&=~j}}function Yl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function mn(){var n=xi;return xi<<=1,(xi&4194240)===0&&(xi=64),n}function rh(n){for(var s=[],h=0;31>h;h++)s.push(n);return s}function Io(n,s,h){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-fr(s),n[s]=h}function nh(n,s){var h=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<h;){var y=31-fr(h),E=1<<y;s[y]=0,f[y]=-1,n[y]=-1,h&=~E}}function Mo(n,s){var h=n.entangledLanes|=s;for(n=n.entanglements;h;){var f=31-fr(h),y=1<<f;y&s|n[f]&s&&(n[f]|=s),h&=~y}}var pt=0;function ko(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Ac,Do,ih,ql,Sa,No=!1,ct=[],wi=null,ri=null,Ei=null,Fo=new Map,Oo=new Map,Dt=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(n,s){switch(n){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Fo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(s.pointerId)}}function ba(n,s,h,f,y,E){return n===null||n.nativeEvent!==E?(n={blockedOn:s,domEventName:h,eventSystemFlags:f,nativeEvent:E,targetContainers:[y]},s!==null&&(s=Va(s),s!==null&&Do(s)),n):(n.eventSystemFlags|=f,s=n.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),n)}function Cf(n,s,h,f,y){switch(s){case"focusin":return wi=ba(wi,n,s,h,f,y),!0;case"dragenter":return ri=ba(ri,n,s,h,f,y),!0;case"mouseover":return Ei=ba(Ei,n,s,h,f,y),!0;case"pointerover":var E=y.pointerId;return Fo.set(E,ba(Fo.get(E)||null,n,s,h,f,y)),!0;case"gotpointercapture":return E=y.pointerId,Oo.set(E,ba(Oo.get(E)||null,n,s,h,f,y)),!0}return!1}function Lo(n){var s=hs(n.target);if(s!==null){var h=zn(s);if(h!==null){if(s=h.tag,s===13){if(s=bo(h),s!==null){n.blockedOn=s,Sa(n.priority,function(){ih(h)});return}}else if(s===3&&h.stateNode.current.memoizedState.isDehydrated){n.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}n.blockedOn=null}function en(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var h=jr(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(h===null){h=n.nativeEvent;var f=new h.constructor(h.type,h);ht=f,h.target.dispatchEvent(f),ht=null}else return s=Va(h),s!==null&&Do(s),n.blockedOn=h,!1;s.shift()}return!0}function gn(n,s,h){en(n)&&h.delete(s)}function Si(){No=!1,wi!==null&&en(wi)&&(wi=null),ri!==null&&en(ri)&&(ri=null),Ei!==null&&en(Ei)&&(Ei=null),Fo.forEach(gn),Oo.forEach(gn)}function ts(n,s){n.blockedOn===s&&(n.blockedOn=null,No||(No=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Si)))}function Os(n){function s(y){return ts(y,n)}if(0<ct.length){ts(ct[0],n);for(var h=1;h<ct.length;h++){var f=ct[h];f.blockedOn===n&&(f.blockedOn=null)}}for(wi!==null&&ts(wi,n),ri!==null&&ts(ri,n),Ei!==null&&ts(Ei,n),Fo.forEach(s),Oo.forEach(s),h=0;h<Dt.length;h++)f=Dt[h],f.blockedOn===n&&(f.blockedOn=null);for(;0<Dt.length&&(h=Dt[0],h.blockedOn===null);)Lo(h),h.blockedOn===null&&Dt.shift()}var Ls=W.ReactCurrentBatchConfig,tn=!0;function Ta(n,s,h,f){var y=pt,E=Ls.transition;Ls.transition=null;try{pt=1,Ca(n,s,h,f)}finally{pt=y,Ls.transition=E}}function Aa(n,s,h,f){var y=pt,E=Ls.transition;Ls.transition=null;try{pt=4,Ca(n,s,h,f)}finally{pt=y,Ls.transition=E}}function Ca(n,s,h,f){if(tn){var y=jr(n,s,h,f);if(y===null)mu(n,s,f,Bs,h),Cc(n,f);else if(Cf(y,n,s,h,f))f.stopPropagation();else if(Cc(n,f),s&4&&-1<sh.indexOf(n)){for(;y!==null;){var E=Va(y);if(E!==null&&Ac(E),E=jr(n,s,h,f),E===null&&mu(n,s,f,Bs,h),E===y)break;y=E}y!==null&&f.stopPropagation()}else mu(n,s,f,null,h)}}var Bs=null;function jr(n,s,h,f){if(Bs=null,n=_t(f),n=hs(n),n!==null)if(s=zn(n),s===null)n=null;else if(h=s.tag,h===13){if(n=bo(s),n!==null)return n;n=null}else if(h===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Bs=n,null}function rn(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Co()){case Po:return 1;case Vl:return 4;case $l:case th:return 16;case Ds:return 536870912;default:return 16}default:return 16}}var Wr=null,yn=null,vn=null;function rs(){if(vn)return vn;var n,s=yn,h=s.length,f,y="value"in Wr?Wr.value:Wr.textContent,E=y.length;for(n=0;n<h&&s[n]===y[n];n++);var I=h-n;for(f=1;f<=I&&s[h-f]===y[E-f];f++);return vn=y.slice(n,1<f?1-f:void 0)}function Bo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Pa(){return!0}function Ql(){return!1}function Nt(n){function s(h,f,y,E,I){this._reactName=h,this._targetInst=y,this.type=f,this.nativeEvent=E,this.target=I,this.currentTarget=null;for(var j in n)n.hasOwnProperty(j)&&(h=n[j],this[j]=h?h(E):E[j]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Pa:Ql,this.isPropagationStopped=Ql,this}return D(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),s}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pt=Nt(yr),bi=D({},yr,{view:0,detail:0}),Hn=Nt(bi),Kl,Zl,Us,Ra=D({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Us&&(Us&&n.type==="mousemove"?(Kl=n.screenX-Us.screenX,Zl=n.screenY-Us.screenY):Zl=Kl=0,Us=n),Kl)},movementY:function(n){return"movementY"in n?n.movementY:Zl}}),ah=Nt(Ra),Jl=D({},Ra,{dataTransfer:0}),Pc=Nt(Jl),Ia=D({},bi,{relatedTarget:0}),Uo=Nt(Ia),Pf=D({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=Nt(Pf),Rf=D({},yr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jn=Nt(Rf),tu=D({},yr,{data:0}),zo=Nt(tu),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=lh[n])?!!s[n]:!1}function Go(){return Rc}var uh=D({},bi,{key:function(n){if(n.key){var s=Ma[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Bo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?oh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(n){return n.type==="keypress"?Bo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ka=Nt(uh),_n=D({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Nt(_n),hh=D({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),Ic=Nt(hh),ni=D({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),is=Nt(ni),ch=D({},Ra,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Mc=Nt(ch),Ti=[9,13,27,32],ii=d&&"CompositionEvent"in window,ss=null;d&&"documentMode"in document&&(ss=document.documentMode);var kc=d&&"TextEvent"in window&&!ss,Ho=d&&(!ii||ss&&8<ss&&11>=ss),dh=" ",fh=!1;function ru(n,s){switch(n){case"keyup":return Ti.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var zs=!1;function Dc(n,s){switch(n){case"compositionend":return jo(s);case"keypress":return s.which!==32?null:(fh=!0,dh);case"textInput":return n=s.data,n===dh&&fh?null:n;default:return null}}function Nc(n,s){if(zs)return n==="compositionend"||!ii&&ru(n,s)?(n=rs(),vn=yn=Wr=null,zs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ho&&s.locale!=="ko"?null:s.data;default:return null}}var ph={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Da(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ph[n.type]:s==="textarea"}function Wo(n,s,h,f){gr(f),s=Ko(s,"onChange"),0<s.length&&(h=new Pt("onChange","change",null,h,f),n.push({event:h,listeners:s}))}var Na=null,Fa=null;function Oa(n){du(n,0)}function Vo(n){var s=Ws(n);if(Ue(s))return n}function $o(n,s){if(n==="change")return s}var nn=!1;if(d){var Gs;if(d){var as="oninput"in document;if(!as){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),as=typeof Wn.oninput=="function"}Gs=as}else Gs=!1;nn=Gs&&(!document.documentMode||9<document.documentMode)}function nu(){Na&&(Na.detachEvent("onpropertychange",Hs),Fa=Na=null)}function Hs(n){if(n.propertyName==="value"&&Vo(Fa)){var s=[];Wo(s,Fa,n,_t(n)),xa(Oa,s)}}function Fc(n,s,h){n==="focusin"?(nu(),Na=s,Fa=h,Na.attachEvent("onpropertychange",Hs)):n==="focusout"&&nu()}function mh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vo(Fa)}function Ht(n,s){if(n==="click")return Vo(s)}function iu(n,s){if(n==="input"||n==="change")return Vo(s)}function gh(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var sn=typeof Object.is=="function"?Object.is:gh;function os(n,s){if(sn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var h=Object.keys(n),f=Object.keys(s);if(h.length!==f.length)return!1;for(f=0;f<h.length;f++){var y=h[f];if(!p.call(s,y)||!sn(n[y],s[y]))return!1}return!0}function su(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ls(n,s){var h=su(n);n=0;for(var f;h;){if(h.nodeType===3){if(f=n+h.textContent.length,n<=s&&f>=s)return{node:h,offset:s-n};n=f}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=su(h)}}function Bt(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Bt(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ir(){for(var n=window,s=We();s instanceof n.HTMLIFrameElement;){try{var h=typeof s.contentWindow.location.href=="string"}catch{h=!1}if(h)n=s.contentWindow;else break;s=We(n.document)}return s}function Qt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function au(n){var s=ir(),h=n.focusedElem,f=n.selectionRange;if(s!==h&&h&&h.ownerDocument&&Bt(h.ownerDocument.documentElement,h)){if(f!==null&&Qt(h)){if(s=f.start,n=f.end,n===void 0&&(n=s),"selectionStart"in h)h.selectionStart=s,h.selectionEnd=Math.min(n,h.value.length);else if(n=(s=h.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var y=h.textContent.length,E=Math.min(f.start,y);f=f.end===void 0?E:Math.min(f.end,y),!n.extend&&E>f&&(y=f,f=E,E=y),y=ls(h,E);var I=ls(h,f);y&&I&&(n.rangeCount!==1||n.anchorNode!==y.node||n.anchorOffset!==y.offset||n.focusNode!==I.node||n.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(y.node,y.offset),n.removeAllRanges(),E>f?(n.addRange(s),n.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),n.addRange(s)))}}for(s=[],n=h;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<s.length;h++)n=s[h],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Xo=d&&"documentMode"in document&&11>=document.documentMode,si=null,yh=null,Kt=null,Yo=!1;function ou(n,s,h){var f=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Yo||si==null||si!==We(f)||(f=si,"selectionStart"in f&&Qt(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Kt&&os(Kt,f)||(Kt=f,f=Ko(yh,"onSelect"),0<f.length&&(s=new Pt("onSelect","select",null,s,h),n.push({event:s,listeners:f}),s.target=si)))}function La(n,s){var h={};return h[n.toLowerCase()]=s.toLowerCase(),h["Webkit"+n]="webkit"+s,h["Moz"+n]="moz"+s,h}var Fr={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},Vr={},Ba={};d&&(Ba=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Ua(n){if(Vr[n])return Vr[n];if(!Fr[n])return n;var s=Fr[n],h;for(h in s)if(s.hasOwnProperty(h)&&h in Ba)return Vr[n]=s[h];return n}var lu=Ua("animationend"),vh=Ua("animationiteration"),_h=Ua("animationstart"),xh=Ua("transitionend"),wh=new Map,Eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ai(n,s){wh.set(n,s),o(s,[n])}for(var uu=0;uu<Eh.length;uu++){var hu=Eh[uu],qo=hu.toLowerCase(),Oc=hu[0].toUpperCase()+hu.slice(1);Ai(qo,"on"+Oc)}Ai(lu,"onAnimationEnd"),Ai(vh,"onAnimationIteration"),Ai(_h,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(xh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cu=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function Sh(n,s,h){var f=n.type||"unknown-event";n.currentTarget=h,Hl(f,s,void 0,n),n.currentTarget=null}function du(n,s){s=(s&4)!==0;for(var h=0;h<n.length;h++){var f=n[h],y=f.event;f=f.listeners;e:{var E=void 0;if(s)for(var I=f.length-1;0<=I;I--){var j=f[I],V=j.instance,ae=j.currentTarget;if(j=j.listener,V!==E&&y.isPropagationStopped())break e;Sh(y,j,ae),E=V}else for(I=0;I<f.length;I++){if(j=f[I],V=j.instance,ae=j.currentTarget,j=j.listener,V!==E&&y.isPropagationStopped())break e;Sh(y,j,ae),E=V}}}if(es)throw n=vi,es=!1,vi=null,n}function Rt(n,s){var h=s[Ar];h===void 0&&(h=s[Ar]=new Set);var f=n+"__bubble";h.has(f)||(pu(s,n,2,!1),h.add(f))}function fu(n,s,h){var f=0;s&&(f|=4),pu(h,n,f,s)}var Qo="_reactListening"+Math.random().toString(36).slice(2);function za(n){if(!n[Qo]){n[Qo]=!0,r.forEach(function(h){h!=="selectionchange"&&(cu.has(h)||fu(h,!1,n),fu(h,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Qo]||(s[Qo]=!0,fu("selectionchange",!1,s))}}function pu(n,s,h,f){switch(rn(s)){case 1:var y=Ta;break;case 4:y=Aa;break;default:y=Ca}h=y.bind(null,s,h,n),y=void 0,!wa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),f?y!==void 0?n.addEventListener(s,h,{capture:!0,passive:y}):n.addEventListener(s,h,!0):y!==void 0?n.addEventListener(s,h,{passive:y}):n.addEventListener(s,h,!1)}function mu(n,s,h,f,y){var E=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var j=f.stateNode.containerInfo;if(j===y||j.nodeType===8&&j.parentNode===y)break;if(I===4)for(I=f.return;I!==null;){var V=I.tag;if((V===3||V===4)&&(V=I.stateNode.containerInfo,V===y||V.nodeType===8&&V.parentNode===y))return;I=I.return}for(;j!==null;){if(I=hs(j),I===null)return;if(V=I.tag,V===5||V===6){f=E=I;continue e}j=j.parentNode}}f=f.return}xa(function(){var ae=E,xe=_t(h),Ee=[];e:{var ve=wh.get(n);if(ve!==void 0){var Fe=Pt,Ge=n;switch(n){case"keypress":if(Bo(h)===0)break e;case"keydown":case"keyup":Fe=ka;break;case"focusin":Ge="focus",Fe=Uo;break;case"focusout":Ge="blur",Fe=Uo;break;case"beforeblur":case"afterblur":Fe=Uo;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=Pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=Ic;break;case lu:case vh:case _h:Fe=eu;break;case xh:Fe=is;break;case"scroll":Fe=Hn;break;case"wheel":Fe=Mc;break;case"copy":case"cut":case"paste":Fe=jn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=ns}var $e=(s&4)!==0,lr=!$e&&n==="scroll",ee=$e?ve!==null?ve+"Capture":null:ve;$e=[];for(var Y=ae,ne;Y!==null;){ne=Y;var Ce=ne.stateNode;if(ne.tag===5&&Ce!==null&&(ne=Ce,ee!==null&&(Ce=Zi(Y,ee),Ce!=null&&$e.push(Ga(Y,Ce,ne)))),lr)break;Y=Y.return}0<$e.length&&(ve=new Fe(ve,Ge,null,h,xe),Ee.push({event:ve,listeners:$e}))}}if((s&7)===0){e:{if(ve=n==="mouseover"||n==="pointerover",Fe=n==="mouseout"||n==="pointerout",ve&&h!==ht&&(Ge=h.relatedTarget||h.fromElement)&&(hs(Ge)||Ge[jt]))break e;if((Fe||ve)&&(ve=xe.window===xe?xe:(ve=xe.ownerDocument)?ve.defaultView||ve.parentWindow:window,Fe?(Ge=h.relatedTarget||h.toElement,Fe=ae,Ge=Ge?hs(Ge):null,Ge!==null&&(lr=zn(Ge),Ge!==lr||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Fe=null,Ge=ae),Fe!==Ge)){if($e=ah,Ce="onMouseLeave",ee="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&($e=ns,Ce="onPointerLeave",ee="onPointerEnter",Y="pointer"),lr=Fe==null?ve:Ws(Fe),ne=Ge==null?ve:Ws(Ge),ve=new $e(Ce,Y+"leave",Fe,h,xe),ve.target=lr,ve.relatedTarget=ne,Ce=null,hs(xe)===ae&&($e=new $e(ee,Y+"enter",Ge,h,xe),$e.target=ne,$e.relatedTarget=lr,Ce=$e),lr=Ce,Fe&&Ge)t:{for($e=Fe,ee=Ge,Y=0,ne=$e;ne;ne=Ha(ne))Y++;for(ne=0,Ce=ee;Ce;Ce=Ha(Ce))ne++;for(;0<Y-ne;)$e=Ha($e),Y--;for(;0<ne-Y;)ee=Ha(ee),ne--;for(;Y--;){if($e===ee||ee!==null&&$e===ee.alternate)break t;$e=Ha($e),ee=Ha(ee)}$e=null}else $e=null;Fe!==null&&bh(Ee,ve,Fe,$e,!1),Ge!==null&&lr!==null&&bh(Ee,lr,Ge,$e,!0)}}e:{if(ve=ae?Ws(ae):window,Fe=ve.nodeName&&ve.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&ve.type==="file")var Ye=$o;else if(Da(ve))if(nn)Ye=iu;else{Ye=mh;var Ze=Fc}else(Fe=ve.nodeName)&&Fe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ye=Ht);if(Ye&&(Ye=Ye(n,ae))){Wo(Ee,Ye,h,xe);break e}Ze&&Ze(n,ve,ae),n==="focusout"&&(Ze=ve._wrapperState)&&Ze.controlled&&ve.type==="number"&&Jn(ve,"number",ve.value)}switch(Ze=ae?Ws(ae):window,n){case"focusin":(Da(Ze)||Ze.contentEditable==="true")&&(si=Ze,yh=ae,Kt=null);break;case"focusout":Kt=yh=si=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,ou(Ee,h,xe);break;case"selectionchange":if(Xo)break;case"keydown":case"keyup":ou(Ee,h,xe)}var Je;if(ii)e:{switch(n){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else zs?ru(n,h)&&(rt="onCompositionEnd"):n==="keydown"&&h.keyCode===229&&(rt="onCompositionStart");rt&&(Ho&&h.locale!=="ko"&&(zs||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&zs&&(Je=rs()):(Wr=xe,yn="value"in Wr?Wr.value:Wr.textContent,zs=!0)),Ze=Ko(ae,rt),0<Ze.length&&(rt=new zo(rt,n,null,h,xe),Ee.push({event:rt,listeners:Ze}),Je?rt.data=Je:(Je=jo(h),Je!==null&&(rt.data=Je)))),(Je=kc?Dc(n,h):Nc(n,h))&&(ae=Ko(ae,"onBeforeInput"),0<ae.length&&(xe=new zo("onBeforeInput","beforeinput",null,h,xe),Ee.push({event:xe,listeners:ae}),xe.data=Je))}du(Ee,s)})}function Ga(n,s,h){return{instance:n,listener:s,currentTarget:h}}function Ko(n,s){for(var h=s+"Capture",f=[];n!==null;){var y=n,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Zi(n,h),E!=null&&f.unshift(Ga(n,E,y)),E=Zi(n,s),E!=null&&f.push(Ga(n,E,y))),n=n.return}return f}function Ha(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bh(n,s,h,f,y){for(var E=s._reactName,I=[];h!==null&&h!==f;){var j=h,V=j.alternate,ae=j.stateNode;if(V!==null&&V===f)break;j.tag===5&&ae!==null&&(j=ae,y?(V=Zi(h,E),V!=null&&I.unshift(Ga(h,V,j))):y||(V=Zi(h,E),V!=null&&I.push(Ga(h,V,j)))),h=h.return}I.length!==0&&n.push({event:s,listeners:I})}var If=/\r\n?/g,Mf=/\u0000|\uFFFD/g;function Th(n){return(typeof n=="string"?n:""+n).replace(If,`
`).replace(Mf,"")}function Zo(n,s,h){if(s=Th(s),Th(n)!==s&&h)throw Error(t(425))}function Jo(){}var ja=null,Ah=null;function Ch(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,Wa=typeof clearTimeout=="function"?clearTimeout:void 0,gu=typeof Promise=="function"?Promise:void 0,Rh=typeof queueMicrotask=="function"?queueMicrotask:typeof gu<"u"?function(n){return gu.resolve(null).then(n).catch(kf)}:Ph;function kf(n){setTimeout(function(){throw n})}function yu(n,s){var h=s,f=0;do{var y=h.nextSibling;if(n.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(f===0){n.removeChild(y),Os(s);return}f--}else h!=="$"&&h!=="$?"&&h!=="$!"||f++;h=y}while(h);Os(s)}function Ci(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Ih(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var h=n.data;if(h==="$"||h==="$!"||h==="$?"){if(s===0)return n;s--}else h==="/$"&&s++}n=n.previousSibling}return null}var js=Math.random().toString(36).slice(2),Vn="__reactFiber$"+js,el="__reactProps$"+js,jt="__reactContainer$"+js,Ar="__reactEvents$"+js,Lc="__reactListeners$"+js,Bc="__reactHandles$"+js;function hs(n){var s=n[Vn];if(s)return s;for(var h=n.parentNode;h;){if(s=h[jt]||h[Vn]){if(h=s.alternate,s.child!==null||h!==null&&h.child!==null)for(n=Ih(n);n!==null;){if(h=n[Vn])return h;n=Ih(n)}return s}n=h,h=n.parentNode}return null}function Va(n){return n=n[Vn]||n[jt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ws(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function $a(n){return n[el]||null}var vu=[],cs=-1;function Pi(n){return{current:n}}function It(n){0>cs||(n.current=vu[cs],vu[cs]=null,cs--)}function xt(n,s){cs++,vu[cs]=n.current,n.current=s}var xn={},sr=Pi(xn),vr=Pi(!1),Ri=xn;function ds(n,s){var h=n.type.contextTypes;if(!h)return xn;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in h)y[E]=s[E];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=y),y}function Or(n){return n=n.childContextTypes,n!=null}function Xa(){It(vr),It(sr)}function tl(n,s,h){if(sr.current!==xn)throw Error(t(168));xt(sr,s),xt(vr,h)}function Mh(n,s,h){var f=n.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return h;f=f.getChildContext();for(var y in f)if(!(y in s))throw Error(t(108,_e(n)||"Unknown",y));return D({},h,f)}function Ya(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||xn,Ri=sr.current,xt(sr,n),xt(vr,vr.current),!0}function kh(n,s,h){var f=n.stateNode;if(!f)throw Error(t(169));h?(n=Mh(n,s,Ri),f.__reactInternalMemoizedMergedChildContext=n,It(vr),It(sr),xt(sr,n)):It(vr),xt(vr,h)}var wn=null,En=!1,Sn=!1;function Dh(n){wn===null?wn=[n]:wn.push(n)}function Uc(n){En=!0,Dh(n)}function bn(){if(!Sn&&wn!==null){Sn=!0;var n=0,s=pt;try{var h=wn;for(pt=1;n<h.length;n++){var f=h[n];do f=f(!0);while(f!==null)}wn=null,En=!1}catch(y){throw wn!==null&&(wn=wn.slice(n+1)),Wl(Po,bn),y}finally{pt=s,Sn=!1}}return null}var Zt=[],qa=0,_u=null,Vs=0,Tt=[],Tn=0,Ne=null,$r=1,ai="";function fs(n,s){Zt[qa++]=Vs,Zt[qa++]=_u,_u=n,Vs=s}function Qa(n,s,h){Tt[Tn++]=$r,Tt[Tn++]=ai,Tt[Tn++]=Ne,Ne=n;var f=$r;n=ai;var y=32-fr(f)-1;f&=~(1<<y),h+=1;var E=32-fr(s)+y;if(30<E){var I=y-y%5;E=(f&(1<<I)-1).toString(32),f>>=I,y-=I,$r=1<<32-fr(s)+y|h<<y|f,ai=E+n}else $r=1<<E|h<<y|f,ai=n}function Ka(n){n.return!==null&&(fs(n,1),Qa(n,1,0))}function rl(n){for(;n===_u;)_u=Zt[--qa],Zt[qa]=null,Vs=Zt[--qa],Zt[qa]=null;for(;n===Ne;)Ne=Tt[--Tn],Tt[Tn]=null,ai=Tt[--Tn],Tt[Tn]=null,$r=Tt[--Tn],Tt[Tn]=null}var Xr=null,Yr=null,Ft=!1,an=null;function xu(n,s){var h=ci(5,null,null,0);h.elementType="DELETED",h.stateNode=s,h.return=n,s=n.deletions,s===null?(n.deletions=[h],n.flags|=16):s.push(h)}function Cr(n,s){switch(n.tag){case 5:var h=n.type;return s=s.nodeType!==1||h.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Xr=n,Yr=Ci(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Xr=n,Yr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(h=Ne!==null?{id:$r,overflow:ai}:null,n.memoizedState={dehydrated:s,treeContext:h,retryLane:1073741824},h=ci(18,null,null,0),h.stateNode=s,h.return=n,n.child=h,Xr=n,Yr=null,!0):!1;default:return!1}}function An(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Cn(n){if(Ft){var s=Yr;if(s){var h=s;if(!Cr(n,s)){if(An(n))throw Error(t(418));s=Ci(h.nextSibling);var f=Xr;s&&Cr(n,s)?xu(f,h):(n.flags=n.flags&-4097|2,Ft=!1,Xr=n)}}else{if(An(n))throw Error(t(418));n.flags=n.flags&-4097|2,Ft=!1,Xr=n}}}function wu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xr=n}function nl(n){if(n!==Xr)return!1;if(!Ft)return wu(n),Ft=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Ch(n.type,n.memoizedProps)),s&&(s=Yr)){if(An(n))throw Pn(),Error(t(418));for(;s;)xu(n,s),s=Ci(s.nextSibling)}if(wu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var h=n.data;if(h==="/$"){if(s===0){Yr=Ci(n.nextSibling);break e}s--}else h!=="$"&&h!=="$!"&&h!=="$?"||s++}n=n.nextSibling}Yr=null}}else Yr=Xr?Ci(n.stateNode.nextSibling):null;return!0}function Pn(){for(var n=Yr;n;)n=Ci(n.nextSibling)}function $s(){Yr=Xr=null,Ft=!1}function Rn(n){an===null?an=[n]:an.push(n)}var Df=W.ReactCurrentBatchConfig;function Za(n,s,h){if(n=h.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var f=h.stateNode}if(!f)throw Error(t(147,n));var y=f,E=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===E?s.ref:(s=function(I){var j=y.refs;I===null?delete j[E]:j[E]=I},s._stringRef=E,s)}if(typeof n!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,n))}return n}function il(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Nh(n){var s=n._init;return s(n._payload)}function Fh(n){function s(ee,Y){if(n){var ne=ee.deletions;ne===null?(ee.deletions=[Y],ee.flags|=16):ne.push(Y)}}function h(ee,Y){if(!n)return null;for(;Y!==null;)s(ee,Y),Y=Y.sibling;return null}function f(ee,Y){for(ee=new Map;Y!==null;)Y.key!==null?ee.set(Y.key,Y):ee.set(Y.index,Y),Y=Y.sibling;return ee}function y(ee,Y){return ee=lo(ee,Y),ee.index=0,ee.sibling=null,ee}function E(ee,Y,ne){return ee.index=ne,n?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<Y?(ee.flags|=2,Y):ne):(ee.flags|=2,Y)):(ee.flags|=1048576,Y)}function I(ee){return n&&ee.alternate===null&&(ee.flags|=2),ee}function j(ee,Y,ne,Ce){return Y===null||Y.tag!==6?(Y=np(ne,ee.mode,Ce),Y.return=ee,Y):(Y=y(Y,ne),Y.return=ee,Y)}function V(ee,Y,ne,Ce){var Ye=ne.type;return Ye===N?xe(ee,Y,ne.props.children,Ce,ne.key):Y!==null&&(Y.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===L&&Nh(Ye)===Y.type)?(Ce=y(Y,ne.props),Ce.ref=Za(ee,Y,ne),Ce.return=ee,Ce):(Ce=nd(ne.type,ne.key,ne.props,null,ee.mode,Ce),Ce.ref=Za(ee,Y,ne),Ce.return=ee,Ce)}function ae(ee,Y,ne,Ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=ip(ne,ee.mode,Ce),Y.return=ee,Y):(Y=y(Y,ne.children||[]),Y.return=ee,Y)}function xe(ee,Y,ne,Ce,Ye){return Y===null||Y.tag!==7?(Y=xl(ne,ee.mode,Ce,Ye),Y.return=ee,Y):(Y=y(Y,ne),Y.return=ee,Y)}function Ee(ee,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=np(""+Y,ee.mode,ne),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return ne=nd(Y.type,Y.key,Y.props,null,ee.mode,ne),ne.ref=Za(ee,null,Y),ne.return=ee,ne;case K:return Y=ip(Y,ee.mode,ne),Y.return=ee,Y;case L:var Ce=Y._init;return Ee(ee,Ce(Y._payload),ne)}if(cr(Y)||H(Y))return Y=xl(Y,ee.mode,ne,null),Y.return=ee,Y;il(ee,Y)}return null}function ve(ee,Y,ne,Ce){var Ye=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ye!==null?null:j(ee,Y,""+ne,Ce);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:return ne.key===Ye?V(ee,Y,ne,Ce):null;case K:return ne.key===Ye?ae(ee,Y,ne,Ce):null;case L:return Ye=ne._init,ve(ee,Y,Ye(ne._payload),Ce)}if(cr(ne)||H(ne))return Ye!==null?null:xe(ee,Y,ne,Ce,null);il(ee,ne)}return null}function Fe(ee,Y,ne,Ce,Ye){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ee=ee.get(ne)||null,j(Y,ee,""+Ce,Ye);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case B:return ee=ee.get(Ce.key===null?ne:Ce.key)||null,V(Y,ee,Ce,Ye);case K:return ee=ee.get(Ce.key===null?ne:Ce.key)||null,ae(Y,ee,Ce,Ye);case L:var Ze=Ce._init;return Fe(ee,Y,ne,Ze(Ce._payload),Ye)}if(cr(Ce)||H(Ce))return ee=ee.get(ne)||null,xe(Y,ee,Ce,Ye,null);il(Y,Ce)}return null}function Ge(ee,Y,ne,Ce){for(var Ye=null,Ze=null,Je=Y,rt=Y=0,Ir=null;Je!==null&&rt<ne.length;rt++){Je.index>rt?(Ir=Je,Je=null):Ir=Je.sibling;var wt=ve(ee,Je,ne[rt],Ce);if(wt===null){Je===null&&(Je=Ir);break}n&&Je&&wt.alternate===null&&s(ee,Je),Y=E(wt,Y,rt),Ze===null?Ye=wt:Ze.sibling=wt,Ze=wt,Je=Ir}if(rt===ne.length)return h(ee,Je),Ft&&fs(ee,rt),Ye;if(Je===null){for(;rt<ne.length;rt++)Je=Ee(ee,ne[rt],Ce),Je!==null&&(Y=E(Je,Y,rt),Ze===null?Ye=Je:Ze.sibling=Je,Ze=Je);return Ft&&fs(ee,rt),Ye}for(Je=f(ee,Je);rt<ne.length;rt++)Ir=Fe(Je,ee,rt,ne[rt],Ce),Ir!==null&&(n&&Ir.alternate!==null&&Je.delete(Ir.key===null?rt:Ir.key),Y=E(Ir,Y,rt),Ze===null?Ye=Ir:Ze.sibling=Ir,Ze=Ir);return n&&Je.forEach(function(uo){return s(ee,uo)}),Ft&&fs(ee,rt),Ye}function $e(ee,Y,ne,Ce){var Ye=H(ne);if(typeof Ye!="function")throw Error(t(150));if(ne=Ye.call(ne),ne==null)throw Error(t(151));for(var Ze=Ye=null,Je=Y,rt=Y=0,Ir=null,wt=ne.next();Je!==null&&!wt.done;rt++,wt=ne.next()){Je.index>rt?(Ir=Je,Je=null):Ir=Je.sibling;var uo=ve(ee,Je,wt.value,Ce);if(uo===null){Je===null&&(Je=Ir);break}n&&Je&&uo.alternate===null&&s(ee,Je),Y=E(uo,Y,rt),Ze===null?Ye=uo:Ze.sibling=uo,Ze=uo,Je=Ir}if(wt.done)return h(ee,Je),Ft&&fs(ee,rt),Ye;if(Je===null){for(;!wt.done;rt++,wt=ne.next())wt=Ee(ee,wt.value,Ce),wt!==null&&(Y=E(wt,Y,rt),Ze===null?Ye=wt:Ze.sibling=wt,Ze=wt);return Ft&&fs(ee,rt),Ye}for(Je=f(ee,Je);!wt.done;rt++,wt=ne.next())wt=Fe(Je,ee,rt,wt.value,Ce),wt!==null&&(n&&wt.alternate!==null&&Je.delete(wt.key===null?rt:wt.key),Y=E(wt,Y,rt),Ze===null?Ye=wt:Ze.sibling=wt,Ze=wt);return n&&Je.forEach(function(m1){return s(ee,m1)}),Ft&&fs(ee,rt),Ye}function lr(ee,Y,ne,Ce){if(typeof ne=="object"&&ne!==null&&ne.type===N&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:e:{for(var Ye=ne.key,Ze=Y;Ze!==null;){if(Ze.key===Ye){if(Ye=ne.type,Ye===N){if(Ze.tag===7){h(ee,Ze.sibling),Y=y(Ze,ne.props.children),Y.return=ee,ee=Y;break e}}else if(Ze.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===L&&Nh(Ye)===Ze.type){h(ee,Ze.sibling),Y=y(Ze,ne.props),Y.ref=Za(ee,Ze,ne),Y.return=ee,ee=Y;break e}h(ee,Ze);break}else s(ee,Ze);Ze=Ze.sibling}ne.type===N?(Y=xl(ne.props.children,ee.mode,Ce,ne.key),Y.return=ee,ee=Y):(Ce=nd(ne.type,ne.key,ne.props,null,ee.mode,Ce),Ce.ref=Za(ee,Y,ne),Ce.return=ee,ee=Ce)}return I(ee);case K:e:{for(Ze=ne.key;Y!==null;){if(Y.key===Ze)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){h(ee,Y.sibling),Y=y(Y,ne.children||[]),Y.return=ee,ee=Y;break e}else{h(ee,Y);break}else s(ee,Y);Y=Y.sibling}Y=ip(ne,ee.mode,Ce),Y.return=ee,ee=Y}return I(ee);case L:return Ze=ne._init,lr(ee,Y,Ze(ne._payload),Ce)}if(cr(ne))return Ge(ee,Y,ne,Ce);if(H(ne))return $e(ee,Y,ne,Ce);il(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(h(ee,Y.sibling),Y=y(Y,ne),Y.return=ee,ee=Y):(h(ee,Y),Y=np(ne,ee.mode,Ce),Y.return=ee,ee=Y),I(ee)):h(ee,Y)}return lr}var Ii=Fh(!0),sl=Fh(!1),Xs=Pi(null),Ys=null,Mi=null,qs=null;function al(){qs=Mi=Ys=null}function ol(n){var s=Xs.current;It(Xs),n._currentValue=s}function ll(n,s,h){for(;n!==null;){var f=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),n===h)break;n=n.return}}function Qs(n,s){Ys=n,qs=Mi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(q=!0),n.firstContext=null)}function qr(n){var s=n._currentValue;if(qs!==n)if(n={context:n,memoizedValue:s,next:null},Mi===null){if(Ys===null)throw Error(t(308));Mi=n,Ys.dependencies={lanes:0,firstContext:n}}else Mi=Mi.next=n;return s}var Ks=null;function Ja(n){Ks===null?Ks=[n]:Ks.push(n)}function Eu(n,s,h,f){var y=s.interleaved;return y===null?(h.next=h,Ja(s)):(h.next=y.next,y.next=h),s.interleaved=h,St(n,f)}function St(n,s){n.lanes|=s;var h=n.alternate;for(h!==null&&(h.lanes|=s),h=n,n=n.return;n!==null;)n.childLanes|=s,h=n.alternate,h!==null&&(h.childLanes|=s),h=n,n=n.return;return h.tag===3?h.stateNode:null}var nt=!1;function Jt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xt(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ot(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function er(n,s,h){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(vt&2)!==0){var y=f.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),f.pending=s,St(n,h)}return y=f.interleaved,y===null?(s.next=s,Ja(f)):(s.next=y.next,y.next=s),f.interleaved=s,St(n,h)}function ki(n,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194240)!==0)){var f=s.lanes;f&=n.pendingLanes,h|=f,s.lanes=h,Mo(n,h)}}function tr(n,s){var h=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,h===f)){var y=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var I={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?y=E=I:E=E.next=I,h=h.next}while(h!==null);E===null?y=E=s:E=E.next=s}else y=E=s;h={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:f.shared,effects:f.effects},n.updateQueue=h;return}n=h.lastBaseUpdate,n===null?h.firstBaseUpdate=s:n.next=s,h.lastBaseUpdate=s}function ps(n,s,h,f){var y=n.updateQueue;nt=!1;var E=y.firstBaseUpdate,I=y.lastBaseUpdate,j=y.shared.pending;if(j!==null){y.shared.pending=null;var V=j,ae=V.next;V.next=null,I===null?E=ae:I.next=ae,I=V;var xe=n.alternate;xe!==null&&(xe=xe.updateQueue,j=xe.lastBaseUpdate,j!==I&&(j===null?xe.firstBaseUpdate=ae:j.next=ae,xe.lastBaseUpdate=V))}if(E!==null){var Ee=y.baseState;I=0,xe=ae=V=null,j=E;do{var ve=j.lane,Fe=j.eventTime;if((f&ve)===ve){xe!==null&&(xe=xe.next={eventTime:Fe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var Ge=n,$e=j;switch(ve=s,Fe=h,$e.tag){case 1:if(Ge=$e.payload,typeof Ge=="function"){Ee=Ge.call(Fe,Ee,ve);break e}Ee=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=$e.payload,ve=typeof Ge=="function"?Ge.call(Fe,Ee,ve):Ge,ve==null)break e;Ee=D({},Ee,ve);break e;case 2:nt=!0}}j.callback!==null&&j.lane!==0&&(n.flags|=64,ve=y.effects,ve===null?y.effects=[j]:ve.push(j))}else Fe={eventTime:Fe,lane:ve,tag:j.tag,payload:j.payload,callback:j.callback,next:null},xe===null?(ae=xe=Fe,V=Ee):xe=xe.next=Fe,I|=ve;if(j=j.next,j===null){if(j=y.shared.pending,j===null)break;ve=j,j=ve.next,ve.next=null,y.lastBaseUpdate=ve,y.shared.pending=null}}while(!0);if(xe===null&&(V=Ee),y.baseState=V,y.firstBaseUpdate=ae,y.lastBaseUpdate=xe,s=y.shared.interleaved,s!==null){y=s;do I|=y.lane,y=y.next;while(y!==s)}else E===null&&(y.shared.lanes=0);gl|=I,n.lanes=I,n.memoizedState=Ee}}function ms(n,s,h){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var f=n[s],y=f.callback;if(y!==null){if(f.callback=null,f=h,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var gs={},In=Pi(gs),Di=Pi(gs),_r=Pi(gs);function Ni(n){if(n===gs)throw Error(t(174));return n}function ul(n,s){switch(xt(_r,s),xt(Di,n),xt(In,gs),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ma(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=ma(s,n)}It(In),xt(In,s)}function on(){It(In),It(Di),It(_r)}function Zs(n){Ni(_r.current);var s=Ni(In.current),h=ma(s,n.type);s!==h&&(xt(Di,n),xt(In,h))}function Su(n){Di.current===n&&(It(In),It(Di))}var Mt=Pi(0);function eo(n){for(var s=n;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var oi=[];function to(){for(var n=0;n<oi.length;n++)oi[n]._workInProgressVersionPrimary=null;oi.length=0}var $n=W.ReactCurrentDispatcher,ro=W.ReactCurrentBatchConfig,Xn=0,Lt=null,Wt=null,Yt=null,ar=!1,Mn=!1,Pr=0,Qr=0;function xr(){throw Error(t(321))}function hl(n,s){if(s===null)return!1;for(var h=0;h<s.length&&h<n.length;h++)if(!sn(n[h],s[h]))return!1;return!0}function cl(n,s,h,f,y,E){if(Xn=E,Lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$n.current=n===null||n.memoizedState===null?Ru:Ff,n=h(f,y),Mn){E=0;do{if(Mn=!1,Pr=0,25<=E)throw Error(t(301));E+=1,Yt=Wt=null,s.updateQueue=null,$n.current=Of,n=h(f,y)}while(Mn)}if($n.current=ml,s=Wt!==null&&Wt.next!==null,Xn=0,Yt=Wt=Lt=null,ar=!1,s)throw Error(t(300));return n}function li(){var n=Pr!==0;return Pr=0,n}function Yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Lt.memoizedState=Yt=n:Yt=Yt.next=n,Yt}function ln(){if(Wt===null){var n=Lt.alternate;n=n!==null?n.memoizedState:null}else n=Wt.next;var s=Yt===null?Lt.memoizedState:Yt.next;if(s!==null)Yt=s,Wt=n;else{if(n===null)throw Error(t(310));Wt=n,n={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Yt===null?Lt.memoizedState=Yt=n:Yt=Yt.next=n}return Yt}function Js(n,s){return typeof s=="function"?s(n):s}function Fi(n){var s=ln(),h=s.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=n;var f=Wt,y=f.baseQueue,E=h.pending;if(E!==null){if(y!==null){var I=y.next;y.next=E.next,E.next=I}f.baseQueue=y=E,h.pending=null}if(y!==null){E=y.next,f=f.baseState;var j=I=null,V=null,ae=E;do{var xe=ae.lane;if((Xn&xe)===xe)V!==null&&(V=V.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),f=ae.hasEagerState?ae.eagerState:n(f,ae.action);else{var Ee={lane:xe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};V===null?(j=V=Ee,I=f):V=V.next=Ee,Lt.lanes|=xe,gl|=xe}ae=ae.next}while(ae!==null&&ae!==E);V===null?I=f:V.next=j,sn(f,s.memoizedState)||(q=!0),s.memoizedState=f,s.baseState=I,s.baseQueue=V,h.lastRenderedState=f}if(n=h.interleaved,n!==null){y=n;do E=y.lane,Lt.lanes|=E,gl|=E,y=y.next;while(y!==n)}else y===null&&(h.lanes=0);return[s.memoizedState,h.dispatch]}function bu(n){var s=ln(),h=s.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=n;var f=h.dispatch,y=h.pending,E=s.memoizedState;if(y!==null){h.pending=null;var I=y=y.next;do E=n(E,I.action),I=I.next;while(I!==y);sn(E,s.memoizedState)||(q=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),h.lastRenderedState=E}return[E,f]}function Oh(){}function Tu(n,s){var h=Lt,f=ln(),y=s(),E=!sn(f.memoizedState,y);if(E&&(f.memoizedState=y,q=!0),f=f.queue,Gh(Gc.bind(null,h,f,n),[n]),f.getSnapshot!==s||E||Yt!==null&&Yt.memoizedState.tag&1){if(h.flags|=2048,qn(9,zc.bind(null,h,f,y,s),void 0,null),Rr===null)throw Error(t(349));(Xn&30)!==0||dl(h,s,y)}return y}function dl(n,s,h){n.flags|=16384,n={getSnapshot:s,value:h},s=Lt.updateQueue,s===null?(s={lastEffect:null,stores:null},Lt.updateQueue=s,s.stores=[n]):(h=s.stores,h===null?s.stores=[n]:h.push(n))}function zc(n,s,h,f){s.value=h,s.getSnapshot=f,Lh(s)&&Bh(n)}function Gc(n,s,h){return h(function(){Lh(s)&&Bh(n)})}function Lh(n){var s=n.getSnapshot;n=n.value;try{var h=s();return!sn(n,h)}catch{return!0}}function Bh(n){var s=St(n,1);s!==null&&Ui(s,n,1,-1)}function ea(n){var s=Yn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:n},s.queue=n,n=n.dispatch=Nf.bind(null,Lt,n),[s.memoizedState,n]}function qn(n,s,h,f){return n={tag:n,create:s,destroy:h,deps:f,next:null},s=Lt.updateQueue,s===null?(s={lastEffect:null,stores:null},Lt.updateQueue=s,s.lastEffect=n.next=n):(h=s.lastEffect,h===null?s.lastEffect=n.next=n:(f=h.next,h.next=n,n.next=f,s.lastEffect=n)),n}function Uh(){return ln().memoizedState}function At(n,s,h,f){var y=Yn();Lt.flags|=n,y.memoizedState=qn(1|s,h,void 0,f===void 0?null:f)}function Au(n,s,h,f){var y=ln();f=f===void 0?null:f;var E=void 0;if(Wt!==null){var I=Wt.memoizedState;if(E=I.destroy,f!==null&&hl(f,I.deps)){y.memoizedState=qn(s,h,E,f);return}}Lt.flags|=n,y.memoizedState=qn(1|s,h,E,f)}function zh(n,s){return At(8390656,8,n,s)}function Gh(n,s){return Au(2048,8,n,s)}function Hc(n,s){return Au(4,2,n,s)}function Hh(n,s){return Au(4,4,n,s)}function jc(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function un(n,s,h){return h=h!=null?h.concat([n]):null,Au(4,4,jc.bind(null,s,n),h)}function fl(){}function Oi(n,s){var h=ln();s=s===void 0?null:s;var f=h.memoizedState;return f!==null&&s!==null&&hl(s,f[1])?f[0]:(h.memoizedState=[n,s],n)}function pl(n,s){var h=ln();s=s===void 0?null:s;var f=h.memoizedState;return f!==null&&s!==null&&hl(s,f[1])?f[0]:(n=n(),h.memoizedState=[n,s],n)}function ys(n,s,h){return(Xn&21)===0?(n.baseState&&(n.baseState=!1,q=!0),n.memoizedState=h):(sn(h,s)||(h=mn(),Lt.lanes|=h,gl|=h,n.baseState=!0),s)}function Cu(n,s){var h=pt;pt=h!==0&&4>h?h:4,n(!0);var f=ro.transition;ro.transition={};try{n(!1),s()}finally{pt=h,ro.transition=f}}function Pu(){return ln().memoizedState}function jh(n,s,h){var f=ao(n);if(h={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null},Wh(n))Vh(s,h);else if(h=Eu(n,s,h,f),h!==null){var y=hn();Ui(h,n,f,y),$h(h,s,f)}}function Nf(n,s,h){var f=ao(n),y={lane:f,action:h,hasEagerState:!1,eagerState:null,next:null};if(Wh(n))Vh(s,y);else{var E=n.alternate;if(n.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var I=s.lastRenderedState,j=E(I,h);if(y.hasEagerState=!0,y.eagerState=j,sn(j,I)){var V=s.interleaved;V===null?(y.next=y,Ja(s)):(y.next=V.next,V.next=y),s.interleaved=y;return}}catch{}finally{}h=Eu(n,s,y,f),h!==null&&(y=hn(),Ui(h,n,f,y),$h(h,s,f))}}function Wh(n){var s=n.alternate;return n===Lt||s!==null&&s===Lt}function Vh(n,s){Mn=ar=!0;var h=n.pending;h===null?s.next=s:(s.next=h.next,h.next=s),n.pending=s}function $h(n,s,h){if((h&4194240)!==0){var f=s.lanes;f&=n.pendingLanes,h|=f,s.lanes=h,Mo(n,h)}}var ml={readContext:qr,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},Ru={readContext:qr,useCallback:function(n,s){return Yn().memoizedState=[n,s===void 0?null:s],n},useContext:qr,useEffect:zh,useImperativeHandle:function(n,s,h){return h=h!=null?h.concat([n]):null,At(4194308,4,jc.bind(null,s,n),h)},useLayoutEffect:function(n,s){return At(4194308,4,n,s)},useInsertionEffect:function(n,s){return At(4,2,n,s)},useMemo:function(n,s){var h=Yn();return s=s===void 0?null:s,n=n(),h.memoizedState=[n,s],n},useReducer:function(n,s,h){var f=Yn();return s=h!==void 0?h(s):s,f.memoizedState=f.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},f.queue=n,n=n.dispatch=jh.bind(null,Lt,n),[f.memoizedState,n]},useRef:function(n){var s=Yn();return n={current:n},s.memoizedState=n},useState:ea,useDebugValue:fl,useDeferredValue:function(n){return Yn().memoizedState=n},useTransition:function(){var n=ea(!1),s=n[0];return n=Cu.bind(null,n[1]),Yn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,h){var f=Lt,y=Yn();if(Ft){if(h===void 0)throw Error(t(407));h=h()}else{if(h=s(),Rr===null)throw Error(t(349));(Xn&30)!==0||dl(f,s,h)}y.memoizedState=h;var E={value:h,getSnapshot:s};return y.queue=E,zh(Gc.bind(null,f,E,n),[n]),f.flags|=2048,qn(9,zc.bind(null,f,E,h,s),void 0,null),h},useId:function(){var n=Yn(),s=Rr.identifierPrefix;if(Ft){var h=ai,f=$r;h=(f&~(1<<32-fr(f)-1)).toString(32)+h,s=":"+s+"R"+h,h=Pr++,0<h&&(s+="H"+h.toString(32)),s+=":"}else h=Qr++,s=":"+s+"r"+h.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},Ff={readContext:qr,useCallback:Oi,useContext:qr,useEffect:Gh,useImperativeHandle:un,useInsertionEffect:Hc,useLayoutEffect:Hh,useMemo:pl,useReducer:Fi,useRef:Uh,useState:function(){return Fi(Js)},useDebugValue:fl,useDeferredValue:function(n){var s=ln();return ys(s,Wt.memoizedState,n)},useTransition:function(){var n=Fi(Js)[0],s=ln().memoizedState;return[n,s]},useMutableSource:Oh,useSyncExternalStore:Tu,useId:Pu,unstable_isNewReconciler:!1},Of={readContext:qr,useCallback:Oi,useContext:qr,useEffect:Gh,useImperativeHandle:un,useInsertionEffect:Hc,useLayoutEffect:Hh,useMemo:pl,useReducer:bu,useRef:Uh,useState:function(){return bu(Js)},useDebugValue:fl,useDeferredValue:function(n){var s=ln();return Wt===null?s.memoizedState=n:ys(s,Wt.memoizedState,n)},useTransition:function(){var n=bu(Js)[0],s=ln().memoizedState;return[n,s]},useMutableSource:Oh,useSyncExternalStore:Tu,useId:Pu,unstable_isNewReconciler:!1};function l(n,s){if(n&&n.defaultProps){s=D({},s),n=n.defaultProps;for(var h in n)s[h]===void 0&&(s[h]=n[h]);return s}return s}function u(n,s,h,f){s=n.memoizedState,h=h(f,s),h=h==null?s:D({},s,h),n.memoizedState=h,n.lanes===0&&(n.updateQueue.baseState=h)}var m={isMounted:function(n){return(n=n._reactInternals)?zn(n)===n:!1},enqueueSetState:function(n,s,h){n=n._reactInternals;var f=hn(),y=ao(n),E=Ot(f,y);E.payload=s,h!=null&&(E.callback=h),s=er(n,E,y),s!==null&&(Ui(s,n,y,f),ki(s,n,y))},enqueueReplaceState:function(n,s,h){n=n._reactInternals;var f=hn(),y=ao(n),E=Ot(f,y);E.tag=1,E.payload=s,h!=null&&(E.callback=h),s=er(n,E,y),s!==null&&(Ui(s,n,y,f),ki(s,n,y))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var h=hn(),f=ao(n),y=Ot(h,f);y.tag=2,s!=null&&(y.callback=s),s=er(n,y,f),s!==null&&(Ui(s,n,f,h),ki(s,n,f))}};function v(n,s,h,f,y,E,I){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,E,I):s.prototype&&s.prototype.isPureReactComponent?!os(h,f)||!os(y,E):!0}function x(n,s,h){var f=!1,y=xn,E=s.contextType;return typeof E=="object"&&E!==null?E=qr(E):(y=Or(s)?Ri:sr.current,f=s.contextTypes,E=(f=f!=null)?ds(n,y):xn),s=new s(h,E),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=m,n.stateNode=s,s._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=y,n.__reactInternalMemoizedMaskedChildContext=E),s}function T(n,s,h,f){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,f),s.state!==n&&m.enqueueReplaceState(s,s.state,null)}function F(n,s,h,f){var y=n.stateNode;y.props=h,y.state=n.memoizedState,y.refs={},Jt(n);var E=s.contextType;typeof E=="object"&&E!==null?y.context=qr(E):(E=Or(s)?Ri:sr.current,y.context=ds(n,E)),y.state=n.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(u(n,s,E,h),y.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(s=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),s!==y.state&&m.enqueueReplaceState(y,y.state,null),ps(n,h,y,f),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308)}function $(n,s){try{var h="",f=s;do h+=ue(f),f=f.return;while(f);var y=h}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:n,source:s,stack:y,digest:null}}function te(n,s,h){return{value:n,source:null,stack:h??null,digest:s??null}}function he(n,s){try{console.error(s.value)}catch(h){setTimeout(function(){throw h})}}var me=typeof WeakMap=="function"?WeakMap:Map;function Ie(n,s,h){h=Ot(-1,h),h.tag=3,h.payload={element:null};var f=s.value;return h.callback=function(){Kc||(Kc=!0,qf=f),he(n,s)},h}function de(n,s,h){h=Ot(-1,h),h.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var y=s.value;h.payload=function(){return f(y)},h.callback=function(){he(n,s)}}var E=n.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){he(n,s),typeof f!="function"&&(io===null?io=new Set([this]):io.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),h}function Se(n,s,h){var f=n.pingCache;if(f===null){f=n.pingCache=new me;var y=new Set;f.set(s,y)}else y=f.get(s),y===void 0&&(y=new Set,f.set(s,y));y.has(h)||(y.add(h),n=i1.bind(null,n,s,h),s.then(n,n))}function ze(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function st(n,s,h,f,y){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(s=Ot(-1,1),s.tag=2,er(h,s,1))),h.lanes|=1),n):(n.flags|=65536,n.lanes=y,n)}var ge=W.ReactCurrentOwner,q=!1;function oe(n,s,h,f){s.child=n===null?sl(s,null,h,f):Ii(s,n.child,h,f)}function we(n,s,h,f,y){h=h.render;var E=s.ref;return Qs(s,y),f=cl(n,s,h,f,E,y),h=li(),n!==null&&!q?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~y,ta(n,s,y)):(Ft&&h&&Ka(s),s.flags|=1,oe(n,s,f,y),s.child)}function Qe(n,s,h,f,y){if(n===null){var E=h.type;return typeof E=="function"&&!rp(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(s.tag=15,s.type=E,gt(n,s,E,f,y)):(n=nd(h.type,null,f,s,s.mode,y),n.ref=s.ref,n.return=s,s.child=n)}if(E=n.child,(n.lanes&y)===0){var I=E.memoizedProps;if(h=h.compare,h=h!==null?h:os,h(I,f)&&n.ref===s.ref)return ta(n,s,y)}return s.flags|=1,n=lo(E,f),n.ref=s.ref,n.return=s,s.child=n}function gt(n,s,h,f,y){if(n!==null){var E=n.memoizedProps;if(os(E,f)&&n.ref===s.ref)if(q=!1,s.pendingProps=f=E,(n.lanes&y)!==0)(n.flags&131072)!==0&&(q=!0);else return s.lanes=n.lanes,ta(n,s,y)}return or(n,s,h,f,y)}function je(n,s,h){var f=s.pendingProps,y=f.children,E=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Mu,Qn),Qn|=h;else{if((h&1073741824)===0)return n=E!==null?E.baseLanes|h:h,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,xt(Mu,Qn),Qn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=E!==null?E.baseLanes:h,xt(Mu,Qn),Qn|=f}else E!==null?(f=E.baseLanes|h,s.memoizedState=null):f=h,xt(Mu,Qn),Qn|=f;return oe(n,s,y,h),s.child}function mt(n,s){var h=s.ref;(n===null&&h!==null||n!==null&&n.ref!==h)&&(s.flags|=512,s.flags|=2097152)}function or(n,s,h,f,y){var E=Or(h)?Ri:sr.current;return E=ds(s,E),Qs(s,y),h=cl(n,s,h,f,E,y),f=li(),n!==null&&!q?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~y,ta(n,s,y)):(Ft&&f&&Ka(s),s.flags|=1,oe(n,s,h,y),s.child)}function yt(n,s,h,f,y){if(Or(h)){var E=!0;Ya(s)}else E=!1;if(Qs(s,y),s.stateNode===null)$c(n,s),x(s,h,f),F(s,h,f,y),f=!0;else if(n===null){var I=s.stateNode,j=s.memoizedProps;I.props=j;var V=I.context,ae=h.contextType;typeof ae=="object"&&ae!==null?ae=qr(ae):(ae=Or(h)?Ri:sr.current,ae=ds(s,ae));var xe=h.getDerivedStateFromProps,Ee=typeof xe=="function"||typeof I.getSnapshotBeforeUpdate=="function";Ee||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(j!==f||V!==ae)&&T(s,I,f,ae),nt=!1;var ve=s.memoizedState;I.state=ve,ps(s,f,I,y),V=s.memoizedState,j!==f||ve!==V||vr.current||nt?(typeof xe=="function"&&(u(s,h,xe,f),V=s.memoizedState),(j=nt||v(s,h,j,f,ve,V,ae))?(Ee||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=V),I.props=f,I.state=V,I.context=ae,f=j):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{I=s.stateNode,Xt(n,s),j=s.memoizedProps,ae=s.type===s.elementType?j:l(s.type,j),I.props=ae,Ee=s.pendingProps,ve=I.context,V=h.contextType,typeof V=="object"&&V!==null?V=qr(V):(V=Or(h)?Ri:sr.current,V=ds(s,V));var Fe=h.getDerivedStateFromProps;(xe=typeof Fe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(j!==Ee||ve!==V)&&T(s,I,f,V),nt=!1,ve=s.memoizedState,I.state=ve,ps(s,f,I,y);var Ge=s.memoizedState;j!==Ee||ve!==Ge||vr.current||nt?(typeof Fe=="function"&&(u(s,h,Fe,f),Ge=s.memoizedState),(ae=nt||v(s,h,ae,f,ve,Ge,V)||!1)?(xe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,Ge,V),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,Ge,V)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||j===n.memoizedProps&&ve===n.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&ve===n.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Ge),I.props=f,I.state=Ge,I.context=V,f=ae):(typeof I.componentDidUpdate!="function"||j===n.memoizedProps&&ve===n.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&ve===n.memoizedState||(s.flags|=1024),f=!1)}return ui(n,s,h,f,E,y)}function ui(n,s,h,f,y,E){mt(n,s);var I=(s.flags&128)!==0;if(!f&&!I)return y&&kh(s,h,!1),ta(n,s,E);f=s.stateNode,ge.current=s;var j=I&&typeof h.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,n!==null&&I?(s.child=Ii(s,n.child,null,E),s.child=Ii(s,null,j,E)):oe(n,s,j,E),s.memoizedState=f.state,y&&kh(s,h,!0),s.child}function Wc(n){var s=n.stateNode;s.pendingContext?tl(n,s.pendingContext,s.pendingContext!==s.context):s.context&&tl(n,s.context,!1),ul(n,s.containerInfo)}function Xg(n,s,h,f,y){return $s(),Rn(y),s.flags|=256,oe(n,s,h,f),s.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function Bf(n){return{baseLanes:n,cachePool:null,transitions:null}}function Yg(n,s,h){var f=s.pendingProps,y=Mt.current,E=!1,I=(s.flags&128)!==0,j;if((j=I)||(j=n!==null&&n.memoizedState===null?!1:(y&2)!==0),j?(E=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(y|=1),xt(Mt,y&1),n===null)return Cn(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=f.children,n=f.fallback,E?(f=s.mode,E=s.child,I={mode:"hidden",children:I},(f&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=I):E=id(I,f,0,null),n=xl(n,f,h,null),E.return=s,n.return=s,E.sibling=n,s.child=E,s.child.memoizedState=Bf(h),s.memoizedState=Lf,n):Uf(s,I));if(y=n.memoizedState,y!==null&&(j=y.dehydrated,j!==null))return $x(n,s,I,f,j,y,h);if(E){E=f.fallback,I=s.mode,y=n.child,j=y.sibling;var V={mode:"hidden",children:f.children};return(I&1)===0&&s.child!==y?(f=s.child,f.childLanes=0,f.pendingProps=V,s.deletions=null):(f=lo(y,V),f.subtreeFlags=y.subtreeFlags&14680064),j!==null?E=lo(j,E):(E=xl(E,I,h,null),E.flags|=2),E.return=s,f.return=s,f.sibling=E,s.child=f,f=E,E=s.child,I=n.child.memoizedState,I=I===null?Bf(h):{baseLanes:I.baseLanes|h,cachePool:null,transitions:I.transitions},E.memoizedState=I,E.childLanes=n.childLanes&~h,s.memoizedState=Lf,f}return E=n.child,n=E.sibling,f=lo(E,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=h),f.return=s,f.sibling=null,n!==null&&(h=s.deletions,h===null?(s.deletions=[n],s.flags|=16):h.push(n)),s.child=f,s.memoizedState=null,f}function Uf(n,s){return s=id({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Vc(n,s,h,f){return f!==null&&Rn(f),Ii(s,n.child,null,h),n=Uf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function $x(n,s,h,f,y,E,I){if(h)return s.flags&256?(s.flags&=-257,f=te(Error(t(422))),Vc(n,s,I,f)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(E=f.fallback,y=s.mode,f=id({mode:"visible",children:f.children},y,0,null),E=xl(E,y,I,null),E.flags|=2,f.return=s,E.return=s,f.sibling=E,s.child=f,(s.mode&1)!==0&&Ii(s,n.child,null,I),s.child.memoizedState=Bf(I),s.memoizedState=Lf,E);if((s.mode&1)===0)return Vc(n,s,I,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var j=f.dgst;return f=j,E=Error(t(419)),f=te(E,f,void 0),Vc(n,s,I,f)}if(j=(I&n.childLanes)!==0,q||j){if(f=Rr,f!==null){switch(I&-I){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|I))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,St(n,y),Ui(f,n,y,-1))}return tp(),f=te(Error(t(421))),Vc(n,s,I,f)}return y.data==="$?"?(s.flags|=128,s.child=n.child,s=s1.bind(null,n),y._reactRetry=s,null):(n=E.treeContext,Yr=Ci(y.nextSibling),Xr=s,Ft=!0,an=null,n!==null&&(Tt[Tn++]=$r,Tt[Tn++]=ai,Tt[Tn++]=Ne,$r=n.id,ai=n.overflow,Ne=s),s=Uf(s,f.children),s.flags|=4096,s)}function qg(n,s,h){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s),ll(n.return,s,h)}function zf(n,s,h,f,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:h,tailMode:y}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=h,E.tailMode=y)}function Qg(n,s,h){var f=s.pendingProps,y=f.revealOrder,E=f.tail;if(oe(n,s,f.children,h),f=Mt.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qg(n,h,s);else if(n.tag===19)qg(n,h,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(xt(Mt,f),(s.mode&1)===0)s.memoizedState=null;else switch(y){case"forwards":for(h=s.child,y=null;h!==null;)n=h.alternate,n!==null&&eo(n)===null&&(y=h),h=h.sibling;h=y,h===null?(y=s.child,s.child=null):(y=h.sibling,h.sibling=null),zf(s,!1,y,h,E);break;case"backwards":for(h=null,y=s.child,s.child=null;y!==null;){if(n=y.alternate,n!==null&&eo(n)===null){s.child=y;break}n=y.sibling,y.sibling=h,h=y,y=n}zf(s,!0,h,null,E);break;case"together":zf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $c(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function ta(n,s,h){if(n!==null&&(s.dependencies=n.dependencies),gl|=s.lanes,(h&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,h=lo(n,n.pendingProps),s.child=h,h.return=s;n.sibling!==null;)n=n.sibling,h=h.sibling=lo(n,n.pendingProps),h.return=s;h.sibling=null}return s.child}function Xx(n,s,h){switch(s.tag){case 3:Wc(s),$s();break;case 5:Zs(s);break;case 1:Or(s.type)&&Ya(s);break;case 4:ul(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,y=s.memoizedProps.value;xt(Xs,f._currentValue),f._currentValue=y;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(xt(Mt,Mt.current&1),s.flags|=128,null):(h&s.child.childLanes)!==0?Yg(n,s,h):(xt(Mt,Mt.current&1),n=ta(n,s,h),n!==null?n.sibling:null);xt(Mt,Mt.current&1);break;case 19:if(f=(h&s.childLanes)!==0,(n.flags&128)!==0){if(f)return Qg(n,s,h);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),xt(Mt,Mt.current),f)break;return null;case 22:case 23:return s.lanes=0,je(n,s,h)}return ta(n,s,h)}var Kg,Gf,Zg,Jg;Kg=function(n,s){for(var h=s.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Gf=function(){},Zg=function(n,s,h,f){var y=n.memoizedProps;if(y!==f){n=s.stateNode,Ni(In.current);var E=null;switch(h){case"input":y=ot(n,y),f=ot(n,f),E=[];break;case"select":y=D({},y,{value:void 0}),f=D({},f,{value:void 0}),E=[];break;case"textarea":y=ei(n,y),f=ei(n,f),E=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=Jo)}re(h,f);var I;h=null;for(ae in y)if(!f.hasOwnProperty(ae)&&y.hasOwnProperty(ae)&&y[ae]!=null)if(ae==="style"){var j=y[ae];for(I in j)j.hasOwnProperty(I)&&(h||(h={}),h[I]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(a.hasOwnProperty(ae)?E||(E=[]):(E=E||[]).push(ae,null));for(ae in f){var V=f[ae];if(j=y!=null?y[ae]:void 0,f.hasOwnProperty(ae)&&V!==j&&(V!=null||j!=null))if(ae==="style")if(j){for(I in j)!j.hasOwnProperty(I)||V&&V.hasOwnProperty(I)||(h||(h={}),h[I]="");for(I in V)V.hasOwnProperty(I)&&j[I]!==V[I]&&(h||(h={}),h[I]=V[I])}else h||(E||(E=[]),E.push(ae,h)),h=V;else ae==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,j=j?j.__html:void 0,V!=null&&j!==V&&(E=E||[]).push(ae,V)):ae==="children"?typeof V!="string"&&typeof V!="number"||(E=E||[]).push(ae,""+V):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(a.hasOwnProperty(ae)?(V!=null&&ae==="onScroll"&&Rt("scroll",n),E||j===V||(E=[])):(E=E||[]).push(ae,V))}h&&(E=E||[]).push("style",h);var ae=E;(s.updateQueue=ae)&&(s.flags|=4)}},Jg=function(n,s,h,f){h!==f&&(s.flags|=4)};function Xh(n,s){if(!Ft)switch(n.tailMode){case"hidden":s=n.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?n.tail=null:h.sibling=null;break;case"collapsed":h=n.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Kr(n){var s=n.alternate!==null&&n.alternate.child===n.child,h=0,f=0;if(s)for(var y=n.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)h|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=f,n.childLanes=h,s}function Yx(n,s,h){var f=s.pendingProps;switch(rl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(s),null;case 1:return Or(s.type)&&Xa(),Kr(s),null;case 3:return f=s.stateNode,on(),It(vr),It(sr),to(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(nl(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,an!==null&&(Zf(an),an=null))),Gf(n,s),Kr(s),null;case 5:Su(s);var y=Ni(_r.current);if(h=s.type,n!==null&&s.stateNode!=null)Zg(n,s,h,f,y),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(t(166));return Kr(s),null}if(n=Ni(In.current),nl(s)){f=s.stateNode,h=s.type;var E=s.memoizedProps;switch(f[Vn]=s,f[el]=E,n=(s.mode&1)!==0,h){case"dialog":Rt("cancel",f),Rt("close",f);break;case"iframe":case"object":case"embed":Rt("load",f);break;case"video":case"audio":for(y=0;y<us.length;y++)Rt(us[y],f);break;case"source":Rt("error",f);break;case"img":case"image":case"link":Rt("error",f),Rt("load",f);break;case"details":Rt("toggle",f);break;case"input":He(f,E),Rt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!E.multiple},Rt("invalid",f);break;case"textarea":gi(f,E),Rt("invalid",f)}re(h,E),y=null;for(var I in E)if(E.hasOwnProperty(I)){var j=E[I];I==="children"?typeof j=="string"?f.textContent!==j&&(E.suppressHydrationWarning!==!0&&Zo(f.textContent,j,n),y=["children",j]):typeof j=="number"&&f.textContent!==""+j&&(E.suppressHydrationWarning!==!0&&Zo(f.textContent,j,n),y=["children",""+j]):a.hasOwnProperty(I)&&j!=null&&I==="onScroll"&&Rt("scroll",f)}switch(h){case"input":Me(f),Gt(f,E,!0);break;case"textarea":Me(f),Bl(f);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(f.onclick=Jo)}f=y,s.updateQueue=f,f!==null&&(s.flags|=4)}else{I=y.nodeType===9?y:y.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ul(h)),n==="http://www.w3.org/1999/xhtml"?h==="script"?(n=I.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=I.createElement(h,{is:f.is}):(n=I.createElement(h),h==="select"&&(I=n,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):n=I.createElementNS(n,h),n[Vn]=s,n[el]=f,Kg(n,s,!1,!1),s.stateNode=n;e:{switch(I=se(h,f),h){case"dialog":Rt("cancel",n),Rt("close",n),y=f;break;case"iframe":case"object":case"embed":Rt("load",n),y=f;break;case"video":case"audio":for(y=0;y<us.length;y++)Rt(us[y],n);y=f;break;case"source":Rt("error",n),y=f;break;case"img":case"image":case"link":Rt("error",n),Rt("load",n),y=f;break;case"details":Rt("toggle",n),y=f;break;case"input":He(n,f),y=ot(n,f),Rt("invalid",n);break;case"option":y=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},y=D({},f,{value:void 0}),Rt("invalid",n);break;case"textarea":gi(n,f),y=ei(n,f),Rt("invalid",n);break;default:y=f}re(h,y),j=y;for(E in j)if(j.hasOwnProperty(E)){var V=j[E];E==="style"?ya(n,V):E==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Qi(n,V)):E==="children"?typeof V=="string"?(h!=="textarea"||V!=="")&&yi(n,V):typeof V=="number"&&yi(n,""+V):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?V!=null&&E==="onScroll"&&Rt("scroll",n):V!=null&&O(n,E,V,I))}switch(h){case"input":Me(n),Gt(n,f,!1);break;case"textarea":Me(n),Bl(n);break;case"option":f.value!=null&&n.setAttribute("value",""+be(f.value));break;case"select":n.multiple=!!f.multiple,E=f.value,E!=null?dr(n,!!f.multiple,E,!1):f.defaultValue!=null&&dr(n,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(n.onclick=Jo)}switch(h){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Kr(s),null;case 6:if(n&&s.stateNode!=null)Jg(n,s,n.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(t(166));if(h=Ni(_r.current),Ni(In.current),nl(s)){if(f=s.stateNode,h=s.memoizedProps,f[Vn]=s,(E=f.nodeValue!==h)&&(n=Xr,n!==null))switch(n.tag){case 3:Zo(f.nodeValue,h,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Zo(f.nodeValue,h,(n.mode&1)!==0)}E&&(s.flags|=4)}else f=(h.nodeType===9?h:h.ownerDocument).createTextNode(f),f[Vn]=s,s.stateNode=f}return Kr(s),null;case 13:if(It(Mt),f=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ft&&Yr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Pn(),$s(),s.flags|=98560,E=!1;else if(E=nl(s),f!==null&&f.dehydrated!==null){if(n===null){if(!E)throw Error(t(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[Vn]=s}else $s(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Kr(s),E=!1}else an!==null&&(Zf(an),an=null),E=!0;if(!E)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=h,s):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Mt.current&1)!==0?wr===0&&(wr=3):tp())),s.updateQueue!==null&&(s.flags|=4),Kr(s),null);case 4:return on(),Gf(n,s),n===null&&za(s.stateNode.containerInfo),Kr(s),null;case 10:return ol(s.type._context),Kr(s),null;case 17:return Or(s.type)&&Xa(),Kr(s),null;case 19:if(It(Mt),E=s.memoizedState,E===null)return Kr(s),null;if(f=(s.flags&128)!==0,I=E.rendering,I===null)if(f)Xh(E,!1);else{if(wr!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(I=eo(n),I!==null){for(s.flags|=128,Xh(E,!1),f=I.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=h,h=s.child;h!==null;)E=h,n=f,E.flags&=14680066,I=E.alternate,I===null?(E.childLanes=0,E.lanes=n,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=I.childLanes,E.lanes=I.lanes,E.child=I.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=I.memoizedProps,E.memoizedState=I.memoizedState,E.updateQueue=I.updateQueue,E.type=I.type,n=I.dependencies,E.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),h=h.sibling;return xt(Mt,Mt.current&1|2),s.child}n=n.sibling}E.tail!==null&&$t()>ku&&(s.flags|=128,f=!0,Xh(E,!1),s.lanes=4194304)}else{if(!f)if(n=eo(I),n!==null){if(s.flags|=128,f=!0,h=n.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),Xh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!Ft)return Kr(s),null}else 2*$t()-E.renderingStartTime>ku&&h!==1073741824&&(s.flags|=128,f=!0,Xh(E,!1),s.lanes=4194304);E.isBackwards?(I.sibling=s.child,s.child=I):(h=E.last,h!==null?h.sibling=I:s.child=I,E.last=I)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=$t(),s.sibling=null,h=Mt.current,xt(Mt,f?h&1|2:h&1),s):(Kr(s),null);case 22:case 23:return ep(),f=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(Qn&1073741824)!==0&&(Kr(s),s.subtreeFlags&6&&(s.flags|=8192)):Kr(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function qx(n,s){switch(rl(s),s.tag){case 1:return Or(s.type)&&Xa(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return on(),It(vr),It(sr),to(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Su(s),null;case 13:if(It(Mt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));$s()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return It(Mt),null;case 4:return on(),null;case 10:return ol(s.type._context),null;case 22:case 23:return ep(),null;case 24:return null;default:return null}}var Xc=!1,Zr=!1,Qx=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Iu(n,s){var h=n.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){rr(n,s,f)}else h.current=null}function Hf(n,s,h){try{h()}catch(f){rr(n,s,f)}}var ey=!1;function Kx(n,s){if(ja=tn,n=ir(),Qt(n)){if("selectionStart"in n)var h={start:n.selectionStart,end:n.selectionEnd};else e:{h=(h=n.ownerDocument)&&h.defaultView||window;var f=h.getSelection&&h.getSelection();if(f&&f.rangeCount!==0){h=f.anchorNode;var y=f.anchorOffset,E=f.focusNode;f=f.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var I=0,j=-1,V=-1,ae=0,xe=0,Ee=n,ve=null;t:for(;;){for(var Fe;Ee!==h||y!==0&&Ee.nodeType!==3||(j=I+y),Ee!==E||f!==0&&Ee.nodeType!==3||(V=I+f),Ee.nodeType===3&&(I+=Ee.nodeValue.length),(Fe=Ee.firstChild)!==null;)ve=Ee,Ee=Fe;for(;;){if(Ee===n)break t;if(ve===h&&++ae===y&&(j=I),ve===E&&++xe===f&&(V=I),(Fe=Ee.nextSibling)!==null)break;Ee=ve,ve=Ee.parentNode}Ee=Fe}h=j===-1||V===-1?null:{start:j,end:V}}else h=null}h=h||{start:0,end:0}}else h=null;for(Ah={focusedElem:n,selectionRange:h},tn=!1,Be=s;Be!==null;)if(s=Be,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Be=n;else for(;Be!==null;){s=Be;try{var Ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var $e=Ge.memoizedProps,lr=Ge.memoizedState,ee=s.stateNode,Y=ee.getSnapshotBeforeUpdate(s.elementType===s.type?$e:l(s.type,$e),lr);ee.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=s.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ce){rr(s,s.return,Ce)}if(n=s.sibling,n!==null){n.return=s.return,Be=n;break}Be=s.return}return Ge=ey,ey=!1,Ge}function Yh(n,s,h){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&n)===n){var E=y.destroy;y.destroy=void 0,E!==void 0&&Hf(s,h,E)}y=y.next}while(y!==f)}}function Yc(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var h=s=s.next;do{if((h.tag&n)===n){var f=h.create;h.destroy=f()}h=h.next}while(h!==s)}}function jf(n){var s=n.ref;if(s!==null){var h=n.stateNode;switch(n.tag){case 5:n=h;break;default:n=h}typeof s=="function"?s(n):s.current=n}}function ty(n){var s=n.alternate;s!==null&&(n.alternate=null,ty(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Vn],delete s[el],delete s[Ar],delete s[Lc],delete s[Bc])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function ry(n){return n.tag===5||n.tag===3||n.tag===4}function ny(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ry(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wf(n,s,h){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?h.nodeType===8?h.parentNode.insertBefore(n,s):h.insertBefore(n,s):(h.nodeType===8?(s=h.parentNode,s.insertBefore(n,h)):(s=h,s.appendChild(n)),h=h._reactRootContainer,h!=null||s.onclick!==null||(s.onclick=Jo));else if(f!==4&&(n=n.child,n!==null))for(Wf(n,s,h),n=n.sibling;n!==null;)Wf(n,s,h),n=n.sibling}function Vf(n,s,h){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?h.insertBefore(n,s):h.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(Vf(n,s,h),n=n.sibling;n!==null;)Vf(n,s,h),n=n.sibling}var Lr=null,Li=!1;function no(n,s,h){for(h=h.child;h!==null;)iy(n,s,h),h=h.sibling}function iy(n,s,h){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Gn,h)}catch{}switch(h.tag){case 5:Zr||Iu(h,s);case 6:var f=Lr,y=Li;Lr=null,no(n,s,h),Lr=f,Li=y,Lr!==null&&(Li?(n=Lr,h=h.stateNode,n.nodeType===8?n.parentNode.removeChild(h):n.removeChild(h)):Lr.removeChild(h.stateNode));break;case 18:Lr!==null&&(Li?(n=Lr,h=h.stateNode,n.nodeType===8?yu(n.parentNode,h):n.nodeType===1&&yu(n,h),Os(n)):yu(Lr,h.stateNode));break;case 4:f=Lr,y=Li,Lr=h.stateNode.containerInfo,Li=!0,no(n,s,h),Lr=f,Li=y;break;case 0:case 11:case 14:case 15:if(!Zr&&(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var E=y,I=E.destroy;E=E.tag,I!==void 0&&((E&2)!==0||(E&4)!==0)&&Hf(h,s,I),y=y.next}while(y!==f)}no(n,s,h);break;case 1:if(!Zr&&(Iu(h,s),f=h.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(j){rr(h,s,j)}no(n,s,h);break;case 21:no(n,s,h);break;case 22:h.mode&1?(Zr=(f=Zr)||h.memoizedState!==null,no(n,s,h),Zr=f):no(n,s,h);break;default:no(n,s,h)}}function sy(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var h=n.stateNode;h===null&&(h=n.stateNode=new Qx),s.forEach(function(f){var y=a1.bind(null,n,f);h.has(f)||(h.add(f),f.then(y,y))})}}function Bi(n,s){var h=s.deletions;if(h!==null)for(var f=0;f<h.length;f++){var y=h[f];try{var E=n,I=s,j=I;e:for(;j!==null;){switch(j.tag){case 5:Lr=j.stateNode,Li=!1;break e;case 3:Lr=j.stateNode.containerInfo,Li=!0;break e;case 4:Lr=j.stateNode.containerInfo,Li=!0;break e}j=j.return}if(Lr===null)throw Error(t(160));iy(E,I,y),Lr=null,Li=!1;var V=y.alternate;V!==null&&(V.return=null),y.return=null}catch(ae){rr(y,s,ae)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ay(s,n),s=s.sibling}function ay(n,s){var h=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Bi(s,n),vs(n),f&4){try{Yh(3,n,n.return),Yc(3,n)}catch($e){rr(n,n.return,$e)}try{Yh(5,n,n.return)}catch($e){rr(n,n.return,$e)}}break;case 1:Bi(s,n),vs(n),f&512&&h!==null&&Iu(h,h.return);break;case 5:if(Bi(s,n),vs(n),f&512&&h!==null&&Iu(h,h.return),n.flags&32){var y=n.stateNode;try{yi(y,"")}catch($e){rr(n,n.return,$e)}}if(f&4&&(y=n.stateNode,y!=null)){var E=n.memoizedProps,I=h!==null?h.memoizedProps:E,j=n.type,V=n.updateQueue;if(n.updateQueue=null,V!==null)try{j==="input"&&E.type==="radio"&&E.name!=null&&Ve(y,E),se(j,I);var ae=se(j,E);for(I=0;I<V.length;I+=2){var xe=V[I],Ee=V[I+1];xe==="style"?ya(y,Ee):xe==="dangerouslySetInnerHTML"?Qi(y,Ee):xe==="children"?yi(y,Ee):O(y,xe,Ee,ae)}switch(j){case"input":kt(y,E);break;case"textarea":Jr(y,E);break;case"select":var ve=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Fe=E.value;Fe!=null?dr(y,!!E.multiple,Fe,!1):ve!==!!E.multiple&&(E.defaultValue!=null?dr(y,!!E.multiple,E.defaultValue,!0):dr(y,!!E.multiple,E.multiple?[]:"",!1))}y[el]=E}catch($e){rr(n,n.return,$e)}}break;case 6:if(Bi(s,n),vs(n),f&4){if(n.stateNode===null)throw Error(t(162));y=n.stateNode,E=n.memoizedProps;try{y.nodeValue=E}catch($e){rr(n,n.return,$e)}}break;case 3:if(Bi(s,n),vs(n),f&4&&h!==null&&h.memoizedState.isDehydrated)try{Os(s.containerInfo)}catch($e){rr(n,n.return,$e)}break;case 4:Bi(s,n),vs(n);break;case 13:Bi(s,n),vs(n),y=n.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(Yf=$t())),f&4&&sy(n);break;case 22:if(xe=h!==null&&h.memoizedState!==null,n.mode&1?(Zr=(ae=Zr)||xe,Bi(s,n),Zr=ae):Bi(s,n),vs(n),f&8192){if(ae=n.memoizedState!==null,(n.stateNode.isHidden=ae)&&!xe&&(n.mode&1)!==0)for(Be=n,xe=n.child;xe!==null;){for(Ee=Be=xe;Be!==null;){switch(ve=Be,Fe=ve.child,ve.tag){case 0:case 11:case 14:case 15:Yh(4,ve,ve.return);break;case 1:Iu(ve,ve.return);var Ge=ve.stateNode;if(typeof Ge.componentWillUnmount=="function"){f=ve,h=ve.return;try{s=f,Ge.props=s.memoizedProps,Ge.state=s.memoizedState,Ge.componentWillUnmount()}catch($e){rr(f,h,$e)}}break;case 5:Iu(ve,ve.return);break;case 22:if(ve.memoizedState!==null){uy(Ee);continue}}Fe!==null?(Fe.return=ve,Be=Fe):uy(Ee)}xe=xe.sibling}e:for(xe=null,Ee=n;;){if(Ee.tag===5){if(xe===null){xe=Ee;try{y=Ee.stateNode,ae?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(j=Ee.stateNode,V=Ee.memoizedProps.style,I=V!=null&&V.hasOwnProperty("display")?V.display:null,j.style.display=zl("display",I))}catch($e){rr(n,n.return,$e)}}}else if(Ee.tag===6){if(xe===null)try{Ee.stateNode.nodeValue=ae?"":Ee.memoizedProps}catch($e){rr(n,n.return,$e)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===n)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===n)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===n)break e;xe===Ee&&(xe=null),Ee=Ee.return}xe===Ee&&(xe=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Bi(s,n),vs(n),f&4&&sy(n);break;case 21:break;default:Bi(s,n),vs(n)}}function vs(n){var s=n.flags;if(s&2){try{e:{for(var h=n.return;h!==null;){if(ry(h)){var f=h;break e}h=h.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(yi(y,""),f.flags&=-33);var E=ny(n);Vf(n,E,y);break;case 3:case 4:var I=f.stateNode.containerInfo,j=ny(n);Wf(n,j,I);break;default:throw Error(t(161))}}catch(V){rr(n,n.return,V)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Zx(n,s,h){Be=n,oy(n)}function oy(n,s,h){for(var f=(n.mode&1)!==0;Be!==null;){var y=Be,E=y.child;if(y.tag===22&&f){var I=y.memoizedState!==null||Xc;if(!I){var j=y.alternate,V=j!==null&&j.memoizedState!==null||Zr;j=Xc;var ae=Zr;if(Xc=I,(Zr=V)&&!ae)for(Be=y;Be!==null;)I=Be,V=I.child,I.tag===22&&I.memoizedState!==null?hy(y):V!==null?(V.return=I,Be=V):hy(y);for(;E!==null;)Be=E,oy(E),E=E.sibling;Be=y,Xc=j,Zr=ae}ly(n)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,Be=E):ly(n)}}function ly(n){for(;Be!==null;){var s=Be;if((s.flags&8772)!==0){var h=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Zr||Yc(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!Zr)if(h===null)f.componentDidMount();else{var y=s.elementType===s.type?h.memoizedProps:l(s.type,h.memoizedProps);f.componentDidUpdate(y,h.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var E=s.updateQueue;E!==null&&ms(s,E,f);break;case 3:var I=s.updateQueue;if(I!==null){if(h=null,s.child!==null)switch(s.child.tag){case 5:h=s.child.stateNode;break;case 1:h=s.child.stateNode}ms(s,I,h)}break;case 5:var j=s.stateNode;if(h===null&&s.flags&4){h=j;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&h.focus();break;case"img":V.src&&(h.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ae=s.alternate;if(ae!==null){var xe=ae.memoizedState;if(xe!==null){var Ee=xe.dehydrated;Ee!==null&&Os(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zr||s.flags&512&&jf(s)}catch(ve){rr(s,s.return,ve)}}if(s===n){Be=null;break}if(h=s.sibling,h!==null){h.return=s.return,Be=h;break}Be=s.return}}function uy(n){for(;Be!==null;){var s=Be;if(s===n){Be=null;break}var h=s.sibling;if(h!==null){h.return=s.return,Be=h;break}Be=s.return}}function hy(n){for(;Be!==null;){var s=Be;try{switch(s.tag){case 0:case 11:case 15:var h=s.return;try{Yc(4,s)}catch(V){rr(s,h,V)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var y=s.return;try{f.componentDidMount()}catch(V){rr(s,y,V)}}var E=s.return;try{jf(s)}catch(V){rr(s,E,V)}break;case 5:var I=s.return;try{jf(s)}catch(V){rr(s,I,V)}}}catch(V){rr(s,s.return,V)}if(s===n){Be=null;break}var j=s.sibling;if(j!==null){j.return=s.return,Be=j;break}Be=s.return}}var Jx=Math.ceil,qc=W.ReactCurrentDispatcher,$f=W.ReactCurrentOwner,hi=W.ReactCurrentBatchConfig,vt=0,Rr=null,pr=null,Br=0,Qn=0,Mu=Pi(0),wr=0,qh=null,gl=0,Qc=0,Xf=0,Qh=null,kn=null,Yf=0,ku=1/0,ra=null,Kc=!1,qf=null,io=null,Zc=!1,so=null,Jc=0,Kh=0,Qf=null,ed=-1,td=0;function hn(){return(vt&6)!==0?$t():ed!==-1?ed:ed=$t()}function ao(n){return(n.mode&1)===0?1:(vt&2)!==0&&Br!==0?Br&-Br:Df.transition!==null?(td===0&&(td=mn()),td):(n=pt,n!==0||(n=window.event,n=n===void 0?16:rn(n.type)),n)}function Ui(n,s,h,f){if(50<Kh)throw Kh=0,Qf=null,Error(t(185));Io(n,h,f),((vt&2)===0||n!==Rr)&&(n===Rr&&((vt&2)===0&&(Qc|=h),wr===4&&oo(n,Br)),Dn(n,f),h===1&&vt===0&&(s.mode&1)===0&&(ku=$t()+500,En&&bn()))}function Dn(n,s){var h=n.callbackNode;Xl(n,s);var f=Ro(n,n===Rr?Br:0);if(f===0)h!==null&&Ao(h),n.callbackNode=null,n.callbackPriority=0;else if(s=f&-f,n.callbackPriority!==s){if(h!=null&&Ao(h),s===1)n.tag===0?Uc(dy.bind(null,n)):Dh(dy.bind(null,n)),Rh(function(){(vt&6)===0&&bn()}),h=null;else{switch(ko(f)){case 1:h=Po;break;case 4:h=Vl;break;case 16:h=$l;break;case 536870912:h=Ds;break;default:h=$l}h=xy(h,cy.bind(null,n))}n.callbackPriority=s,n.callbackNode=h}}function cy(n,s){if(ed=-1,td=0,(vt&6)!==0)throw Error(t(327));var h=n.callbackNode;if(Du()&&n.callbackNode!==h)return null;var f=Ro(n,n===Rr?Br:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||s)s=rd(n,f);else{s=f;var y=vt;vt|=2;var E=py();(Rr!==n||Br!==s)&&(ra=null,ku=$t()+500,vl(n,s));do try{r1();break}catch(j){fy(n,j)}while(!0);al(),qc.current=E,vt=y,pr!==null?s=0:(Rr=null,Br=0,s=wr)}if(s!==0){if(s===2&&(y=Yl(n),y!==0&&(f=y,s=Kf(n,y))),s===1)throw h=qh,vl(n,0),oo(n,f),Dn(n,$t()),h;if(s===6)oo(n,f);else{if(y=n.current.alternate,(f&30)===0&&!e1(y)&&(s=rd(n,f),s===2&&(E=Yl(n),E!==0&&(f=E,s=Kf(n,E))),s===1))throw h=qh,vl(n,0),oo(n,f),Dn(n,$t()),h;switch(n.finishedWork=y,n.finishedLanes=f,s){case 0:case 1:throw Error(t(345));case 2:_l(n,kn,ra);break;case 3:if(oo(n,f),(f&130023424)===f&&(s=Yf+500-$t(),10<s)){if(Ro(n,0)!==0)break;if(y=n.suspendedLanes,(y&f)!==f){hn(),n.pingedLanes|=n.suspendedLanes&y;break}n.timeoutHandle=Ph(_l.bind(null,n,kn,ra),s);break}_l(n,kn,ra);break;case 4:if(oo(n,f),(f&4194240)===f)break;for(s=n.eventTimes,y=-1;0<f;){var I=31-fr(f);E=1<<I,I=s[I],I>y&&(y=I),f&=~E}if(f=y,f=$t()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Jx(f/1960))-f,10<f){n.timeoutHandle=Ph(_l.bind(null,n,kn,ra),f);break}_l(n,kn,ra);break;case 5:_l(n,kn,ra);break;default:throw Error(t(329))}}}return Dn(n,$t()),n.callbackNode===h?cy.bind(null,n):null}function Kf(n,s){var h=Qh;return n.current.memoizedState.isDehydrated&&(vl(n,s).flags|=256),n=rd(n,s),n!==2&&(s=kn,kn=h,s!==null&&Zf(s)),n}function Zf(n){kn===null?kn=n:kn.push.apply(kn,n)}function e1(n){for(var s=n;;){if(s.flags&16384){var h=s.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var f=0;f<h.length;f++){var y=h[f],E=y.getSnapshot;y=y.value;try{if(!sn(E(),y))return!1}catch{return!1}}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function oo(n,s){for(s&=~Xf,s&=~Qc,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var h=31-fr(s),f=1<<h;n[h]=-1,s&=~f}}function dy(n){if((vt&6)!==0)throw Error(t(327));Du();var s=Ro(n,0);if((s&1)===0)return Dn(n,$t()),null;var h=rd(n,s);if(n.tag!==0&&h===2){var f=Yl(n);f!==0&&(s=f,h=Kf(n,f))}if(h===1)throw h=qh,vl(n,0),oo(n,s),Dn(n,$t()),h;if(h===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,_l(n,kn,ra),Dn(n,$t()),null}function Jf(n,s){var h=vt;vt|=1;try{return n(s)}finally{vt=h,vt===0&&(ku=$t()+500,En&&bn())}}function yl(n){so!==null&&so.tag===0&&(vt&6)===0&&Du();var s=vt;vt|=1;var h=hi.transition,f=pt;try{if(hi.transition=null,pt=1,n)return n()}finally{pt=f,hi.transition=h,vt=s,(vt&6)===0&&bn()}}function ep(){Qn=Mu.current,It(Mu)}function vl(n,s){n.finishedWork=null,n.finishedLanes=0;var h=n.timeoutHandle;if(h!==-1&&(n.timeoutHandle=-1,Wa(h)),pr!==null)for(h=pr.return;h!==null;){var f=h;switch(rl(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Xa();break;case 3:on(),It(vr),It(sr),to();break;case 5:Su(f);break;case 4:on();break;case 13:It(Mt);break;case 19:It(Mt);break;case 10:ol(f.type._context);break;case 22:case 23:ep()}h=h.return}if(Rr=n,pr=n=lo(n.current,null),Br=Qn=s,wr=0,qh=null,Xf=Qc=gl=0,kn=Qh=null,Ks!==null){for(s=0;s<Ks.length;s++)if(h=Ks[s],f=h.interleaved,f!==null){h.interleaved=null;var y=f.next,E=h.pending;if(E!==null){var I=E.next;E.next=y,f.next=I}h.pending=f}Ks=null}return n}function fy(n,s){do{var h=pr;try{if(al(),$n.current=ml,ar){for(var f=Lt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}ar=!1}if(Xn=0,Yt=Wt=Lt=null,Mn=!1,Pr=0,$f.current=null,h===null||h.return===null){wr=1,qh=s,pr=null;break}e:{var E=n,I=h.return,j=h,V=s;if(s=Br,j.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var ae=V,xe=j,Ee=xe.tag;if((xe.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var ve=xe.alternate;ve?(xe.updateQueue=ve.updateQueue,xe.memoizedState=ve.memoizedState,xe.lanes=ve.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Fe=ze(I);if(Fe!==null){Fe.flags&=-257,st(Fe,I,j,E,s),Fe.mode&1&&Se(E,ae,s),s=Fe,V=ae;var Ge=s.updateQueue;if(Ge===null){var $e=new Set;$e.add(V),s.updateQueue=$e}else Ge.add(V);break e}else{if((s&1)===0){Se(E,ae,s),tp();break e}V=Error(t(426))}}else if(Ft&&j.mode&1){var lr=ze(I);if(lr!==null){(lr.flags&65536)===0&&(lr.flags|=256),st(lr,I,j,E,s),Rn($(V,j));break e}}E=V=$(V,j),wr!==4&&(wr=2),Qh===null?Qh=[E]:Qh.push(E),E=I;do{switch(E.tag){case 3:E.flags|=65536,s&=-s,E.lanes|=s;var ee=Ie(E,V,s);tr(E,ee);break e;case 1:j=V;var Y=E.type,ne=E.stateNode;if((E.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(io===null||!io.has(ne)))){E.flags|=65536,s&=-s,E.lanes|=s;var Ce=de(E,j,s);tr(E,Ce);break e}}E=E.return}while(E!==null)}gy(h)}catch(Ye){s=Ye,pr===h&&h!==null&&(pr=h=h.return);continue}break}while(!0)}function py(){var n=qc.current;return qc.current=ml,n===null?ml:n}function tp(){(wr===0||wr===3||wr===2)&&(wr=4),Rr===null||(gl&268435455)===0&&(Qc&268435455)===0||oo(Rr,Br)}function rd(n,s){var h=vt;vt|=2;var f=py();(Rr!==n||Br!==s)&&(ra=null,vl(n,s));do try{t1();break}catch(y){fy(n,y)}while(!0);if(al(),vt=h,qc.current=f,pr!==null)throw Error(t(261));return Rr=null,Br=0,wr}function t1(){for(;pr!==null;)my(pr)}function r1(){for(;pr!==null&&!Tf();)my(pr)}function my(n){var s=_y(n.alternate,n,Qn);n.memoizedProps=n.pendingProps,s===null?gy(n):pr=s,$f.current=null}function gy(n){var s=n;do{var h=s.alternate;if(n=s.return,(s.flags&32768)===0){if(h=Yx(h,s,Qn),h!==null){pr=h;return}}else{if(h=qx(h,s),h!==null){h.flags&=32767,pr=h;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{wr=6,pr=null;return}}if(s=s.sibling,s!==null){pr=s;return}pr=s=n}while(s!==null);wr===0&&(wr=5)}function _l(n,s,h){var f=pt,y=hi.transition;try{hi.transition=null,pt=1,n1(n,s,h,f)}finally{hi.transition=y,pt=f}return null}function n1(n,s,h,f){do Du();while(so!==null);if((vt&6)!==0)throw Error(t(327));h=n.finishedWork;var y=n.finishedLanes;if(h===null)return null;if(n.finishedWork=null,n.finishedLanes=0,h===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var E=h.lanes|h.childLanes;if(nh(n,E),n===Rr&&(pr=Rr=null,Br=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Zc||(Zc=!0,xy($l,function(){return Du(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=hi.transition,hi.transition=null;var I=pt;pt=1;var j=vt;vt|=4,$f.current=null,Kx(n,h),ay(h,n),au(Ah),tn=!!ja,Ah=ja=null,n.current=h,Zx(h),Af(),vt=j,pt=I,hi.transition=E}else n.current=h;if(Zc&&(Zc=!1,so=n,Jc=y),E=n.pendingLanes,E===0&&(io=null),Ct(h.stateNode),Dn(n,$t()),s!==null)for(f=n.onRecoverableError,h=0;h<s.length;h++)y=s[h],f(y.value,{componentStack:y.stack,digest:y.digest});if(Kc)throw Kc=!1,n=qf,qf=null,n;return(Jc&1)!==0&&n.tag!==0&&Du(),E=n.pendingLanes,(E&1)!==0?n===Qf?Kh++:(Kh=0,Qf=n):Kh=0,bn(),null}function Du(){if(so!==null){var n=ko(Jc),s=hi.transition,h=pt;try{if(hi.transition=null,pt=16>n?16:n,so===null)var f=!1;else{if(n=so,so=null,Jc=0,(vt&6)!==0)throw Error(t(331));var y=vt;for(vt|=4,Be=n.current;Be!==null;){var E=Be,I=E.child;if((Be.flags&16)!==0){var j=E.deletions;if(j!==null){for(var V=0;V<j.length;V++){var ae=j[V];for(Be=ae;Be!==null;){var xe=Be;switch(xe.tag){case 0:case 11:case 15:Yh(8,xe,E)}var Ee=xe.child;if(Ee!==null)Ee.return=xe,Be=Ee;else for(;Be!==null;){xe=Be;var ve=xe.sibling,Fe=xe.return;if(ty(xe),xe===ae){Be=null;break}if(ve!==null){ve.return=Fe,Be=ve;break}Be=Fe}}}var Ge=E.alternate;if(Ge!==null){var $e=Ge.child;if($e!==null){Ge.child=null;do{var lr=$e.sibling;$e.sibling=null,$e=lr}while($e!==null)}}Be=E}}if((E.subtreeFlags&2064)!==0&&I!==null)I.return=E,Be=I;else e:for(;Be!==null;){if(E=Be,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Yh(9,E,E.return)}var ee=E.sibling;if(ee!==null){ee.return=E.return,Be=ee;break e}Be=E.return}}var Y=n.current;for(Be=Y;Be!==null;){I=Be;var ne=I.child;if((I.subtreeFlags&2064)!==0&&ne!==null)ne.return=I,Be=ne;else e:for(I=Y;Be!==null;){if(j=Be,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:Yc(9,j)}}catch(Ye){rr(j,j.return,Ye)}if(j===I){Be=null;break e}var Ce=j.sibling;if(Ce!==null){Ce.return=j.return,Be=Ce;break e}Be=j.return}}if(vt=y,bn(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Gn,n)}catch{}f=!0}return f}finally{pt=h,hi.transition=s}}return!1}function yy(n,s,h){s=$(h,s),s=Ie(n,s,1),n=er(n,s,1),s=hn(),n!==null&&(Io(n,1,s),Dn(n,s))}function rr(n,s,h){if(n.tag===3)yy(n,n,h);else for(;s!==null;){if(s.tag===3){yy(s,n,h);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(io===null||!io.has(f))){n=$(h,n),n=de(s,n,1),s=er(s,n,1),n=hn(),s!==null&&(Io(s,1,n),Dn(s,n));break}}s=s.return}}function i1(n,s,h){var f=n.pingCache;f!==null&&f.delete(s),s=hn(),n.pingedLanes|=n.suspendedLanes&h,Rr===n&&(Br&h)===h&&(wr===4||wr===3&&(Br&130023424)===Br&&500>$t()-Yf?vl(n,0):Xf|=h),Dn(n,s)}function vy(n,s){s===0&&((n.mode&1)===0?s=1:(s=Tr,Tr<<=1,(Tr&130023424)===0&&(Tr=4194304)));var h=hn();n=St(n,s),n!==null&&(Io(n,s,h),Dn(n,h))}function s1(n){var s=n.memoizedState,h=0;s!==null&&(h=s.retryLane),vy(n,h)}function a1(n,s){var h=0;switch(n.tag){case 13:var f=n.stateNode,y=n.memoizedState;y!==null&&(h=y.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(s),vy(n,h)}var _y;_y=function(n,s,h){if(n!==null)if(n.memoizedProps!==s.pendingProps||vr.current)q=!0;else{if((n.lanes&h)===0&&(s.flags&128)===0)return q=!1,Xx(n,s,h);q=(n.flags&131072)!==0}else q=!1,Ft&&(s.flags&1048576)!==0&&Qa(s,Vs,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;$c(n,s),n=s.pendingProps;var y=ds(s,sr.current);Qs(s,h),y=cl(null,s,f,n,y,h);var E=li();return s.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Or(f)?(E=!0,Ya(s)):E=!1,s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Jt(s),y.updater=m,s.stateNode=y,y._reactInternals=s,F(s,f,n,h),s=ui(null,s,f,!0,E,h)):(s.tag=0,Ft&&E&&Ka(s),oe(null,s,y,h),s=s.child),s;case 16:f=s.elementType;e:{switch($c(n,s),n=s.pendingProps,y=f._init,f=y(f._payload),s.type=f,y=s.tag=l1(f),n=l(f,n),y){case 0:s=or(null,s,f,n,h);break e;case 1:s=yt(null,s,f,n,h);break e;case 11:s=we(null,s,f,n,h);break e;case 14:s=Qe(null,s,f,l(f.type,n),h);break e}throw Error(t(306,f,""))}return s;case 0:return f=s.type,y=s.pendingProps,y=s.elementType===f?y:l(f,y),or(n,s,f,y,h);case 1:return f=s.type,y=s.pendingProps,y=s.elementType===f?y:l(f,y),yt(n,s,f,y,h);case 3:e:{if(Wc(s),n===null)throw Error(t(387));f=s.pendingProps,E=s.memoizedState,y=E.element,Xt(n,s),ps(s,f,null,h);var I=s.memoizedState;if(f=I.element,E.isDehydrated)if(E={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){y=$(Error(t(423)),s),s=Xg(n,s,f,h,y);break e}else if(f!==y){y=$(Error(t(424)),s),s=Xg(n,s,f,h,y);break e}else for(Yr=Ci(s.stateNode.containerInfo.firstChild),Xr=s,Ft=!0,an=null,h=sl(s,null,f,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if($s(),f===y){s=ta(n,s,h);break e}oe(n,s,f,h)}s=s.child}return s;case 5:return Zs(s),n===null&&Cn(s),f=s.type,y=s.pendingProps,E=n!==null?n.memoizedProps:null,I=y.children,Ch(f,y)?I=null:E!==null&&Ch(f,E)&&(s.flags|=32),mt(n,s),oe(n,s,I,h),s.child;case 6:return n===null&&Cn(s),null;case 13:return Yg(n,s,h);case 4:return ul(s,s.stateNode.containerInfo),f=s.pendingProps,n===null?s.child=Ii(s,null,f,h):oe(n,s,f,h),s.child;case 11:return f=s.type,y=s.pendingProps,y=s.elementType===f?y:l(f,y),we(n,s,f,y,h);case 7:return oe(n,s,s.pendingProps,h),s.child;case 8:return oe(n,s,s.pendingProps.children,h),s.child;case 12:return oe(n,s,s.pendingProps.children,h),s.child;case 10:e:{if(f=s.type._context,y=s.pendingProps,E=s.memoizedProps,I=y.value,xt(Xs,f._currentValue),f._currentValue=I,E!==null)if(sn(E.value,I)){if(E.children===y.children&&!vr.current){s=ta(n,s,h);break e}}else for(E=s.child,E!==null&&(E.return=s);E!==null;){var j=E.dependencies;if(j!==null){I=E.child;for(var V=j.firstContext;V!==null;){if(V.context===f){if(E.tag===1){V=Ot(-1,h&-h),V.tag=2;var ae=E.updateQueue;if(ae!==null){ae=ae.shared;var xe=ae.pending;xe===null?V.next=V:(V.next=xe.next,xe.next=V),ae.pending=V}}E.lanes|=h,V=E.alternate,V!==null&&(V.lanes|=h),ll(E.return,h,s),j.lanes|=h;break}V=V.next}}else if(E.tag===10)I=E.type===s.type?null:E.child;else if(E.tag===18){if(I=E.return,I===null)throw Error(t(341));I.lanes|=h,j=I.alternate,j!==null&&(j.lanes|=h),ll(I,h,s),I=E.sibling}else I=E.child;if(I!==null)I.return=E;else for(I=E;I!==null;){if(I===s){I=null;break}if(E=I.sibling,E!==null){E.return=I.return,I=E;break}I=I.return}E=I}oe(n,s,y.children,h),s=s.child}return s;case 9:return y=s.type,f=s.pendingProps.children,Qs(s,h),y=qr(y),f=f(y),s.flags|=1,oe(n,s,f,h),s.child;case 14:return f=s.type,y=l(f,s.pendingProps),y=l(f.type,y),Qe(n,s,f,y,h);case 15:return gt(n,s,s.type,s.pendingProps,h);case 17:return f=s.type,y=s.pendingProps,y=s.elementType===f?y:l(f,y),$c(n,s),s.tag=1,Or(f)?(n=!0,Ya(s)):n=!1,Qs(s,h),x(s,f,y),F(s,f,y,h),ui(null,s,f,!0,n,h);case 19:return Qg(n,s,h);case 22:return je(n,s,h)}throw Error(t(156,s.tag))};function xy(n,s){return Wl(n,s)}function o1(n,s,h,f){this.tag=n,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(n,s,h,f){return new o1(n,s,h,f)}function rp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function l1(n){if(typeof n=="function")return rp(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Q)return 11;if(n===Te)return 14}return 2}function lo(n,s){var h=n.alternate;return h===null?(h=ci(n.tag,s,n.key,n.mode),h.elementType=n.elementType,h.type=n.type,h.stateNode=n.stateNode,h.alternate=n,n.alternate=h):(h.pendingProps=s,h.type=n.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=n.flags&14680064,h.childLanes=n.childLanes,h.lanes=n.lanes,h.child=n.child,h.memoizedProps=n.memoizedProps,h.memoizedState=n.memoizedState,h.updateQueue=n.updateQueue,s=n.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=n.sibling,h.index=n.index,h.ref=n.ref,h}function nd(n,s,h,f,y,E){var I=2;if(f=n,typeof n=="function")rp(n)&&(I=1);else if(typeof n=="string")I=5;else e:switch(n){case N:return xl(h.children,y,E,s);case J:I=8,y|=8;break;case ce:return n=ci(12,h,s,y|2),n.elementType=ce,n.lanes=E,n;case Z:return n=ci(13,h,s,y),n.elementType=Z,n.lanes=E,n;case le:return n=ci(19,h,s,y),n.elementType=le,n.lanes=E,n;case G:return id(h,y,E,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case fe:I=10;break e;case Pe:I=9;break e;case Q:I=11;break e;case Te:I=14;break e;case L:I=16,f=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=ci(I,h,s,y),s.elementType=n,s.type=f,s.lanes=E,s}function xl(n,s,h,f){return n=ci(7,n,f,s),n.lanes=h,n}function id(n,s,h,f){return n=ci(22,n,f,s),n.elementType=G,n.lanes=h,n.stateNode={isHidden:!1},n}function np(n,s,h){return n=ci(6,n,null,s),n.lanes=h,n}function ip(n,s,h){return s=ci(4,n.children!==null?n.children:[],n.key,s),s.lanes=h,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function u1(n,s,h,f,y){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rh(0),this.expirationTimes=rh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rh(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function sp(n,s,h,f,y,E,I,j,V){return n=new u1(n,s,h,j,V),s===1?(s=1,E===!0&&(s|=8)):s=0,E=ci(3,null,null,s),n.current=E,E.stateNode=n,E.memoizedState={element:f,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jt(E),n}function h1(n,s,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:f==null?null:""+f,children:n,containerInfo:s,implementation:h}}function wy(n){if(!n)return xn;n=n._reactInternals;e:{if(zn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Or(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var h=n.type;if(Or(h))return Mh(n,h,s)}return s}function Ey(n,s,h,f,y,E,I,j,V){return n=sp(h,f,!0,n,y,E,I,j,V),n.context=wy(null),h=n.current,f=hn(),y=ao(h),E=Ot(f,y),E.callback=s??null,er(h,E,y),n.current.lanes=y,Io(n,y,f),Dn(n,f),n}function sd(n,s,h,f){var y=s.current,E=hn(),I=ao(y);return h=wy(h),s.context===null?s.context=h:s.pendingContext=h,s=Ot(E,I),s.payload={element:n},f=f===void 0?null:f,f!==null&&(s.callback=f),n=er(y,s,I),n!==null&&(Ui(n,y,I,E),ki(n,y,I)),I}function ad(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Sy(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var h=n.retryLane;n.retryLane=h!==0&&h<s?h:s}}function ap(n,s){Sy(n,s),(n=n.alternate)&&Sy(n,s)}function c1(){return null}var by=typeof reportError=="function"?reportError:function(n){console.error(n)};function op(n){this._internalRoot=n}od.prototype.render=op.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));sd(n,s,null,null)},od.prototype.unmount=op.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;yl(function(){sd(null,n,null,null)}),s[jt]=null}};function od(n){this._internalRoot=n}od.prototype.unstable_scheduleHydration=function(n){if(n){var s=ql();n={blockedOn:null,target:n,priority:s};for(var h=0;h<Dt.length&&s!==0&&s<Dt[h].priority;h++);Dt.splice(h,0,n),h===0&&Lo(n)}};function lp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ld(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ty(){}function d1(n,s,h,f,y){if(y){if(typeof f=="function"){var E=f;f=function(){var ae=ad(I);E.call(ae)}}var I=Ey(s,f,n,0,null,!1,!1,"",Ty);return n._reactRootContainer=I,n[jt]=I.current,za(n.nodeType===8?n.parentNode:n),yl(),I}for(;y=n.lastChild;)n.removeChild(y);if(typeof f=="function"){var j=f;f=function(){var ae=ad(V);j.call(ae)}}var V=sp(n,0,!1,null,null,!1,!1,"",Ty);return n._reactRootContainer=V,n[jt]=V.current,za(n.nodeType===8?n.parentNode:n),yl(function(){sd(s,V,h,f)}),V}function ud(n,s,h,f,y){var E=h._reactRootContainer;if(E){var I=E;if(typeof y=="function"){var j=y;y=function(){var V=ad(I);j.call(V)}}sd(s,I,n,y)}else I=d1(h,s,n,y,f);return ad(I)}Ac=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var h=Fs(s.pendingLanes);h!==0&&(Mo(s,h|1),Dn(s,$t()),(vt&6)===0&&(ku=$t()+500,bn()))}break;case 13:yl(function(){var f=St(n,1);if(f!==null){var y=hn();Ui(f,n,1,y)}}),ap(n,1)}},Do=function(n){if(n.tag===13){var s=St(n,134217728);if(s!==null){var h=hn();Ui(s,n,134217728,h)}ap(n,134217728)}},ih=function(n){if(n.tag===13){var s=ao(n),h=St(n,s);if(h!==null){var f=hn();Ui(h,n,s,f)}ap(n,s)}},ql=function(){return pt},Sa=function(n,s){var h=pt;try{return pt=n,s()}finally{pt=h}},Et=function(n,s,h){switch(s){case"input":if(kt(n,h),s=h.name,h.type==="radio"&&s!=null){for(h=n;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<h.length;s++){var f=h[s];if(f!==n&&f.form===n.form){var y=$a(f);if(!y)throw Error(t(90));Ue(f),kt(f,y)}}}break;case"textarea":Jr(n,h);break;case"select":s=h.value,s!=null&&dr(n,!!h.multiple,s,!1)}},_a=Jf,Bn=yl;var f1={usingClientEntryPoint:!1,Events:[Va,Ws,$a,gr,fn,Jf]},Zh={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p1={bundleType:Zh.bundleType,version:Zh.version,rendererPackageName:Zh.rendererPackageName,rendererConfig:Zh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=_i(n),n===null?null:n.stateNode},findFiberByHostInstance:Zh.findFiberByHostInstance||c1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Gn=hd.inject(p1),ft=hd}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f1,Nn.createPortal=function(n,s){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lp(s))throw Error(t(200));return h1(n,s,null,h)},Nn.createRoot=function(n,s){if(!lp(n))throw Error(t(299));var h=!1,f="",y=by;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=sp(n,1,!1,null,null,h,!1,f,y),n[jt]=s.current,za(n.nodeType===8?n.parentNode:n),new op(s)},Nn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=_i(s),n=n===null?null:n.stateNode,n},Nn.flushSync=function(n){return yl(n)},Nn.hydrate=function(n,s,h){if(!ld(s))throw Error(t(200));return ud(null,n,s,!0,h)},Nn.hydrateRoot=function(n,s,h){if(!lp(n))throw Error(t(405));var f=h!=null&&h.hydratedSources||null,y=!1,E="",I=by;if(h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(I=h.onRecoverableError)),s=Ey(s,null,n,1,h??null,y,!1,E,I),n[jt]=s.current,za(n),f)for(n=0;n<f.length;n++)h=f[n],y=h._getVersion,y=y(h._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[h,y]:s.mutableSourceEagerHydrationData.push(h,y);return new od(s)},Nn.render=function(n,s,h){if(!ld(s))throw Error(t(200));return ud(null,n,s,!1,h)},Nn.unmountComponentAtNode=function(n){if(!ld(n))throw Error(t(40));return n._reactRootContainer?(yl(function(){ud(null,null,n,!1,function(){n._reactRootContainer=null,n[jt]=null})}),!0):!1},Nn.unstable_batchedUpdates=Jf,Nn.unstable_renderSubtreeIntoContainer=function(n,s,h,f){if(!ld(h))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return ud(n,s,h,!1,f)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var Dy;function E1(){if(Dy)return cp.exports;Dy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cp.exports=w1(),cp.exports}var Ny;function S1(){if(Ny)return cd;Ny=1;var i=E1();return cd.createRoot=i.createRoot,cd.hydrateRoot=i.hydrateRoot,cd}var b1=S1();const T1="modulepreload",A1=function(i){return"/"+i},Fy={},C1=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=c(t.map(g=>{if(g=A1(g),g in Fy)return;Fy[g]=!0;const _=g.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":T1,_||(S.as="script"),S.crossOrigin="",S.href=g,p&&S.setAttribute("nonce",p),document.head.appendChild(S),_)return new Promise((b,A)=>{S.addEventListener("load",b),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};async function P1(i){var e;const t={importPixi:!1,...i};t.app&&(t.renderer=t.app.renderer,t.stage=t.app.stage),t.importPixi&&!t.pixi&&(t.pixi=await C1(()=>import("./index-CgzLNtJO.js"),[])),window.__PIXI_DEVTOOLS__={...window.__PIXI_DEVTOOLS__||{},app:t.app,stage:t.stage,renderer:t.renderer,extensions:[...((e=window.__PIXI_DEVTOOLS__)==null?void 0:e.extensions)||[],...t.extensions||[]],plugins:{}}}var pp={exports:{}},Ol=(i=>(i[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2",i))(Ol||{}),a_=(i=>(i[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS",i))(a_||{}),Hm=(i=>(i[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL",i))(Hm||{}),et=(i=>(i[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR",i))(et||{}),Vi=(i=>(i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN",i))(Vi||{}),Ae=(i=>(i[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.RG=33319]="RG",i[i.RED=6403]="RED",i[i.RGBA_INTEGER=36249]="RGBA_INTEGER",i[i.RGB_INTEGER=36248]="RGB_INTEGER",i[i.RG_INTEGER=33320]="RG_INTEGER",i[i.RED_INTEGER=36244]="RED_INTEGER",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL",i))(Ae||{}),$u=(i=>(i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",i))($u||{}),Ke=(i=>(i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.UNSIGNED_INT=5125]="UNSIGNED_INT",i[i.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",i[i.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",i[i.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",i[i.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",i[i.BYTE=5120]="BYTE",i[i.SHORT=5122]="SHORT",i[i.INT=5124]="INT",i[i.FLOAT=5126]="FLOAT",i[i.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",i[i.HALF_FLOAT=36193]="HALF_FLOAT",i))(Ke||{}),Oe=(i=>(i[i.FLOAT=0]="FLOAT",i[i.INT=1]="INT",i[i.UINT=2]="UINT",i))(Oe||{}),oa=(i=>(i[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR",i))(oa||{}),ca=(i=>(i[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",i))(ca||{}),Cs=(i=>(i[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON",i[i.ON_MANUAL=3]="ON_MANUAL",i))(Cs||{}),On=(i=>(i[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",i))(On||{}),Ss=(i=>(i[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT",i))(Ss||{}),Dg=(i=>(i[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL",i))(Dg||{}),pi=(i=>(i.LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp",i))(pi||{}),Er=(i=>(i[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE",i[i.COLOR=4]="COLOR",i))(Er||{}),R1=(i=>(i[i.RED=1]="RED",i[i.GREEN=2]="GREEN",i[i.BLUE=4]="BLUE",i[i.ALPHA=8]="ALPHA",i))(R1||{}),mr=(i=>(i[i.NONE=0]="NONE",i[i.LOW=2]="LOW",i[i.MEDIUM=4]="MEDIUM",i[i.HIGH=8]="HIGH",i))(mr||{}),Ts=(i=>(i[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",i))(Ts||{});const I1={createCanvas:(i,e)=>{const t=document.createElement("canvas");return t.width=i,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(i,e)=>fetch(i,e),parseXML:i=>new DOMParser().parseFromString(i,"text/xml")},Le={ADAPTER:I1,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var mp=/iPhone/i,Oy=/iPod/i,Ly=/iPad/i,By=/\biOS-universal(?:.+)Mac\b/i,gp=/\bAndroid(?:.+)Mobile\b/i,Uy=/Android/i,Nu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,dd=/Silk/i,na=/Windows Phone/i,zy=/\bWindows(?:.+)ARM\b/i,Gy=/BlackBerry/i,Hy=/BB10/i,jy=/Opera Mini/i,Wy=/\b(CriOS|Chrome)(?:.+)Mobile/i,Vy=/Mobile(?:.+)Firefox\b/i,$y=function(i){return typeof i<"u"&&i.platform==="MacIntel"&&typeof i.maxTouchPoints=="number"&&i.maxTouchPoints>1&&typeof MSStream>"u"};function M1(i){return function(e){return e.test(i)}}function Xy(i){var e={userAgent:"",platform:"",maxTouchPoints:0};!i&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof i=="string"?e.userAgent=i:i&&i.userAgent&&(e={userAgent:i.userAgent,platform:i.platform,maxTouchPoints:i.maxTouchPoints||0});var t=e.userAgent,r=t.split("[FBAN");typeof r[1]<"u"&&(t=r[0]),r=t.split("Twitter"),typeof r[1]<"u"&&(t=r[0]);var a=M1(t),o={apple:{phone:a(mp)&&!a(na),ipod:a(Oy),tablet:!a(mp)&&(a(Ly)||$y(e))&&!a(na),universal:a(By),device:(a(mp)||a(Oy)||a(Ly)||a(By)||$y(e))&&!a(na)},amazon:{phone:a(Nu),tablet:!a(Nu)&&a(dd),device:a(Nu)||a(dd)},android:{phone:!a(na)&&a(Nu)||!a(na)&&a(gp),tablet:!a(na)&&!a(Nu)&&!a(gp)&&(a(dd)||a(Uy)),device:!a(na)&&(a(Nu)||a(dd)||a(gp)||a(Uy))||a(/\bokhttp\b/i)},windows:{phone:a(na),tablet:a(zy),device:a(na)||a(zy)},other:{blackberry:a(Gy),blackberry10:a(Hy),opera:a(jy),firefox:a(Vy),chrome:a(Wy),device:a(Gy)||a(Hy)||a(jy)||a(Vy)||a(Wy)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const k1=Xy.default??Xy,la=k1(globalThis.navigator);Le.RETINA_PREFIX=/@([0-9\.]+)x/;Le.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var yp={exports:{}},Yy;function D1(){return Yy||(Yy=1,function(i){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function a(p,g,_){this.fn=p,this.context=g,this.once=_||!1}function o(p,g,_,w,S){if(typeof _!="function")throw new TypeError("The listener must be a function");var b=new a(_,w||p,S),A=t?t+g:g;return p._events[A]?p._events[A].fn?p._events[A]=[p._events[A],b]:p._events[A].push(b):(p._events[A]=b,p._eventsCount++),p}function c(p,g){--p._eventsCount===0?p._events=new r:delete p._events[g]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var g=[],_,w;if(this._eventsCount===0)return g;for(w in _=this._events)e.call(_,w)&&g.push(t?w.slice(1):w);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},d.prototype.listeners=function(g){var _=t?t+g:g,w=this._events[_];if(!w)return[];if(w.fn)return[w.fn];for(var S=0,b=w.length,A=new Array(b);S<b;S++)A[S]=w[S].fn;return A},d.prototype.listenerCount=function(g){var _=t?t+g:g,w=this._events[_];return w?w.fn?1:w.length:0},d.prototype.emit=function(g,_,w,S,b,A){var M=t?t+g:g;if(!this._events[M])return!1;var P=this._events[M],k=arguments.length,z,O;if(P.fn){switch(P.once&&this.removeListener(g,P.fn,void 0,!0),k){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,_),!0;case 3:return P.fn.call(P.context,_,w),!0;case 4:return P.fn.call(P.context,_,w,S),!0;case 5:return P.fn.call(P.context,_,w,S,b),!0;case 6:return P.fn.call(P.context,_,w,S,b,A),!0}for(O=1,z=new Array(k-1);O<k;O++)z[O-1]=arguments[O];P.fn.apply(P.context,z)}else{var W=P.length,B;for(O=0;O<W;O++)switch(P[O].once&&this.removeListener(g,P[O].fn,void 0,!0),k){case 1:P[O].fn.call(P[O].context);break;case 2:P[O].fn.call(P[O].context,_);break;case 3:P[O].fn.call(P[O].context,_,w);break;case 4:P[O].fn.call(P[O].context,_,w,S);break;default:if(!z)for(B=1,z=new Array(k-1);B<k;B++)z[B-1]=arguments[B];P[O].fn.apply(P[O].context,z)}}return!0},d.prototype.on=function(g,_,w){return o(this,g,_,w,!1)},d.prototype.once=function(g,_,w){return o(this,g,_,w,!0)},d.prototype.removeListener=function(g,_,w,S){var b=t?t+g:g;if(!this._events[b])return this;if(!_)return c(this,b),this;var A=this._events[b];if(A.fn)A.fn===_&&(!S||A.once)&&(!w||A.context===w)&&c(this,b);else{for(var M=0,P=[],k=A.length;M<k;M++)(A[M].fn!==_||S&&!A[M].once||w&&A[M].context!==w)&&P.push(A[M]);P.length?this._events[b]=P.length===1?P[0]:P:c(this,b)}return this},d.prototype.removeAllListeners=function(g){var _;return g?(_=t?t+g:g,this._events[_]&&c(this,_)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,i.exports=d}(yp)),yp.exports}var N1=D1();const Ec=hf(N1);var fd={exports:{}},qy;function F1(){if(qy)return fd.exports;qy=1,fd.exports=i,fd.exports.default=i;function i(L,G,C){C=C||2;var H=G&&G.length,D=H?G[0]*C:L.length,R=e(L,0,D,C,!0),U=[];if(!R||R.next===R.prev)return U;var X,ie,ue,pe,_e,be,Re;if(H&&(R=p(L,G,R,C)),L.length>80*C){X=ue=L[0],ie=pe=L[1];for(var ye=C;ye<D;ye+=C)_e=L[ye],be=L[ye+1],_e<X&&(X=_e),be<ie&&(ie=be),_e>ue&&(ue=_e),be>pe&&(pe=be);Re=Math.max(ue-X,pe-ie),Re=Re!==0?32767/Re:0}return r(R,U,C,X,ie,Re,0),U}function e(L,G,C,H,D){var R,U;if(D===Te(L,G,C,H)>0)for(R=G;R<C;R+=H)U=Q(R,L[R],L[R+1],U);else for(R=C-H;R>=G;R-=H)U=Q(R,L[R],L[R+1],U);return U&&W(U,U.next)&&(Z(U),U=U.next),U}function t(L,G){if(!L)return L;G||(G=L);var C=L,H;do if(H=!1,!C.steiner&&(W(C,C.next)||O(C.prev,C,C.next)===0)){if(Z(C),C=G=C.prev,C===C.next)break;H=!0}else C=C.next;while(H||C!==G);return G}function r(L,G,C,H,D,R,U){if(L){!U&&R&&b(L,H,D,R);for(var X=L,ie,ue;L.prev!==L.next;){if(ie=L.prev,ue=L.next,R?o(L,H,D,R):a(L)){G.push(ie.i/C|0),G.push(L.i/C|0),G.push(ue.i/C|0),Z(L),L=ue.next,X=ue.next;continue}if(L=ue,L===X){U?U===1?(L=c(t(L),G,C),r(L,G,C,H,D,R,2)):U===2&&d(L,G,C,H,D,R):r(t(L),G,C,H,D,R,1);break}}}}function a(L){var G=L.prev,C=L,H=L.next;if(O(G,C,H)>=0)return!1;for(var D=G.x,R=C.x,U=H.x,X=G.y,ie=C.y,ue=H.y,pe=D<R?D<U?D:U:R<U?R:U,_e=X<ie?X<ue?X:ue:ie<ue?ie:ue,be=D>R?D>U?D:U:R>U?R:U,Re=X>ie?X>ue?X:ue:ie>ue?ie:ue,ye=H.next;ye!==G;){if(ye.x>=pe&&ye.x<=be&&ye.y>=_e&&ye.y<=Re&&k(D,X,R,ie,U,ue,ye.x,ye.y)&&O(ye.prev,ye,ye.next)>=0)return!1;ye=ye.next}return!0}function o(L,G,C,H){var D=L.prev,R=L,U=L.next;if(O(D,R,U)>=0)return!1;for(var X=D.x,ie=R.x,ue=U.x,pe=D.y,_e=R.y,be=U.y,Re=X<ie?X<ue?X:ue:ie<ue?ie:ue,ye=pe<_e?pe<be?pe:be:_e<be?_e:be,Me=X>ie?X>ue?X:ue:ie>ue?ie:ue,Ue=pe>_e?pe>be?pe:be:_e>be?_e:be,We=M(Re,ye,G,C,H),ot=M(Me,Ue,G,C,H),He=L.prevZ,Ve=L.nextZ;He&&He.z>=We&&Ve&&Ve.z<=ot;){if(He.x>=Re&&He.x<=Me&&He.y>=ye&&He.y<=Ue&&He!==D&&He!==U&&k(X,pe,ie,_e,ue,be,He.x,He.y)&&O(He.prev,He,He.next)>=0||(He=He.prevZ,Ve.x>=Re&&Ve.x<=Me&&Ve.y>=ye&&Ve.y<=Ue&&Ve!==D&&Ve!==U&&k(X,pe,ie,_e,ue,be,Ve.x,Ve.y)&&O(Ve.prev,Ve,Ve.next)>=0))return!1;Ve=Ve.nextZ}for(;He&&He.z>=We;){if(He.x>=Re&&He.x<=Me&&He.y>=ye&&He.y<=Ue&&He!==D&&He!==U&&k(X,pe,ie,_e,ue,be,He.x,He.y)&&O(He.prev,He,He.next)>=0)return!1;He=He.prevZ}for(;Ve&&Ve.z<=ot;){if(Ve.x>=Re&&Ve.x<=Me&&Ve.y>=ye&&Ve.y<=Ue&&Ve!==D&&Ve!==U&&k(X,pe,ie,_e,ue,be,Ve.x,Ve.y)&&O(Ve.prev,Ve,Ve.next)>=0)return!1;Ve=Ve.nextZ}return!0}function c(L,G,C){var H=L;do{var D=H.prev,R=H.next.next;!W(D,R)&&B(D,H,H.next,R)&&ce(D,R)&&ce(R,D)&&(G.push(D.i/C|0),G.push(H.i/C|0),G.push(R.i/C|0),Z(H),Z(H.next),H=L=R),H=H.next}while(H!==L);return t(H)}function d(L,G,C,H,D,R){var U=L;do{for(var X=U.next.next;X!==U.prev;){if(U.i!==X.i&&z(U,X)){var ie=Pe(U,X);U=t(U,U.next),ie=t(ie,ie.next),r(U,G,C,H,D,R,0),r(ie,G,C,H,D,R,0);return}X=X.next}U=U.next}while(U!==L)}function p(L,G,C,H){var D=[],R,U,X,ie,ue;for(R=0,U=G.length;R<U;R++)X=G[R]*H,ie=R<U-1?G[R+1]*H:L.length,ue=e(L,X,ie,H,!1),ue===ue.next&&(ue.steiner=!0),D.push(P(ue));for(D.sort(g),R=0;R<D.length;R++)C=_(D[R],C);return C}function g(L,G){return L.x-G.x}function _(L,G){var C=w(L,G);if(!C)return G;var H=Pe(C,L);return t(H,H.next),t(C,C.next)}function w(L,G){var C=G,H=L.x,D=L.y,R=-1/0,U;do{if(D<=C.y&&D>=C.next.y&&C.next.y!==C.y){var X=C.x+(D-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(X<=H&&X>R&&(R=X,U=C.x<C.next.x?C:C.next,X===H))return U}C=C.next}while(C!==G);if(!U)return null;var ie=U,ue=U.x,pe=U.y,_e=1/0,be;C=U;do H>=C.x&&C.x>=ue&&H!==C.x&&k(D<pe?H:R,D,ue,pe,D<pe?R:H,D,C.x,C.y)&&(be=Math.abs(D-C.y)/(H-C.x),ce(C,L)&&(be<_e||be===_e&&(C.x>U.x||C.x===U.x&&S(U,C)))&&(U=C,_e=be)),C=C.next;while(C!==ie);return U}function S(L,G){return O(L.prev,L,G.prev)<0&&O(G.next,L,L.next)<0}function b(L,G,C,H){var D=L;do D.z===0&&(D.z=M(D.x,D.y,G,C,H)),D.prevZ=D.prev,D.nextZ=D.next,D=D.next;while(D!==L);D.prevZ.nextZ=null,D.prevZ=null,A(D)}function A(L){var G,C,H,D,R,U,X,ie,ue=1;do{for(C=L,L=null,R=null,U=0;C;){for(U++,H=C,X=0,G=0;G<ue&&(X++,H=H.nextZ,!!H);G++);for(ie=ue;X>0||ie>0&&H;)X!==0&&(ie===0||!H||C.z<=H.z)?(D=C,C=C.nextZ,X--):(D=H,H=H.nextZ,ie--),R?R.nextZ=D:L=D,D.prevZ=R,R=D;C=H}R.nextZ=null,ue*=2}while(U>1);return L}function M(L,G,C,H,D){return L=(L-C)*D|0,G=(G-H)*D|0,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,L|G<<1}function P(L){var G=L,C=L;do(G.x<C.x||G.x===C.x&&G.y<C.y)&&(C=G),G=G.next;while(G!==L);return C}function k(L,G,C,H,D,R,U,X){return(D-U)*(G-X)>=(L-U)*(R-X)&&(L-U)*(H-X)>=(C-U)*(G-X)&&(C-U)*(R-X)>=(D-U)*(H-X)}function z(L,G){return L.next.i!==G.i&&L.prev.i!==G.i&&!J(L,G)&&(ce(L,G)&&ce(G,L)&&fe(L,G)&&(O(L.prev,L,G.prev)||O(L,G.prev,G))||W(L,G)&&O(L.prev,L,L.next)>0&&O(G.prev,G,G.next)>0)}function O(L,G,C){return(G.y-L.y)*(C.x-G.x)-(G.x-L.x)*(C.y-G.y)}function W(L,G){return L.x===G.x&&L.y===G.y}function B(L,G,C,H){var D=N(O(L,G,C)),R=N(O(L,G,H)),U=N(O(C,H,L)),X=N(O(C,H,G));return!!(D!==R&&U!==X||D===0&&K(L,C,G)||R===0&&K(L,H,G)||U===0&&K(C,L,H)||X===0&&K(C,G,H))}function K(L,G,C){return G.x<=Math.max(L.x,C.x)&&G.x>=Math.min(L.x,C.x)&&G.y<=Math.max(L.y,C.y)&&G.y>=Math.min(L.y,C.y)}function N(L){return L>0?1:L<0?-1:0}function J(L,G){var C=L;do{if(C.i!==L.i&&C.next.i!==L.i&&C.i!==G.i&&C.next.i!==G.i&&B(C,C.next,L,G))return!0;C=C.next}while(C!==L);return!1}function ce(L,G){return O(L.prev,L,L.next)<0?O(L,G,L.next)>=0&&O(L,L.prev,G)>=0:O(L,G,L.prev)<0||O(L,L.next,G)<0}function fe(L,G){var C=L,H=!1,D=(L.x+G.x)/2,R=(L.y+G.y)/2;do C.y>R!=C.next.y>R&&C.next.y!==C.y&&D<(C.next.x-C.x)*(R-C.y)/(C.next.y-C.y)+C.x&&(H=!H),C=C.next;while(C!==L);return H}function Pe(L,G){var C=new le(L.i,L.x,L.y),H=new le(G.i,G.x,G.y),D=L.next,R=G.prev;return L.next=G,G.prev=L,C.next=D,D.prev=C,H.next=C,C.prev=H,R.next=H,H.prev=R,H}function Q(L,G,C,H){var D=new le(L,G,C);return H?(D.next=H.next,D.prev=H,H.next.prev=D,H.next=D):(D.prev=D,D.next=D),D}function Z(L){L.next.prev=L.prev,L.prev.next=L.next,L.prevZ&&(L.prevZ.nextZ=L.nextZ),L.nextZ&&(L.nextZ.prevZ=L.prevZ)}function le(L,G,C){this.i=L,this.x=G,this.y=C,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}i.deviation=function(L,G,C,H){var D=G&&G.length,R=D?G[0]*C:L.length,U=Math.abs(Te(L,0,R,C));if(D)for(var X=0,ie=G.length;X<ie;X++){var ue=G[X]*C,pe=X<ie-1?G[X+1]*C:L.length;U-=Math.abs(Te(L,ue,pe,C))}var _e=0;for(X=0;X<H.length;X+=3){var be=H[X]*C,Re=H[X+1]*C,ye=H[X+2]*C;_e+=Math.abs((L[be]-L[ye])*(L[Re+1]-L[be+1])-(L[be]-L[Re])*(L[ye+1]-L[be+1]))}return U===0&&_e===0?0:Math.abs((_e-U)/U)};function Te(L,G,C,H){for(var D=0,R=G,U=C-H;R<C;R+=H)D+=(L[U]-L[R])*(L[R+1]+L[U+1]),U=R;return D}return i.flatten=function(L){for(var G=L[0][0].length,C={vertices:[],holes:[],dimensions:G},H=0,D=0;D<L.length;D++){for(var R=0;R<L[D].length;R++)for(var U=0;U<G;U++)C.vertices.push(L[D][R][U]);D>0&&(H+=L[D-1].length,C.holes.push(H))}return C},fd.exports}var O1=F1();const L1=hf(O1);var wl={},sc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var B1=sc.exports,Qy;function U1(){return Qy||(Qy=1,function(i,e){(function(t){var r=e&&!e.nodeType&&e,a=i&&!i.nodeType&&i,o=typeof Vd=="object"&&Vd;(o.global===o||o.window===o||o.self===o)&&(t=o);var c,d=2147483647,p=36,g=1,_=26,w=38,S=700,b=72,A=128,M="-",P=/^xn--/,k=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},W=p-g,B=Math.floor,K=String.fromCharCode,N;function J(D){throw new RangeError(O[D])}function ce(D,R){for(var U=D.length,X=[];U--;)X[U]=R(D[U]);return X}function fe(D,R){var U=D.split("@"),X="";U.length>1&&(X=U[0]+"@",D=U[1]),D=D.replace(z,".");var ie=D.split("."),ue=ce(ie,R).join(".");return X+ue}function Pe(D){for(var R=[],U=0,X=D.length,ie,ue;U<X;)ie=D.charCodeAt(U++),ie>=55296&&ie<=56319&&U<X?(ue=D.charCodeAt(U++),(ue&64512)==56320?R.push(((ie&1023)<<10)+(ue&1023)+65536):(R.push(ie),U--)):R.push(ie);return R}function Q(D){return ce(D,function(R){var U="";return R>65535&&(R-=65536,U+=K(R>>>10&1023|55296),R=56320|R&1023),U+=K(R),U}).join("")}function Z(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:p}function le(D,R){return D+22+75*(D<26)-((R!=0)<<5)}function Te(D,R,U){var X=0;for(D=U?B(D/S):D>>1,D+=B(D/R);D>W*_>>1;X+=p)D=B(D/W);return B(X+(W+1)*D/(D+w))}function L(D){var R=[],U=D.length,X,ie=0,ue=A,pe=b,_e,be,Re,ye,Me,Ue,We,ot,He;for(_e=D.lastIndexOf(M),_e<0&&(_e=0),be=0;be<_e;++be)D.charCodeAt(be)>=128&&J("not-basic"),R.push(D.charCodeAt(be));for(Re=_e>0?_e+1:0;Re<U;){for(ye=ie,Me=1,Ue=p;Re>=U&&J("invalid-input"),We=Z(D.charCodeAt(Re++)),(We>=p||We>B((d-ie)/Me))&&J("overflow"),ie+=We*Me,ot=Ue<=pe?g:Ue>=pe+_?_:Ue-pe,!(We<ot);Ue+=p)He=p-ot,Me>B(d/He)&&J("overflow"),Me*=He;X=R.length+1,pe=Te(ie-ye,X,ye==0),B(ie/X)>d-ue&&J("overflow"),ue+=B(ie/X),ie%=X,R.splice(ie++,0,ue)}return Q(R)}function G(D){var R,U,X,ie,ue,pe,_e,be,Re,ye,Me,Ue=[],We,ot,He,Ve;for(D=Pe(D),We=D.length,R=A,U=0,ue=b,pe=0;pe<We;++pe)Me=D[pe],Me<128&&Ue.push(K(Me));for(X=ie=Ue.length,ie&&Ue.push(M);X<We;){for(_e=d,pe=0;pe<We;++pe)Me=D[pe],Me>=R&&Me<_e&&(_e=Me);for(ot=X+1,_e-R>B((d-U)/ot)&&J("overflow"),U+=(_e-R)*ot,R=_e,pe=0;pe<We;++pe)if(Me=D[pe],Me<R&&++U>d&&J("overflow"),Me==R){for(be=U,Re=p;ye=Re<=ue?g:Re>=ue+_?_:Re-ue,!(be<ye);Re+=p)Ve=be-ye,He=p-ye,Ue.push(K(le(ye+Ve%He,0))),be=B(Ve/He);Ue.push(K(le(be,0))),ue=Te(U,ot,X==ie),U=0,++X}++U,++R}return Ue.join("")}function C(D){return fe(D,function(R){return P.test(R)?L(R.slice(4).toLowerCase()):R})}function H(D){return fe(D,function(R){return k.test(R)?"xn--"+G(R):R})}if(c={version:"1.4.1",ucs2:{decode:Pe,encode:Q},decode:L,encode:G,toASCII:H,toUnicode:C},r&&a)if(i.exports==r)a.exports=c;else for(N in c)c.hasOwnProperty(N)&&(r[N]=c[N]);else t.punycode=c})(B1)}(sc,sc.exports)),sc.exports}var vp,Ky;function Zu(){return Ky||(Ky=1,vp=TypeError),vp}const z1={},G1=Object.freeze(Object.defineProperty({__proto__:null,default:z1},Symbol.toStringTag,{value:"Module"})),H1=s_(G1);var _p,Zy;function cf(){if(Zy)return _p;Zy=1;var i=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=i&&e&&typeof e.get=="function"?e.get:null,r=i&&Map.prototype.forEach,a=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&o&&typeof o.get=="function"?o.get:null,d=a&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,g=p?WeakMap.prototype.has:null,_=typeof WeakSet=="function"&&WeakSet.prototype,w=_?WeakSet.prototype.has:null,S=typeof WeakRef=="function"&&WeakRef.prototype,b=S?WeakRef.prototype.deref:null,A=Boolean.prototype.valueOf,M=Object.prototype.toString,P=Function.prototype.toString,k=String.prototype.match,z=String.prototype.slice,O=String.prototype.replace,W=String.prototype.toUpperCase,B=String.prototype.toLowerCase,K=RegExp.prototype.test,N=Array.prototype.concat,J=Array.prototype.join,ce=Array.prototype.slice,fe=Math.floor,Pe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,le=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Te=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===le||!0)?Symbol.toStringTag:null,L=Object.prototype.propertyIsEnumerable,G=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(re){return re.__proto__}:null);function C(re,se){if(re===1/0||re===-1/0||re!==re||re&&re>-1e3&&re<1e3||K.call(/e/,se))return se;var ht=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof re=="number"){var _t=re<0?-fe(-re):fe(re);if(_t!==re){var Et=String(_t),tt=z.call(se,Et.length+1);return O.call(Et,ht,"$&_")+"."+O.call(O.call(tt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return O.call(se,ht,"$&_")}var H=H1,D=H.custom,R=ot(D)?D:null,U={__proto__:null,double:'"',single:"'"},X={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};_p=function re(se,ht,_t,Et){var tt=ht||{};if(kt(tt,"quoteStyle")&&!kt(U,tt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(kt(tt,"maxStringLength")&&(typeof tt.maxStringLength=="number"?tt.maxStringLength<0&&tt.maxStringLength!==1/0:tt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Nr=kt(tt,"customInspect")?tt.customInspect:!0;if(typeof Nr!="boolean"&&Nr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(kt(tt,"indent")&&tt.indent!==null&&tt.indent!=="	"&&!(parseInt(tt.indent,10)===tt.indent&&tt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(kt(tt,"numericSeparator")&&typeof tt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ti=tt.numericSeparator;if(typeof se>"u")return"undefined";if(se===null)return"null";if(typeof se=="boolean")return se?"true":"false";if(typeof se=="string")return ma(se,tt);if(typeof se=="number"){if(se===0)return 1/0/se>0?"0":"-0";var gr=String(se);return ti?C(se,gr):gr}if(typeof se=="bigint"){var fn=String(se)+"n";return ti?C(se,fn):fn}var _a=typeof tt.depth>"u"?5:tt.depth;if(typeof _t>"u"&&(_t=0),_t>=_a&&_a>0&&typeof se=="object")return _e(se)?"[Array]":"[Object]";var Bn=zl(tt,_t);if(typeof Et>"u")Et=[];else if(cr(Et,se)>=0)return"[Circular]";function Sr(_i,ks,Wl){if(ks&&(Et=ce.call(Et),Et.push(ks)),Wl){var Ao={depth:tt.depth};return kt(tt,"quoteStyle")&&(Ao.quoteStyle=tt.quoteStyle),re(_i,Ao,_t+1,Et)}return re(_i,tt,_t+1,Et)}if(typeof se=="function"&&!Re(se)){var xa=Jn(se),Zi=va(se,Sr);return"[Function"+(xa?": "+xa:" (anonymous)")+"]"+(Zi.length>0?" { "+J.call(Zi,", ")+" }":"")}if(ot(se)){var wa=le?O.call(String(se),/^(Symbol\(.*\))_[^)]*$/,"$1"):Z.call(se);return typeof se=="object"&&!le?Qi(wa):wa}if(Ul(se)){for(var Un="<"+B.call(String(se.nodeName)),Ea=se.attributes||[],pn=0;pn<Ea.length;pn++)Un+=" "+Ea[pn].name+"="+ie(ue(Ea[pn].value),"double",tt);return Un+=">",se.childNodes&&se.childNodes.length&&(Un+="..."),Un+="</"+B.call(String(se.nodeName))+">",Un}if(_e(se)){if(se.length===0)return"[]";var Ji=va(se,Sr);return Bn&&!eh(Ji)?"["+ya(Ji,Bn)+"]":"[ "+J.call(Ji,", ")+" ]"}if(ye(se)){var es=va(se,Sr);return!("cause"in Error.prototype)&&"cause"in se&&!L.call(se,"cause")?"{ ["+String(se)+"] "+J.call(N.call("[cause]: "+Sr(se.cause),es),", ")+" }":es.length===0?"["+String(se)+"]":"{ ["+String(se)+"] "+J.call(es,", ")+" }"}if(typeof se=="object"&&Nr){if(R&&typeof se[R]=="function"&&H)return H(se,{depth:_a-_t});if(Nr!=="symbol"&&typeof se.inspect=="function")return se.inspect()}if(dr(se)){var vi=[];return r&&r.call(se,function(_i,ks){vi.push(Sr(ks,se,!0)+" => "+Sr(_i,se))}),Ki("Map",t.call(se),vi,Bn)}if(Jr(se)){var Gl=[];return d&&d.call(se,function(_i){Gl.push(Sr(_i,se))}),Ki("Set",c.call(se),Gl,Bn)}if(ei(se))return yi("WeakMap");if(Bl(se))return yi("WeakSet");if(gi(se))return yi("WeakRef");if(Ue(se))return Qi(Sr(Number(se)));if(He(se))return Qi(Sr(Pe.call(se)));if(We(se))return Qi(A.call(se));if(Me(se))return Qi(Sr(String(se)));if(typeof window<"u"&&se===window)return"{ [object Window] }";if(typeof globalThis<"u"&&se===globalThis||typeof Vd<"u"&&se===Vd)return"{ [object globalThis] }";if(!be(se)&&!Re(se)){var So=va(se,Sr),Hl=G?G(se)===Object.prototype:se instanceof Object||se.constructor===Object,zn=se instanceof Object?"":"null prototype",bo=!Hl&&Te&&Object(se)===se&&Te in se?z.call(Gt(se),8,-1):zn?"Object":"",jl=Hl||typeof se.constructor!="function"?"":se.constructor.name?se.constructor.name+" ":"",To=jl+(bo||zn?"["+J.call(N.call([],bo||[],zn||[]),": ")+"] ":"");return So.length===0?To+"{}":Bn?To+"{"+ya(So,Bn)+"}":To+"{ "+J.call(So,", ")+" }"}return String(se)};function ie(re,se,ht){var _t=ht.quoteStyle||se,Et=U[_t];return Et+re+Et}function ue(re){return O.call(String(re),/"/g,"&quot;")}function pe(re){return!Te||!(typeof re=="object"&&(Te in re||typeof re[Te]<"u"))}function _e(re){return Gt(re)==="[object Array]"&&pe(re)}function be(re){return Gt(re)==="[object Date]"&&pe(re)}function Re(re){return Gt(re)==="[object RegExp]"&&pe(re)}function ye(re){return Gt(re)==="[object Error]"&&pe(re)}function Me(re){return Gt(re)==="[object String]"&&pe(re)}function Ue(re){return Gt(re)==="[object Number]"&&pe(re)}function We(re){return Gt(re)==="[object Boolean]"&&pe(re)}function ot(re){if(le)return re&&typeof re=="object"&&re instanceof Symbol;if(typeof re=="symbol")return!0;if(!re||typeof re!="object"||!Z)return!1;try{return Z.call(re),!0}catch{}return!1}function He(re){if(!re||typeof re!="object"||!Pe)return!1;try{return Pe.call(re),!0}catch{}return!1}var Ve=Object.prototype.hasOwnProperty||function(re){return re in this};function kt(re,se){return Ve.call(re,se)}function Gt(re){return M.call(re)}function Jn(re){if(re.name)return re.name;var se=k.call(P.call(re),/^function\s*([\w$]+)/);return se?se[1]:null}function cr(re,se){if(re.indexOf)return re.indexOf(se);for(var ht=0,_t=re.length;ht<_t;ht++)if(re[ht]===se)return ht;return-1}function dr(re){if(!t||!re||typeof re!="object")return!1;try{t.call(re);try{c.call(re)}catch{return!0}return re instanceof Map}catch{}return!1}function ei(re){if(!g||!re||typeof re!="object")return!1;try{g.call(re,g);try{w.call(re,w)}catch{return!0}return re instanceof WeakMap}catch{}return!1}function gi(re){if(!b||!re||typeof re!="object")return!1;try{return b.call(re),!0}catch{}return!1}function Jr(re){if(!c||!re||typeof re!="object")return!1;try{c.call(re);try{t.call(re)}catch{return!0}return re instanceof Set}catch{}return!1}function Bl(re){if(!w||!re||typeof re!="object")return!1;try{w.call(re,w);try{g.call(re,g)}catch{return!0}return re instanceof WeakSet}catch{}return!1}function Ul(re){return!re||typeof re!="object"?!1:typeof HTMLElement<"u"&&re instanceof HTMLElement?!0:typeof re.nodeName=="string"&&typeof re.getAttribute=="function"}function ma(re,se){if(re.length>se.maxStringLength){var ht=re.length-se.maxStringLength,_t="... "+ht+" more character"+(ht>1?"s":"");return ma(z.call(re,0,se.maxStringLength),se)+_t}var Et=X[se.quoteStyle||"single"];Et.lastIndex=0;var tt=O.call(O.call(re,Et,"\\$1"),/[\x00-\x1f]/g,ga);return ie(tt,"single",se)}function ga(re){var se=re.charCodeAt(0),ht={8:"b",9:"t",10:"n",12:"f",13:"r"}[se];return ht?"\\"+ht:"\\x"+(se<16?"0":"")+W.call(se.toString(16))}function Qi(re){return"Object("+re+")"}function yi(re){return re+" { ? }"}function Ki(re,se,ht,_t){var Et=_t?ya(ht,_t):J.call(ht,", ");return re+" ("+se+") {"+Et+"}"}function eh(re){for(var se=0;se<re.length;se++)if(cr(re[se],`
`)>=0)return!1;return!0}function zl(re,se){var ht;if(re.indent==="	")ht="	";else if(typeof re.indent=="number"&&re.indent>0)ht=J.call(Array(re.indent+1)," ");else return null;return{base:ht,prev:J.call(Array(se+1),ht)}}function ya(re,se){if(re.length===0)return"";var ht=`
`+se.prev+se.base;return ht+J.call(re,","+ht)+`
`+se.prev}function va(re,se){var ht=_e(re),_t=[];if(ht){_t.length=re.length;for(var Et=0;Et<re.length;Et++)_t[Et]=kt(re,Et)?se(re[Et],re):""}var tt=typeof Q=="function"?Q(re):[],Nr;if(le){Nr={};for(var ti=0;ti<tt.length;ti++)Nr["$"+tt[ti]]=tt[ti]}for(var gr in re)kt(re,gr)&&(ht&&String(Number(gr))===gr&&gr<re.length||le&&Nr["$"+gr]instanceof Symbol||(K.call(/[^\w$]/,gr)?_t.push(se(gr,re)+": "+se(re[gr],re)):_t.push(gr+": "+se(re[gr],re))));if(typeof Q=="function")for(var fn=0;fn<tt.length;fn++)L.call(re,tt[fn])&&_t.push("["+se(tt[fn])+"]: "+se(re[tt[fn]],re));return _t}return _p}var xp,Jy;function j1(){if(Jy)return xp;Jy=1;var i=cf(),e=Zu(),t=function(d,p,g){for(var _=d,w;(w=_.next)!=null;_=w)if(w.key===p)return _.next=w.next,g||(w.next=d.next,d.next=w),w},r=function(d,p){if(d){var g=t(d,p);return g&&g.value}},a=function(d,p,g){var _=t(d,p);_?_.value=g:d.next={key:p,next:d.next,value:g}},o=function(d,p){return d?!!t(d,p):!1},c=function(d,p){if(d)return t(d,p,!0)};return xp=function(){var p,g={assert:function(_){if(!g.has(_))throw new e("Side channel does not contain "+i(_))},delete:function(_){var w=p&&p.next,S=c(p,_);return S&&w&&w===S&&(p=void 0),!!S},get:function(_){return r(p,_)},has:function(_){return o(p,_)},set:function(_,w){p||(p={next:void 0}),a(p,_,w)}};return g},xp}var wp,ev;function o_(){return ev||(ev=1,wp=Object),wp}var Ep,tv;function W1(){return tv||(tv=1,Ep=Error),Ep}var Sp,rv;function V1(){return rv||(rv=1,Sp=EvalError),Sp}var bp,nv;function $1(){return nv||(nv=1,bp=RangeError),bp}var Tp,iv;function X1(){return iv||(iv=1,Tp=ReferenceError),Tp}var Ap,sv;function Y1(){return sv||(sv=1,Ap=SyntaxError),Ap}var Cp,av;function q1(){return av||(av=1,Cp=URIError),Cp}var Pp,ov;function Q1(){return ov||(ov=1,Pp=Math.abs),Pp}var Rp,lv;function K1(){return lv||(lv=1,Rp=Math.floor),Rp}var Ip,uv;function Z1(){return uv||(uv=1,Ip=Math.max),Ip}var Mp,hv;function J1(){return hv||(hv=1,Mp=Math.min),Mp}var kp,cv;function ew(){return cv||(cv=1,kp=Math.pow),kp}var Dp,dv;function tw(){return dv||(dv=1,Dp=Math.round),Dp}var Np,fv;function rw(){return fv||(fv=1,Np=Number.isNaN||function(e){return e!==e}),Np}var Fp,pv;function nw(){if(pv)return Fp;pv=1;var i=rw();return Fp=function(t){return i(t)||t===0?t:t<0?-1:1},Fp}var Op,mv;function iw(){return mv||(mv=1,Op=Object.getOwnPropertyDescriptor),Op}var Lp,gv;function l_(){if(gv)return Lp;gv=1;var i=iw();if(i)try{i([],"length")}catch{i=null}return Lp=i,Lp}var Bp,yv;function sw(){if(yv)return Bp;yv=1;var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch{i=!1}return Bp=i,Bp}var Up,vv;function aw(){return vv||(vv=1,Up=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var a=42;e[t]=a;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,t);if(d.value!==a||d.enumerable!==!0)return!1}return!0}),Up}var zp,_v;function ow(){if(_v)return zp;_v=1;var i=typeof Symbol<"u"&&Symbol,e=aw();return zp=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},zp}var Gp,xv;function u_(){return xv||(xv=1,Gp=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Gp}var Hp,wv;function h_(){if(wv)return Hp;wv=1;var i=o_();return Hp=i.getPrototypeOf||null,Hp}var jp,Ev;function lw(){if(Ev)return jp;Ev=1;var i="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",a=function(p,g){for(var _=[],w=0;w<p.length;w+=1)_[w]=p[w];for(var S=0;S<g.length;S+=1)_[S+p.length]=g[S];return _},o=function(p,g){for(var _=[],w=g,S=0;w<p.length;w+=1,S+=1)_[S]=p[w];return _},c=function(d,p){for(var g="",_=0;_<d.length;_+=1)g+=d[_],_+1<d.length&&(g+=p);return g};return jp=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==r)throw new TypeError(i+g);for(var _=o(arguments,1),w,S=function(){if(this instanceof w){var k=g.apply(this,a(_,arguments));return Object(k)===k?k:this}return g.apply(p,a(_,arguments))},b=t(0,g.length-_.length),A=[],M=0;M<b;M++)A[M]="$"+M;if(w=Function("binder","return function ("+c(A,",")+"){ return binder.apply(this,arguments); }")(S),g.prototype){var P=function(){};P.prototype=g.prototype,w.prototype=new P,P.prototype=null}return w},jp}var Wp,Sv;function df(){if(Sv)return Wp;Sv=1;var i=lw();return Wp=Function.prototype.bind||i,Wp}var Vp,bv;function Ng(){return bv||(bv=1,Vp=Function.prototype.call),Vp}var $p,Tv;function c_(){return Tv||(Tv=1,$p=Function.prototype.apply),$p}var Xp,Av;function uw(){return Av||(Av=1,Xp=typeof Reflect<"u"&&Reflect&&Reflect.apply),Xp}var Yp,Cv;function hw(){if(Cv)return Yp;Cv=1;var i=df(),e=c_(),t=Ng(),r=uw();return Yp=r||i.call(t,e),Yp}var qp,Pv;function d_(){if(Pv)return qp;Pv=1;var i=df(),e=Zu(),t=Ng(),r=hw();return qp=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return r(i,t,o)},qp}var Qp,Rv;function cw(){if(Rv)return Qp;Rv=1;var i=d_(),e=l_(),t;try{t=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var r=!!t&&e&&e(Object.prototype,"__proto__"),a=Object,o=a.getPrototypeOf;return Qp=r&&typeof r.get=="function"?i([r.get]):typeof o=="function"?function(d){return o(d==null?d:a(d))}:!1,Qp}var Kp,Iv;function dw(){if(Iv)return Kp;Iv=1;var i=u_(),e=h_(),t=cw();return Kp=i?function(a){return i(a)}:e?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return e(a)}:t?function(a){return t(a)}:null,Kp}var Zp,Mv;function fw(){if(Mv)return Zp;Mv=1;var i=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=df();return Zp=t.call(i,e),Zp}var Jp,kv;function Fg(){if(kv)return Jp;kv=1;var i,e=o_(),t=W1(),r=V1(),a=$1(),o=X1(),c=Y1(),d=Zu(),p=q1(),g=Q1(),_=K1(),w=Z1(),S=J1(),b=ew(),A=tw(),M=nw(),P=Function,k=function(Re){try{return P('"use strict"; return ('+Re+").constructor;")()}catch{}},z=l_(),O=sw(),W=function(){throw new d},B=z?function(){try{return arguments.callee,W}catch{try{return z(arguments,"callee").get}catch{return W}}}():W,K=ow()(),N=dw(),J=h_(),ce=u_(),fe=c_(),Pe=Ng(),Q={},Z=typeof Uint8Array>"u"||!N?i:N(Uint8Array),le={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":K&&N?N([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":Q,"%AsyncGenerator%":Q,"%AsyncGeneratorFunction%":Q,"%AsyncIteratorPrototype%":Q,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?i:Float16Array,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":Q,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&N?N(N([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!N?i:N(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":z,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":a,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!N?i:N(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&N?N(""[Symbol.iterator]()):i,"%Symbol%":K?Symbol:i,"%SyntaxError%":c,"%ThrowTypeError%":B,"%TypedArray%":Z,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet,"%Function.prototype.call%":Pe,"%Function.prototype.apply%":fe,"%Object.defineProperty%":O,"%Object.getPrototypeOf%":J,"%Math.abs%":g,"%Math.floor%":_,"%Math.max%":w,"%Math.min%":S,"%Math.pow%":b,"%Math.round%":A,"%Math.sign%":M,"%Reflect.getPrototypeOf%":ce};if(N)try{null.error}catch(Re){var Te=N(N(Re));le["%Error.prototype%"]=Te}var L=function Re(ye){var Me;if(ye==="%AsyncFunction%")Me=k("async function () {}");else if(ye==="%GeneratorFunction%")Me=k("function* () {}");else if(ye==="%AsyncGeneratorFunction%")Me=k("async function* () {}");else if(ye==="%AsyncGenerator%"){var Ue=Re("%AsyncGeneratorFunction%");Ue&&(Me=Ue.prototype)}else if(ye==="%AsyncIteratorPrototype%"){var We=Re("%AsyncGenerator%");We&&N&&(Me=N(We.prototype))}return le[ye]=Me,Me},G={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=df(),H=fw(),D=C.call(Pe,Array.prototype.concat),R=C.call(fe,Array.prototype.splice),U=C.call(Pe,String.prototype.replace),X=C.call(Pe,String.prototype.slice),ie=C.call(Pe,RegExp.prototype.exec),ue=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pe=/\\(\\)?/g,_e=function(ye){var Me=X(ye,0,1),Ue=X(ye,-1);if(Me==="%"&&Ue!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(Ue==="%"&&Me!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var We=[];return U(ye,ue,function(ot,He,Ve,kt){We[We.length]=Ve?U(kt,pe,"$1"):He||ot}),We},be=function(ye,Me){var Ue=ye,We;if(H(G,Ue)&&(We=G[Ue],Ue="%"+We[0]+"%"),H(le,Ue)){var ot=le[Ue];if(ot===Q&&(ot=L(Ue)),typeof ot>"u"&&!Me)throw new d("intrinsic "+ye+" exists, but is not available. Please file an issue!");return{alias:We,name:Ue,value:ot}}throw new c("intrinsic "+ye+" does not exist!")};return Jp=function(ye,Me){if(typeof ye!="string"||ye.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Me!="boolean")throw new d('"allowMissing" argument must be a boolean');if(ie(/^%?[^%]*%?$/,ye)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=_e(ye),We=Ue.length>0?Ue[0]:"",ot=be("%"+We+"%",Me),He=ot.name,Ve=ot.value,kt=!1,Gt=ot.alias;Gt&&(We=Gt[0],R(Ue,D([0,1],Gt)));for(var Jn=1,cr=!0;Jn<Ue.length;Jn+=1){var dr=Ue[Jn],ei=X(dr,0,1),gi=X(dr,-1);if((ei==='"'||ei==="'"||ei==="`"||gi==='"'||gi==="'"||gi==="`")&&ei!==gi)throw new c("property names with quotes must have matching quotes");if((dr==="constructor"||!cr)&&(kt=!0),We+="."+dr,He="%"+We+"%",H(le,He))Ve=le[He];else if(Ve!=null){if(!(dr in Ve)){if(!Me)throw new d("base intrinsic for "+ye+" exists, but the property is not available.");return}if(z&&Jn+1>=Ue.length){var Jr=z(Ve,dr);cr=!!Jr,cr&&"get"in Jr&&!("originalValue"in Jr.get)?Ve=Jr.get:Ve=Ve[dr]}else cr=H(Ve,dr),Ve=Ve[dr];cr&&!kt&&(le[He]=Ve)}}return Ve},Jp}var em,Dv;function f_(){if(Dv)return em;Dv=1;var i=Fg(),e=d_(),t=e([i("%String.prototype.indexOf%")]);return em=function(a,o){var c=i(a,!!o);return typeof c=="function"&&t(a,".prototype.")>-1?e([c]):c},em}var tm,Nv;function p_(){if(Nv)return tm;Nv=1;var i=Fg(),e=f_(),t=cf(),r=Zu(),a=i("%Map%",!0),o=e("Map.prototype.get",!0),c=e("Map.prototype.set",!0),d=e("Map.prototype.has",!0),p=e("Map.prototype.delete",!0),g=e("Map.prototype.size",!0);return tm=!!a&&function(){var w,S={assert:function(b){if(!S.has(b))throw new r("Side channel does not contain "+t(b))},delete:function(b){if(w){var A=p(w,b);return g(w)===0&&(w=void 0),A}return!1},get:function(b){if(w)return o(w,b)},has:function(b){return w?d(w,b):!1},set:function(b,A){w||(w=new a),c(w,b,A)}};return S},tm}var rm,Fv;function pw(){if(Fv)return rm;Fv=1;var i=Fg(),e=f_(),t=cf(),r=p_(),a=Zu(),o=i("%WeakMap%",!0),c=e("WeakMap.prototype.get",!0),d=e("WeakMap.prototype.set",!0),p=e("WeakMap.prototype.has",!0),g=e("WeakMap.prototype.delete",!0);return rm=o?function(){var w,S,b={assert:function(A){if(!b.has(A))throw new a("Side channel does not contain "+t(A))},delete:function(A){if(o&&A&&(typeof A=="object"||typeof A=="function")){if(w)return g(w,A)}else if(r&&S)return S.delete(A);return!1},get:function(A){return o&&A&&(typeof A=="object"||typeof A=="function")&&w?c(w,A):S&&S.get(A)},has:function(A){return o&&A&&(typeof A=="object"||typeof A=="function")&&w?p(w,A):!!S&&S.has(A)},set:function(A,M){o&&A&&(typeof A=="object"||typeof A=="function")?(w||(w=new o),d(w,A,M)):r&&(S||(S=r()),S.set(A,M))}};return b}:r,rm}var nm,Ov;function mw(){if(Ov)return nm;Ov=1;var i=Zu(),e=cf(),t=j1(),r=p_(),a=pw(),o=a||r||t;return nm=function(){var d,p={assert:function(g){if(!p.has(g))throw new i("Side channel does not contain "+e(g))},delete:function(g){return!!d&&d.delete(g)},get:function(g){return d&&d.get(g)},has:function(g){return!!d&&d.has(g)},set:function(g,_){d||(d=o()),d.set(g,_)}};return p},nm}var im,Lv;function Og(){if(Lv)return im;Lv=1;var i=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return im={default:t.RFC3986,formatters:{RFC1738:function(r){return i.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},im}var sm,Bv;function m_(){if(Bv)return sm;Bv=1;var i=Og(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r=function(){for(var P=[],k=0;k<256;++k)P.push("%"+((k<16?"0":"")+k.toString(16)).toUpperCase());return P}(),a=function(k){for(;k.length>1;){var z=k.pop(),O=z.obj[z.prop];if(t(O)){for(var W=[],B=0;B<O.length;++B)typeof O[B]<"u"&&W.push(O[B]);z.obj[z.prop]=W}}},o=function(k,z){for(var O=z&&z.plainObjects?{__proto__:null}:{},W=0;W<k.length;++W)typeof k[W]<"u"&&(O[W]=k[W]);return O},c=function P(k,z,O){if(!z)return k;if(typeof z!="object"&&typeof z!="function"){if(t(k))k.push(z);else if(k&&typeof k=="object")(O&&(O.plainObjects||O.allowPrototypes)||!e.call(Object.prototype,z))&&(k[z]=!0);else return[k,z];return k}if(!k||typeof k!="object")return[k].concat(z);var W=k;return t(k)&&!t(z)&&(W=o(k,O)),t(k)&&t(z)?(z.forEach(function(B,K){if(e.call(k,K)){var N=k[K];N&&typeof N=="object"&&B&&typeof B=="object"?k[K]=P(N,B,O):k.push(B)}else k[K]=B}),k):Object.keys(z).reduce(function(B,K){var N=z[K];return e.call(B,K)?B[K]=P(B[K],N,O):B[K]=N,B},W)},d=function(k,z){return Object.keys(z).reduce(function(O,W){return O[W]=z[W],O},k)},p=function(P,k,z){var O=P.replace(/\+/g," ");if(z==="iso-8859-1")return O.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(O)}catch{return O}},g=1024,_=function(k,z,O,W,B){if(k.length===0)return k;var K=k;if(typeof k=="symbol"?K=Symbol.prototype.toString.call(k):typeof k!="string"&&(K=String(k)),O==="iso-8859-1")return escape(K).replace(/%u[0-9a-f]{4}/gi,function(Z){return"%26%23"+parseInt(Z.slice(2),16)+"%3B"});for(var N="",J=0;J<K.length;J+=g){for(var ce=K.length>=g?K.slice(J,J+g):K,fe=[],Pe=0;Pe<ce.length;++Pe){var Q=ce.charCodeAt(Pe);if(Q===45||Q===46||Q===95||Q===126||Q>=48&&Q<=57||Q>=65&&Q<=90||Q>=97&&Q<=122||B===i.RFC1738&&(Q===40||Q===41)){fe[fe.length]=ce.charAt(Pe);continue}if(Q<128){fe[fe.length]=r[Q];continue}if(Q<2048){fe[fe.length]=r[192|Q>>6]+r[128|Q&63];continue}if(Q<55296||Q>=57344){fe[fe.length]=r[224|Q>>12]+r[128|Q>>6&63]+r[128|Q&63];continue}Pe+=1,Q=65536+((Q&1023)<<10|ce.charCodeAt(Pe)&1023),fe[fe.length]=r[240|Q>>18]+r[128|Q>>12&63]+r[128|Q>>6&63]+r[128|Q&63]}N+=fe.join("")}return N},w=function(k){for(var z=[{obj:{o:k},prop:"o"}],O=[],W=0;W<z.length;++W)for(var B=z[W],K=B.obj[B.prop],N=Object.keys(K),J=0;J<N.length;++J){var ce=N[J],fe=K[ce];typeof fe=="object"&&fe!==null&&O.indexOf(fe)===-1&&(z.push({obj:K,prop:ce}),O.push(fe))}return a(z),k},S=function(k){return Object.prototype.toString.call(k)==="[object RegExp]"},b=function(k){return!k||typeof k!="object"?!1:!!(k.constructor&&k.constructor.isBuffer&&k.constructor.isBuffer(k))},A=function(k,z){return[].concat(k,z)},M=function(k,z){if(t(k)){for(var O=[],W=0;W<k.length;W+=1)O.push(z(k[W]));return O}return z(k)};return sm={arrayToObject:o,assign:d,combine:A,compact:w,decode:p,encode:_,isBuffer:b,isRegExp:S,maybeMap:M,merge:c},sm}var am,Uv;function gw(){if(Uv)return am;Uv=1;var i=mw(),e=m_(),t=Og(),r=Object.prototype.hasOwnProperty,a={brackets:function(P){return P+"[]"},comma:"comma",indices:function(P,k){return P+"["+k+"]"},repeat:function(P){return P}},o=Array.isArray,c=Array.prototype.push,d=function(M,P){c.apply(M,o(P)?P:[P])},p=Date.prototype.toISOString,g=t.default,_={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(P){return p.call(P)},skipNulls:!1,strictNullHandling:!1},w=function(P){return typeof P=="string"||typeof P=="number"||typeof P=="boolean"||typeof P=="symbol"||typeof P=="bigint"},S={},b=function M(P,k,z,O,W,B,K,N,J,ce,fe,Pe,Q,Z,le,Te,L,G){for(var C=P,H=G,D=0,R=!1;(H=H.get(S))!==void 0&&!R;){var U=H.get(P);if(D+=1,typeof U<"u"){if(U===D)throw new RangeError("Cyclic object value");R=!0}typeof H.get(S)>"u"&&(D=0)}if(typeof ce=="function"?C=ce(k,C):C instanceof Date?C=Q(C):z==="comma"&&o(C)&&(C=e.maybeMap(C,function(He){return He instanceof Date?Q(He):He})),C===null){if(B)return J&&!Te?J(k,_.encoder,L,"key",Z):k;C=""}if(w(C)||e.isBuffer(C)){if(J){var X=Te?k:J(k,_.encoder,L,"key",Z);return[le(X)+"="+le(J(C,_.encoder,L,"value",Z))]}return[le(k)+"="+le(String(C))]}var ie=[];if(typeof C>"u")return ie;var ue;if(z==="comma"&&o(C))Te&&J&&(C=e.maybeMap(C,J)),ue=[{value:C.length>0?C.join(",")||null:void 0}];else if(o(ce))ue=ce;else{var pe=Object.keys(C);ue=fe?pe.sort(fe):pe}var _e=N?String(k).replace(/\./g,"%2E"):String(k),be=O&&o(C)&&C.length===1?_e+"[]":_e;if(W&&o(C)&&C.length===0)return be+"[]";for(var Re=0;Re<ue.length;++Re){var ye=ue[Re],Me=typeof ye=="object"&&ye&&typeof ye.value<"u"?ye.value:C[ye];if(!(K&&Me===null)){var Ue=Pe&&N?String(ye).replace(/\./g,"%2E"):String(ye),We=o(C)?typeof z=="function"?z(be,Ue):be:be+(Pe?"."+Ue:"["+Ue+"]");G.set(P,D);var ot=i();ot.set(S,G),d(ie,M(Me,We,z,O,W,B,K,N,z==="comma"&&Te&&o(C)?null:J,ce,fe,Pe,Q,Z,le,Te,L,ot))}}return ie},A=function(P){if(!P)return _;if(typeof P.allowEmptyArrays<"u"&&typeof P.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof P.encodeDotInKeys<"u"&&typeof P.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(P.encoder!==null&&typeof P.encoder<"u"&&typeof P.encoder!="function")throw new TypeError("Encoder has to be a function.");var k=P.charset||_.charset;if(typeof P.charset<"u"&&P.charset!=="utf-8"&&P.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var z=t.default;if(typeof P.format<"u"){if(!r.call(t.formatters,P.format))throw new TypeError("Unknown format option provided.");z=P.format}var O=t.formatters[z],W=_.filter;(typeof P.filter=="function"||o(P.filter))&&(W=P.filter);var B;if(P.arrayFormat in a?B=P.arrayFormat:"indices"in P?B=P.indices?"indices":"repeat":B=_.arrayFormat,"commaRoundTrip"in P&&typeof P.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var K=typeof P.allowDots>"u"?P.encodeDotInKeys===!0?!0:_.allowDots:!!P.allowDots;return{addQueryPrefix:typeof P.addQueryPrefix=="boolean"?P.addQueryPrefix:_.addQueryPrefix,allowDots:K,allowEmptyArrays:typeof P.allowEmptyArrays=="boolean"?!!P.allowEmptyArrays:_.allowEmptyArrays,arrayFormat:B,charset:k,charsetSentinel:typeof P.charsetSentinel=="boolean"?P.charsetSentinel:_.charsetSentinel,commaRoundTrip:!!P.commaRoundTrip,delimiter:typeof P.delimiter>"u"?_.delimiter:P.delimiter,encode:typeof P.encode=="boolean"?P.encode:_.encode,encodeDotInKeys:typeof P.encodeDotInKeys=="boolean"?P.encodeDotInKeys:_.encodeDotInKeys,encoder:typeof P.encoder=="function"?P.encoder:_.encoder,encodeValuesOnly:typeof P.encodeValuesOnly=="boolean"?P.encodeValuesOnly:_.encodeValuesOnly,filter:W,format:z,formatter:O,serializeDate:typeof P.serializeDate=="function"?P.serializeDate:_.serializeDate,skipNulls:typeof P.skipNulls=="boolean"?P.skipNulls:_.skipNulls,sort:typeof P.sort=="function"?P.sort:null,strictNullHandling:typeof P.strictNullHandling=="boolean"?P.strictNullHandling:_.strictNullHandling}};return am=function(M,P){var k=M,z=A(P),O,W;typeof z.filter=="function"?(W=z.filter,k=W("",k)):o(z.filter)&&(W=z.filter,O=W);var B=[];if(typeof k!="object"||k===null)return"";var K=a[z.arrayFormat],N=K==="comma"&&z.commaRoundTrip;O||(O=Object.keys(k)),z.sort&&O.sort(z.sort);for(var J=i(),ce=0;ce<O.length;++ce){var fe=O[ce],Pe=k[fe];z.skipNulls&&Pe===null||d(B,b(Pe,fe,K,N,z.allowEmptyArrays,z.strictNullHandling,z.skipNulls,z.encodeDotInKeys,z.encode?z.encoder:null,z.filter,z.sort,z.allowDots,z.serializeDate,z.format,z.formatter,z.encodeValuesOnly,z.charset,J))}var Q=B.join(z.delimiter),Z=z.addQueryPrefix===!0?"?":"";return z.charsetSentinel&&(z.charset==="iso-8859-1"?Z+="utf8=%26%2310003%3B&":Z+="utf8=%E2%9C%93&"),Q.length>0?Z+Q:""},am}var om,zv;function yw(){if(zv)return om;zv=1;var i=m_(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:i.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},a=function(S){return S.replace(/&#(\d+);/g,function(b,A){return String.fromCharCode(parseInt(A,10))})},o=function(S,b,A){if(S&&typeof S=="string"&&b.comma&&S.indexOf(",")>-1)return S.split(",");if(b.throwOnLimitExceeded&&A>=b.arrayLimit)throw new RangeError("Array limit exceeded. Only "+b.arrayLimit+" element"+(b.arrayLimit===1?"":"s")+" allowed in an array.");return S},c="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",p=function(b,A){var M={__proto__:null},P=A.ignoreQueryPrefix?b.replace(/^\?/,""):b;P=P.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var k=A.parameterLimit===1/0?void 0:A.parameterLimit,z=P.split(A.delimiter,A.throwOnLimitExceeded?k+1:k);if(A.throwOnLimitExceeded&&z.length>k)throw new RangeError("Parameter limit exceeded. Only "+k+" parameter"+(k===1?"":"s")+" allowed.");var O=-1,W,B=A.charset;if(A.charsetSentinel)for(W=0;W<z.length;++W)z[W].indexOf("utf8=")===0&&(z[W]===d?B="utf-8":z[W]===c&&(B="iso-8859-1"),O=W,W=z.length);for(W=0;W<z.length;++W)if(W!==O){var K=z[W],N=K.indexOf("]="),J=N===-1?K.indexOf("="):N+1,ce,fe;J===-1?(ce=A.decoder(K,r.decoder,B,"key"),fe=A.strictNullHandling?null:""):(ce=A.decoder(K.slice(0,J),r.decoder,B,"key"),fe=i.maybeMap(o(K.slice(J+1),A,t(M[ce])?M[ce].length:0),function(Q){return A.decoder(Q,r.decoder,B,"value")})),fe&&A.interpretNumericEntities&&B==="iso-8859-1"&&(fe=a(String(fe))),K.indexOf("[]=")>-1&&(fe=t(fe)?[fe]:fe);var Pe=e.call(M,ce);Pe&&A.duplicates==="combine"?M[ce]=i.combine(M[ce],fe):(!Pe||A.duplicates==="last")&&(M[ce]=fe)}return M},g=function(S,b,A,M){var P=0;if(S.length>0&&S[S.length-1]==="[]"){var k=S.slice(0,-1).join("");P=Array.isArray(b)&&b[k]?b[k].length:0}for(var z=M?b:o(b,A,P),O=S.length-1;O>=0;--O){var W,B=S[O];if(B==="[]"&&A.parseArrays)W=A.allowEmptyArrays&&(z===""||A.strictNullHandling&&z===null)?[]:i.combine([],z);else{W=A.plainObjects?{__proto__:null}:{};var K=B.charAt(0)==="["&&B.charAt(B.length-1)==="]"?B.slice(1,-1):B,N=A.decodeDotInKeys?K.replace(/%2E/g,"."):K,J=parseInt(N,10);!A.parseArrays&&N===""?W={0:z}:!isNaN(J)&&B!==N&&String(J)===N&&J>=0&&A.parseArrays&&J<=A.arrayLimit?(W=[],W[J]=z):N!=="__proto__"&&(W[N]=z)}z=W}return z},_=function(b,A,M,P){if(b){var k=M.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,z=/(\[[^[\]]*])/,O=/(\[[^[\]]*])/g,W=M.depth>0&&z.exec(k),B=W?k.slice(0,W.index):k,K=[];if(B){if(!M.plainObjects&&e.call(Object.prototype,B)&&!M.allowPrototypes)return;K.push(B)}for(var N=0;M.depth>0&&(W=O.exec(k))!==null&&N<M.depth;){if(N+=1,!M.plainObjects&&e.call(Object.prototype,W[1].slice(1,-1))&&!M.allowPrototypes)return;K.push(W[1])}if(W){if(M.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+M.depth+" and strictDepth is true");K.push("["+k.slice(W.index)+"]")}return g(K,A,M,P)}},w=function(b){if(!b)return r;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&typeof b.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(b.decoder!==null&&typeof b.decoder<"u"&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof b.throwOnLimitExceeded<"u"&&typeof b.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var A=typeof b.charset>"u"?r.charset:b.charset,M=typeof b.duplicates>"u"?r.duplicates:b.duplicates;if(M!=="combine"&&M!=="first"&&M!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var P=typeof b.allowDots>"u"?b.decodeDotInKeys===!0?!0:r.allowDots:!!b.allowDots;return{allowDots:P,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:r.allowPrototypes,allowSparse:typeof b.allowSparse=="boolean"?b.allowSparse:r.allowSparse,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:r.arrayLimit,charset:A,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:r.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:r.comma,decodeDotInKeys:typeof b.decodeDotInKeys=="boolean"?b.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof b.decoder=="function"?b.decoder:r.decoder,delimiter:typeof b.delimiter=="string"||i.isRegExp(b.delimiter)?b.delimiter:r.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:r.depth,duplicates:M,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:r.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:r.plainObjects,strictDepth:typeof b.strictDepth=="boolean"?!!b.strictDepth:r.strictDepth,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof b.throwOnLimitExceeded=="boolean"?b.throwOnLimitExceeded:!1}};return om=function(S,b){var A=w(b);if(S===""||S===null||typeof S>"u")return A.plainObjects?{__proto__:null}:{};for(var M=typeof S=="string"?p(S,A):S,P=A.plainObjects?{__proto__:null}:{},k=Object.keys(M),z=0;z<k.length;++z){var O=k[z],W=_(O,M[O],A,typeof S=="string");P=i.merge(P,W,A)}return A.allowSparse===!0?P:i.compact(P)},om}var lm,Gv;function vw(){if(Gv)return lm;Gv=1;var i=gw(),e=yw(),t=Og();return lm={formats:t,parse:e,stringify:i},lm}var Hv;function _w(){if(Hv)return wl;Hv=1;var i=U1();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],c=["{","}","|","\\","^","`"].concat(o),d=["'"].concat(c),p=["%","/","?",";","#"].concat(d),g=["/","?","#"],_=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},M={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=vw();function k(B,K,N){if(B&&typeof B=="object"&&B instanceof e)return B;var J=new e;return J.parse(B,K,N),J}e.prototype.parse=function(B,K,N){if(typeof B!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof B);var J=B.indexOf("?"),ce=J!==-1&&J<B.indexOf("#")?"?":"#",fe=B.split(ce),Pe=/\\/g;fe[0]=fe[0].replace(Pe,"/"),B=fe.join(ce);var Q=B;if(Q=Q.trim(),!N&&B.split("#").length===1){var Z=a.exec(Q);if(Z)return this.path=Q,this.href=Q,this.pathname=Z[1],Z[2]?(this.search=Z[2],K?this.query=P.parse(this.search.substr(1)):this.query=this.search.substr(1)):K&&(this.search="",this.query={}),this}var le=t.exec(Q);if(le){le=le[0];var Te=le.toLowerCase();this.protocol=Te,Q=Q.substr(le.length)}if(N||le||Q.match(/^\/\/[^@/]+@[^@/]+/)){var L=Q.substr(0,2)==="//";L&&!(le&&A[le])&&(Q=Q.substr(2),this.slashes=!0)}if(!A[le]&&(L||le&&!M[le])){for(var G=-1,C=0;C<g.length;C++){var H=Q.indexOf(g[C]);H!==-1&&(G===-1||H<G)&&(G=H)}var D,R;G===-1?R=Q.lastIndexOf("@"):R=Q.lastIndexOf("@",G),R!==-1&&(D=Q.slice(0,R),Q=Q.slice(R+1),this.auth=decodeURIComponent(D)),G=-1;for(var C=0;C<p.length;C++){var H=Q.indexOf(p[C]);H!==-1&&(G===-1||H<G)&&(G=H)}G===-1&&(G=Q.length),this.host=Q.slice(0,G),Q=Q.slice(G),this.parseHost(),this.hostname=this.hostname||"";var U=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!U)for(var X=this.hostname.split(/\./),C=0,ie=X.length;C<ie;C++){var ue=X[C];if(ue&&!ue.match(w)){for(var pe="",_e=0,be=ue.length;_e<be;_e++)ue.charCodeAt(_e)>127?pe+="x":pe+=ue[_e];if(!pe.match(w)){var Re=X.slice(0,C),ye=X.slice(C+1),Me=ue.match(S);Me&&(Re.push(Me[1]),ye.unshift(Me[2])),ye.length&&(Q="/"+ye.join(".")+Q),this.hostname=Re.join(".");break}}}this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),U||(this.hostname=i.toASCII(this.hostname));var Ue=this.port?":"+this.port:"",We=this.hostname||"";this.host=We+Ue,this.href+=this.host,U&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Q[0]!=="/"&&(Q="/"+Q))}if(!b[Te])for(var C=0,ie=d.length;C<ie;C++){var ot=d[C];if(Q.indexOf(ot)!==-1){var He=encodeURIComponent(ot);He===ot&&(He=escape(ot)),Q=Q.split(ot).join(He)}}var Ve=Q.indexOf("#");Ve!==-1&&(this.hash=Q.substr(Ve),Q=Q.slice(0,Ve));var kt=Q.indexOf("?");if(kt!==-1?(this.search=Q.substr(kt),this.query=Q.substr(kt+1),K&&(this.query=P.parse(this.query)),Q=Q.slice(0,kt)):K&&(this.search="",this.query={}),Q&&(this.pathname=Q),M[Te]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ue=this.pathname||"",Gt=this.search||"";this.path=Ue+Gt}return this.href=this.format(),this};function z(B){return typeof B=="string"&&(B=k(B)),B instanceof e?B.format():e.prototype.format.call(B)}e.prototype.format=function(){var B=this.auth||"";B&&(B=encodeURIComponent(B),B=B.replace(/%3A/i,":"),B+="@");var K=this.protocol||"",N=this.pathname||"",J=this.hash||"",ce=!1,fe="";this.host?ce=B+this.host:this.hostname&&(ce=B+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ce+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(fe=P.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Pe=this.search||fe&&"?"+fe||"";return K&&K.substr(-1)!==":"&&(K+=":"),this.slashes||(!K||M[K])&&ce!==!1?(ce="//"+(ce||""),N&&N.charAt(0)!=="/"&&(N="/"+N)):ce||(ce=""),J&&J.charAt(0)!=="#"&&(J="#"+J),Pe&&Pe.charAt(0)!=="?"&&(Pe="?"+Pe),N=N.replace(/[?#]/g,function(Q){return encodeURIComponent(Q)}),Pe=Pe.replace("#","%23"),K+ce+N+Pe+J};function O(B,K){return k(B,!1,!0).resolve(K)}e.prototype.resolve=function(B){return this.resolveObject(k(B,!1,!0)).format()};function W(B,K){return B?k(B,!1,!0).resolveObject(K):K}return e.prototype.resolveObject=function(B){if(typeof B=="string"){var K=new e;K.parse(B,!1,!0),B=K}for(var N=new e,J=Object.keys(this),ce=0;ce<J.length;ce++){var fe=J[ce];N[fe]=this[fe]}if(N.hash=B.hash,B.href==="")return N.href=N.format(),N;if(B.slashes&&!B.protocol){for(var Pe=Object.keys(B),Q=0;Q<Pe.length;Q++){var Z=Pe[Q];Z!=="protocol"&&(N[Z]=B[Z])}return M[N.protocol]&&N.hostname&&!N.pathname&&(N.pathname="/",N.path=N.pathname),N.href=N.format(),N}if(B.protocol&&B.protocol!==N.protocol){if(!M[B.protocol]){for(var le=Object.keys(B),Te=0;Te<le.length;Te++){var L=le[Te];N[L]=B[L]}return N.href=N.format(),N}if(N.protocol=B.protocol,!B.host&&!A[B.protocol]){for(var ie=(B.pathname||"").split("/");ie.length&&!(B.host=ie.shift()););B.host||(B.host=""),B.hostname||(B.hostname=""),ie[0]!==""&&ie.unshift(""),ie.length<2&&ie.unshift(""),N.pathname=ie.join("/")}else N.pathname=B.pathname;if(N.search=B.search,N.query=B.query,N.host=B.host||"",N.auth=B.auth,N.hostname=B.hostname||B.host,N.port=B.port,N.pathname||N.search){var G=N.pathname||"",C=N.search||"";N.path=G+C}return N.slashes=N.slashes||B.slashes,N.href=N.format(),N}var H=N.pathname&&N.pathname.charAt(0)==="/",D=B.host||B.pathname&&B.pathname.charAt(0)==="/",R=D||H||N.host&&B.pathname,U=R,X=N.pathname&&N.pathname.split("/")||[],ie=B.pathname&&B.pathname.split("/")||[],ue=N.protocol&&!M[N.protocol];if(ue&&(N.hostname="",N.port=null,N.host&&(X[0]===""?X[0]=N.host:X.unshift(N.host)),N.host="",B.protocol&&(B.hostname=null,B.port=null,B.host&&(ie[0]===""?ie[0]=B.host:ie.unshift(B.host)),B.host=null),R=R&&(ie[0]===""||X[0]==="")),D)N.host=B.host||B.host===""?B.host:N.host,N.hostname=B.hostname||B.hostname===""?B.hostname:N.hostname,N.search=B.search,N.query=B.query,X=ie;else if(ie.length)X||(X=[]),X.pop(),X=X.concat(ie),N.search=B.search,N.query=B.query;else if(B.search!=null){if(ue){N.host=X.shift(),N.hostname=N.host;var pe=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;pe&&(N.auth=pe.shift(),N.hostname=pe.shift(),N.host=N.hostname)}return N.search=B.search,N.query=B.query,(N.pathname!==null||N.search!==null)&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.href=N.format(),N}if(!X.length)return N.pathname=null,N.search?N.path="/"+N.search:N.path=null,N.href=N.format(),N;for(var _e=X.slice(-1)[0],be=(N.host||B.host||X.length>1)&&(_e==="."||_e==="..")||_e==="",Re=0,ye=X.length;ye>=0;ye--)_e=X[ye],_e==="."?X.splice(ye,1):_e===".."?(X.splice(ye,1),Re++):Re&&(X.splice(ye,1),Re--);if(!R&&!U)for(;Re--;Re)X.unshift("..");R&&X[0]!==""&&(!X[0]||X[0].charAt(0)!=="/")&&X.unshift(""),be&&X.join("/").substr(-1)!=="/"&&X.push("");var Me=X[0]===""||X[0]&&X[0].charAt(0)==="/";if(ue){N.hostname=Me?"":X.length?X.shift():"",N.host=N.hostname;var pe=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;pe&&(N.auth=pe.shift(),N.hostname=pe.shift(),N.host=N.hostname)}return R=R||N.host&&X.length,R&&!Me&&X.unshift(""),X.length>0?N.pathname=X.join("/"):(N.pathname=null,N.path=null),(N.pathname!==null||N.search!==null)&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.auth=B.auth||N.auth,N.slashes=N.slashes||B.slashes,N.href=N.format(),N},e.prototype.parseHost=function(){var B=this.host,K=r.exec(B);K&&(K=K[0],K!==":"&&(this.port=K.substr(1)),B=B.substr(0,B.length-K.length)),B&&(this.hostname=B)},wl.parse=k,wl.resolve=O,wl.resolveObject=W,wl.format=z,wl.Url=e,wl}var mC=_w();const jv={};function lt(i,e,t=3){if(jv[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${i}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${i}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${i}`),console.warn(r))),jv[e]=!0}function zi(i){if(typeof i!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(i)}`)}function ec(i){return i.split("?")[0].split("#")[0]}function xw(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ww(i,e,t){return i.replace(new RegExp(xw(e),"g"),t)}function Ew(i,e){let t="",r=0,a=-1,o=0,c=-1;for(let d=0;d<=i.length;++d){if(d<i.length)c=i.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(a===d-1||o===1))if(a!==d-1&&o===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const p=t.lastIndexOf("/");if(p!==t.length-1){p===-1?(t="",r=0):(t=t.slice(0,p),r=t.length-1-t.lastIndexOf("/")),a=d,o=0;continue}}else if(t.length===2||t.length===1){t="",r=0,a=d,o=0;continue}}}else t.length>0?t+=`/${i.slice(a+1,d)}`:t=i.slice(a+1,d),r=d-a-1;a=d,o=0}else c===46&&o!==-1?++o:o=-1}return t}const Dr={toPosix(i){return ww(i,"\\","/")},isUrl(i){return/^https?:/.test(this.toPosix(i))},isDataUrl(i){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(i)},isBlobUrl(i){return i.startsWith("blob:")},hasProtocol(i){return/^[^/:]+:/.test(this.toPosix(i))},getProtocol(i){zi(i),i=this.toPosix(i);const e=/^file:\/\/\//.exec(i);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(i);return t?t[0]:""},toAbsolute(i,e,t){if(zi(i),this.isDataUrl(i)||this.isBlobUrl(i))return i;const r=ec(this.toPosix(e??Le.ADAPTER.getBaseUrl())),a=ec(this.toPosix(t??this.rootname(r)));return i=this.toPosix(i),i.startsWith("/")?Dr.join(a,i.slice(1)):this.isAbsolute(i)?i:this.join(r,i)},normalize(i){if(zi(i),i.length===0)return".";if(this.isDataUrl(i)||this.isBlobUrl(i))return i;i=this.toPosix(i);let e="";const t=i.startsWith("/");this.hasProtocol(i)&&(e=this.rootname(i),i=i.slice(e.length));const r=i.endsWith("/");return i=Ew(i),i.length>0&&r&&(i+="/"),t?`/${i}`:e+i},isAbsolute(i){return zi(i),i=this.toPosix(i),this.hasProtocol(i)?!0:i.startsWith("/")},join(...i){if(i.length===0)return".";let e;for(let t=0;t<i.length;++t){const r=i[t];if(zi(r),r.length>0)if(e===void 0)e=r;else{const a=i[t-1]??"";this.joinExtensions.includes(this.extname(a).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(i){if(zi(i),i.length===0)return".";i=this.toPosix(i);let e=i.charCodeAt(0);const t=e===47;let r=-1,a=!0;const o=this.getProtocol(i),c=i;i=i.slice(o.length);for(let d=i.length-1;d>=1;--d)if(e=i.charCodeAt(d),e===47){if(!a){r=d;break}}else a=!1;return r===-1?t?"/":this.isUrl(c)?o+i:o:t&&r===1?"//":o+i.slice(0,r)},rootname(i){zi(i),i=this.toPosix(i);let e="";if(i.startsWith("/")?e="/":e=this.getProtocol(i),this.isUrl(i)){const t=i.indexOf("/",e.length);t!==-1?e=i.slice(0,t):e=i,e.endsWith("/")||(e+="/")}return e},basename(i,e){zi(i),e&&zi(e),i=ec(this.toPosix(i));let t=0,r=-1,a=!0,o;if(e!==void 0&&e.length>0&&e.length<=i.length){if(e.length===i.length&&e===i)return"";let c=e.length-1,d=-1;for(o=i.length-1;o>=0;--o){const p=i.charCodeAt(o);if(p===47){if(!a){t=o+1;break}}else d===-1&&(a=!1,d=o+1),c>=0&&(p===e.charCodeAt(c)?--c===-1&&(r=o):(c=-1,r=d))}return t===r?r=d:r===-1&&(r=i.length),i.slice(t,r)}for(o=i.length-1;o>=0;--o)if(i.charCodeAt(o)===47){if(!a){t=o+1;break}}else r===-1&&(a=!1,r=o+1);return r===-1?"":i.slice(t,r)},extname(i){zi(i),i=ec(this.toPosix(i));let e=-1,t=0,r=-1,a=!0,o=0;for(let c=i.length-1;c>=0;--c){const d=i.charCodeAt(c);if(d===47){if(!a){t=c+1;break}continue}r===-1&&(a=!1,r=c+1),d===46?e===-1?e=c:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||r===-1||o===0||o===1&&e===r-1&&e===t+1?"":i.slice(e,r)},parse(i){zi(i);const e={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return e;i=ec(this.toPosix(i));let t=i.charCodeAt(0);const r=this.isAbsolute(i);let a;e.root=this.rootname(i),r||this.hasProtocol(i)?a=1:a=0;let o=-1,c=0,d=-1,p=!0,g=i.length-1,_=0;for(;g>=a;--g){if(t=i.charCodeAt(g),t===47){if(!p){c=g+1;break}continue}d===-1&&(p=!1,d=g+1),t===46?o===-1?o=g:_!==1&&(_=1):o!==-1&&(_=-1)}return o===-1||d===-1||_===0||_===1&&o===d-1&&o===c+1?d!==-1&&(c===0&&r?e.base=e.name=i.slice(1,d):e.base=e.name=i.slice(c,d)):(c===0&&r?(e.name=i.slice(1,o),e.base=i.slice(1,d)):(e.name=i.slice(c,o),e.base=i.slice(c,d)),e.ext=i.slice(o,d)),e.dir=this.dirname(i),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let um;async function Sw(){return um??(um=(async()=>{var o;const i=document.createElement("canvas").getContext("webgl");if(!i)return On.UNPACK;const e=await new Promise(c=>{const d=document.createElement("video");d.onloadeddata=()=>c(d),d.onerror=()=>c(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!e)return On.UNPACK;const t=i.createTexture();i.bindTexture(i.TEXTURE_2D,t);const r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e);const a=new Uint8Array(4);return i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,a),i.deleteFramebuffer(r),i.deleteTexture(t),(o=i.getExtension("WEBGL_lose_context"))==null||o.loseContext(),a[0]<=a[3]?On.PMA:On.UNPACK})()),um}let hm;function bw(){return typeof hm>"u"&&(hm=function(){var e;const i={stencil:!0,failIfMajorPerformanceCaveat:Le.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Le.ADAPTER.getWebGLRenderingContext())return!1;const t=Le.ADAPTER.createCanvas();let r=t.getContext("webgl",i)||t.getContext("experimental-webgl",i);const a=!!((e=r==null?void 0:r.getContextAttributes())!=null&&e.stencil);if(r){const o=r.getExtension("WEBGL_lose_context");o&&o.loseContext()}return r=null,a}catch{return!1}}()),hm}var Tw={grad:.9,turn:360,rad:360/(2*Math.PI)},ia=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Mr=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*i)/t+0},mi=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),i>t?t:i>e?i:e},g_=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},Wv=function(i){return{r:mi(i.r,0,255),g:mi(i.g,0,255),b:mi(i.b,0,255),a:mi(i.a)}},cm=function(i){return{r:Mr(i.r),g:Mr(i.g),b:Mr(i.b),a:Mr(i.a,3)}},Aw=/^#([0-9a-f]{3,8})$/i,pd=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},y_=function(i){var e=i.r,t=i.g,r=i.b,a=i.a,o=Math.max(e,t,r),c=o-Math.min(e,t,r),d=c?o===e?(t-r)/c:o===t?2+(r-e)/c:4+(e-t)/c:0;return{h:60*(d<0?d+6:d),s:o?c/o*100:0,v:o/255*100,a}},v_=function(i){var e=i.h,t=i.s,r=i.v,a=i.a;e=e/360*6,t/=100,r/=100;var o=Math.floor(e),c=r*(1-t),d=r*(1-(e-o)*t),p=r*(1-(1-e+o)*t),g=o%6;return{r:255*[r,d,c,c,p,r][g],g:255*[p,r,r,d,c,c][g],b:255*[c,c,p,r,r,d][g],a}},Vv=function(i){return{h:g_(i.h),s:mi(i.s,0,100),l:mi(i.l,0,100),a:mi(i.a)}},$v=function(i){return{h:Mr(i.h),s:Mr(i.s),l:Mr(i.l),a:Mr(i.a,3)}},Xv=function(i){return v_((t=(e=i).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},mc=function(i){return{h:(e=y_(i)).h,s:(a=(200-(t=e.s))*(r=e.v)/100)>0&&a<200?t*r/100/(a<=100?a:200-a)*100:0,l:a/2,a:e.a};var e,t,r,a},Cw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pw=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Rw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Iw=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jm={string:[[function(i){var e=Aw.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Mr(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Mr(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=Rw.exec(i)||Iw.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:Wv({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=Cw.exec(i)||Pw.exec(i);if(!e)return null;var t,r,a=Vv({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(Tw[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Xv(a)},"hsl"]],object:[[function(i){var e=i.r,t=i.g,r=i.b,a=i.a,o=a===void 0?1:a;return ia(e)&&ia(t)&&ia(r)?Wv({r:Number(e),g:Number(t),b:Number(r),a:Number(o)}):null},"rgb"],[function(i){var e=i.h,t=i.s,r=i.l,a=i.a,o=a===void 0?1:a;if(!ia(e)||!ia(t)||!ia(r))return null;var c=Vv({h:Number(e),s:Number(t),l:Number(r),a:Number(o)});return Xv(c)},"hsl"],[function(i){var e=i.h,t=i.s,r=i.v,a=i.a,o=a===void 0?1:a;if(!ia(e)||!ia(t)||!ia(r))return null;var c=function(d){return{h:g_(d.h),s:mi(d.s,0,100),v:mi(d.v,0,100),a:mi(d.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(o)});return v_(c)},"hsv"]]},Yv=function(i,e){for(var t=0;t<e.length;t++){var r=e[t][0](i);if(r)return[r,e[t][1]]}return[null,void 0]},Mw=function(i){return typeof i=="string"?Yv(i.trim(),jm.string):typeof i=="object"&&i!==null?Yv(i,jm.object):[null,void 0]},dm=function(i,e){var t=mc(i);return{h:t.h,s:mi(t.s+100*e,0,100),l:t.l,a:t.a}},fm=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},qv=function(i,e){var t=mc(i);return{h:t.h,s:t.s,l:mi(t.l+100*e,0,100),a:t.a}},Wm=function(){function i(e){this.parsed=Mw(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Mr(fm(this.rgba),2)},i.prototype.isDark=function(){return fm(this.rgba)<.5},i.prototype.isLight=function(){return fm(this.rgba)>=.5},i.prototype.toHex=function(){return e=cm(this.rgba),t=e.r,r=e.g,a=e.b,c=(o=e.a)<1?pd(Mr(255*o)):"","#"+pd(t)+pd(r)+pd(a)+c;var e,t,r,a,o,c},i.prototype.toRgb=function(){return cm(this.rgba)},i.prototype.toRgbString=function(){return e=cm(this.rgba),t=e.r,r=e.g,a=e.b,(o=e.a)<1?"rgba("+t+", "+r+", "+a+", "+o+")":"rgb("+t+", "+r+", "+a+")";var e,t,r,a,o},i.prototype.toHsl=function(){return $v(mc(this.rgba))},i.prototype.toHslString=function(){return e=$v(mc(this.rgba)),t=e.h,r=e.s,a=e.l,(o=e.a)<1?"hsla("+t+", "+r+"%, "+a+"%, "+o+")":"hsl("+t+", "+r+"%, "+a+"%)";var e,t,r,a,o},i.prototype.toHsv=function(){return e=y_(this.rgba),{h:Mr(e.h),s:Mr(e.s),v:Mr(e.v),a:Mr(e.a,3)};var e},i.prototype.invert=function(){return _s({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),_s(dm(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),_s(dm(this.rgba,-e))},i.prototype.grayscale=function(){return _s(dm(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),_s(qv(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),_s(qv(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?_s({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Mr(this.rgba.a,3);var t},i.prototype.hue=function(e){var t=mc(this.rgba);return typeof e=="number"?_s({h:e,s:t.s,l:t.l,a:t.a}):Mr(t.h)},i.prototype.isEqual=function(e){return this.toHex()===_s(e).toHex()},i}(),_s=function(i){return i instanceof Wm?i:new Wm(i)},Qv=[],kw=function(i){i.forEach(function(e){Qv.indexOf(e)<0&&(e(Wm,jm),Qv.push(e))})};function Dw(i,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var a in t)r[t[a]]=a;var o={};i.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,p,g=r[this.toHex()];if(g)return g;if(c!=null&&c.closest){var _=this.toRgb(),w=1/0,S="black";if(!o.length)for(var b in t)o[b]=new i(t[b]).toRgb();for(var A in t){var M=(d=_,p=o[A],Math.pow(d.r-p.r,2)+Math.pow(d.g-p.g,2)+Math.pow(d.b-p.b,2));M<w&&(w=M,S=A)}return S}},e.string.push([function(c){var d=c.toLowerCase(),p=d==="transparent"?"#0000":t[d];return p?new i(p).toRgb():null},"name"])}kw([Dw]);const Bu=class Ld{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Ld)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((a,o)=>a===t[o]);if(e!==null&&t!==null){const a=Object.keys(e),o=Object.keys(t);return a.length!==o.length?!1:a.every(c=>e[c]===t[c])}return e===t}toRgba(){const[e,t,r,a]=this._components;return{r:e,g:t,b:r,a}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,a]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(a*255),e}toRgbArray(e){e=e??[];const[t,r,a]=this._components;return e[0]=t,e[1]=r,e[2]=a,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,a,o]=Ld.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=a,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,a=this._int>>8&255,o=this._int&255;return t&&(r=r*e+.5|0,a=a*e+.5|0,o=o*e+.5|0),(e*255<<24)+(r<<16)+(a<<8)+o}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,a]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(a*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,r,a,o]=this._components;return e[0]=t,e[1]=r,e[2]=a,e[3]=o,e}normalize(e){let t,r,a,o;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const c=e;t=(c>>16&255)/255,r=(c>>8&255)/255,a=(c&255)/255,o=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,a,o=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,a,o=255]=e,t/=255,r/=255,a/=255,o/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const d=Ld.HEX_PATTERN.exec(e);d&&(e=`#${d[2]}`)}const c=_s(e);c.isValid()&&({r:t,g:r,b:a,a:o}=c.rgba,t/=255,r/=255,a/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=a,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((a,o)=>{e[o]=Math.min(Math.max(a,t),r)}),e)}};Bu.shared=new Bu,Bu.temp=new Bu,Bu.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let bt=Bu;function gC(i,e=[]){return lt("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),bt.shared.setValue(i).toRgbArray(e)}function Nw(i){return lt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),bt.shared.setValue(i).toHex()}function yC(i){return lt("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),bt.shared.setValue(i).toNumber()}function Fw(i){return lt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),bt.shared.setValue(i).toNumber()}function Ow(){const i=[],e=[];for(let r=0;r<32;r++)i[r]=r,e[r]=r;i[et.NORMAL_NPM]=et.NORMAL,i[et.ADD_NPM]=et.ADD,i[et.SCREEN_NPM]=et.SCREEN,e[et.NORMAL]=et.NORMAL_NPM,e[et.ADD]=et.ADD_NPM,e[et.SCREEN]=et.SCREEN_NPM;const t=[];return t.push(e),t.push(i),t}const __=Ow();function x_(i,e){return __[e?1:0][i]}function vC(i,e,t,r=!0){return lt("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),bt.shared.setValue(i).premultiply(e,r).toArray(t??new Float32Array(4))}function _C(i,e){return lt("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),bt.shared.setValue(i).toPremultiplied(e)}function xC(i,e,t,r=!0){return lt("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),bt.shared.setValue(i).premultiply(e,r).toArray(t??new Float32Array(4))}function Lw(i,e=null){const t=i*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,a=0;r<t;r+=6,a+=4)e[r+0]=a+0,e[r+1]=a+1,e[r+2]=a+2,e[r+3]=a+0,e[r+4]=a+2,e[r+5]=a+3;return e}function w_(i){if(i.BYTES_PER_ELEMENT===4)return i instanceof Float32Array?"Float32Array":i instanceof Uint32Array?"Uint32Array":"Int32Array";if(i.BYTES_PER_ELEMENT===2){if(i instanceof Uint16Array)return"Uint16Array"}else if(i.BYTES_PER_ELEMENT===1&&i instanceof Uint8Array)return"Uint8Array";return null}function $d(i){return i+=i===0?1:0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1}function Kv(i){return!(i&i-1)&&!!i}function Zv(i){let e=(i>65535?1:0)<<4;i>>>=e;let t=(i>255?1:0)<<3;return i>>>=t,e|=t,t=(i>15?1:0)<<2,i>>>=t,e|=t,t=(i>3?1:0)<<1,i>>>=t,e|=t,e|i>>1}function Xu(i,e,t){const r=i.length;let a;if(e>=r||t===0)return;t=e+t>r?r-e:t;const o=r-t;for(a=e;a<o;++a)i[a]=i[a+t];i.length=o}function mo(i){return i===0?0:i<0?-1:1}let Bw=0;function Nl(){return++Bw}const Vm=class{constructor(i,e,t,r){this.left=i,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Vm.EMPTY=new Vm(0,0,0,0);let Jv=Vm;const e0={},Fn=Object.create(null),di=Object.create(null);function wC(){let i;for(i in Fn)Fn[i].destroy();for(i in di)di[i].destroy()}function EC(){let i;for(i in Fn)delete Fn[i];for(i in di)delete di[i]}class Uw{constructor(e,t,r){this._canvas=Le.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Le.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function t0(i,e,t){for(let r=0,a=4*t*e;r<e;++r,a+=4)if(i[a+3]!==0)return!1;return!0}function r0(i,e,t,r,a){const o=4*e;for(let c=r,d=r*o+4*t;c<=a;++c,d+=o)if(i[d+3]!==0)return!1;return!0}function zw(i){const{width:e,height:t}=i,r=i.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const a=r.getImageData(0,0,e,t).data;let o=0,c=0,d=e-1,p=t-1;for(;c<t&&t0(a,e,c);)++c;if(c===t)return Jv.EMPTY;for(;t0(a,e,p);)--p;for(;r0(a,e,o,c,p);)++o;for(;r0(a,e,d,c,p);)--d;return++d,++p,new Jv(o,c,d,p)}function Gw(i){const e=zw(i),{width:t,height:r}=e;let a=null;if(!e.isEmpty()){const o=i.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");a=o.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:a}}function Hw(i,e=globalThis.location){if(i.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(i,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function da(i,e=1){var r;const t=(r=Le.RETINA_PREFIX)==null?void 0:r.exec(i);return t?parseFloat(t[1]):e}var De=(i=>(i.Renderer="renderer",i.Application="application",i.RendererSystem="renderer-webgl-system",i.RendererPlugin="renderer-webgl-plugin",i.CanvasRendererSystem="renderer-canvas-system",i.CanvasRendererPlugin="renderer-canvas-plugin",i.Asset="asset",i.LoadParser="load-parser",i.ResolveParser="resolve-parser",i.CacheParser="cache-parser",i.DetectionParser="detection-parser",i))(De||{});const $m=i=>{if(typeof i=="function"||typeof i=="object"&&i.extension){if(!i.extension)throw new Error("Extension class must have an extension object");i={...typeof i.extension!="object"?{type:i.extension}:i.extension,ref:i}}if(typeof i=="object")i={...i};else throw new Error("Invalid extension type");return typeof i.type=="string"&&(i.type=[i.type]),i},n0=(i,e)=>$m(i).priority??e,Xe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...i){return i.map($m).forEach(e=>{e.type.forEach(t=>{var r,a;return(a=(r=this._removeHandlers)[t])==null?void 0:a.call(r,e)})}),this},add(...i){return i.map($m).forEach(e=>{e.type.forEach(t=>{var o,c;const r=this._addHandlers,a=this._queue;r[t]?(o=r[t])==null||o.call(r,e):(a[t]=a[t]||[],(c=a[t])==null||c.push(e))})}),this},handle(i,e,t){var c;const r=this._addHandlers,a=this._removeHandlers;if(r[i]||a[i])throw new Error(`Extension type ${i} already has a handler`);r[i]=e,a[i]=t;const o=this._queue;return o[i]&&((c=o[i])==null||c.forEach(d=>e(d)),delete o[i]),this},handleByMap(i,e){return this.handle(i,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(i,e,t=-1){return this.handle(i,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((a,o)=>n0(o,t)-n0(a,t)))},r=>{const a=e.indexOf(r.ref);a!==-1&&e.splice(a,1)})}};class Xm{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const jw=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Ww(i){let e="";for(let t=0;t<i;++t)t>0&&(e+=`
else `),t<i-1&&(e+=`if(test == ${t}.0){}`);return e}function Vw(i,e){if(i===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=jw.replace(/%forloop%/gi,Ww(i));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))i=i/2|0;else break}return i}const pm=0,mm=1,gm=2,ym=3,vm=4,_m=5;class Is{constructor(){this.data=0,this.blendMode=et.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<pm)}set blend(e){!!(this.data&1<<pm)!==e&&(this.data^=1<<pm)}get offsets(){return!!(this.data&1<<mm)}set offsets(e){!!(this.data&1<<mm)!==e&&(this.data^=1<<mm)}get culling(){return!!(this.data&1<<gm)}set culling(e){!!(this.data&1<<gm)!==e&&(this.data^=1<<gm)}get depthTest(){return!!(this.data&1<<ym)}set depthTest(e){!!(this.data&1<<ym)!==e&&(this.data^=1<<ym)}get depthMask(){return!!(this.data&1<<_m)}set depthMask(e){!!(this.data&1<<_m)!==e&&(this.data^=1<<_m)}get clockwiseFrontFace(){return!!(this.data&1<<vm)}set clockwiseFrontFace(e){!!(this.data&1<<vm)!==e&&(this.data^=1<<vm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==et.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Is;return e.depthTest=!1,e.blend=!0,e}}Is.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Ym=[];function E_(i,e){if(!i)return null;let t="";if(typeof i=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(i);r&&(t=r[1].toLowerCase())}for(let r=Ym.length-1;r>=0;--r){const a=Ym[r];if(a.test&&a.test(i,t))return new a(i,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Xi{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,a,o,c,d,p){if(arguments.length>8)throw new Error("max arguments reached");const{name:g,items:_}=this;this._aliasCount++;for(let w=0,S=_.length;w<S;w++)_[w][g](e,t,r,a,o,c,d,p);return _===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Xi.prototype,{dispatch:{value:Xi.prototype.emit},run:{value:Xi.prototype.emit}});class yc{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Xi("setRealSize"),this.onUpdate=new Xi("update"),this.onError=new Xi("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class ff extends yc{constructor(e,t){const{width:r,height:a}=t||{};if(!r||!a)throw new Error("BufferResource width or height invalid");super(r,a),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){const a=e.gl;a.pixelStorei(a.UNPACK_ALIGNMENT,this.unpackAlignment),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===On.UNPACK);const o=t.realWidth,c=t.realHeight;return r.width===o&&r.height===c?a.texSubImage2D(t.target,0,0,0,o,c,t.format,r.type,this.data):(r.width=o,r.height=c,a.texImage2D(t.target,0,r.internalFormat,o,c,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const $w={scaleMode:oa.NEAREST,alphaMode:On.NPM},qm=class Uu extends Ec{constructor(e=null,t=null){super(),t=Object.assign({},Uu.defaultOptions,t);const{alphaMode:r,mipmap:a,anisotropicLevel:o,scaleMode:c,width:d,height:p,wrapMode:g,format:_,type:w,target:S,resolution:b,resourceOptions:A}=t;e&&!(e instanceof yc)&&(e=E_(e,A),e.internal=!0),this.resolution=b||Le.RESOLUTION,this.width=Math.round((d||0)*this.resolution)/this.resolution,this.height=Math.round((p||0)*this.resolution)/this.resolution,this._mipmap=a,this.anisotropicLevel=o,this._wrapMode=g,this._scaleMode=c,this.format=_,this.type=w,this.target=S,this.alphaMode=r,this.uid=Nl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=d>0&&p>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Kv(this.realWidth)&&Kv(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete di[this.cacheId],delete Fn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Uu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=Le.STRICT_TEXTURE_CACHE){const a=typeof e=="string";let o=null;if(a)o=e;else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Nl()}`}o=e._pixiId}let c=di[o];if(a&&r&&!c)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return c||(c=new Uu(e,t),c.cacheId=o,Uu.addToCache(c,o)),c}static fromBuffer(e,t,r,a){e=e||new Float32Array(t*r*4);const o=new ff(e,{width:t,height:r,...a==null?void 0:a.resourceOptions});let c,d;return e instanceof Float32Array?(c=Ae.RGBA,d=Ke.FLOAT):e instanceof Int32Array?(c=Ae.RGBA_INTEGER,d=Ke.INT):e instanceof Uint32Array?(c=Ae.RGBA_INTEGER,d=Ke.UNSIGNED_INT):e instanceof Int16Array?(c=Ae.RGBA_INTEGER,d=Ke.SHORT):e instanceof Uint16Array?(c=Ae.RGBA_INTEGER,d=Ke.UNSIGNED_SHORT):e instanceof Int8Array?(c=Ae.RGBA,d=Ke.BYTE):(c=Ae.RGBA,d=Ke.UNSIGNED_BYTE),o.internal=!0,new Uu(o,Object.assign({},$w,{type:d,format:c},a))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),di[t]&&di[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),di[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=di[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete di[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete di[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};qm.defaultOptions={mipmap:Cs.POW2,anisotropicLevel:0,scaleMode:oa.LINEAR,wrapMode:ca.CLAMP,alphaMode:On.UNPACK,target:$u.TEXTURE_2D,format:Ae.RGBA,type:Ke.UNSIGNED_BYTE},qm._globalBatch=0;let it=qm;class Qm{constructor(){this.texArray=null,this.blend=0,this.type=Vi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Xw=0;class hr{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=Xw++,this.disposeRunner=new Xi("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Ts.ELEMENT_ARRAY_BUFFER:Ts.ARRAY_BUFFER}get index(){return this.type===Ts.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new hr(e)}}class Xd{constructor(e,t=0,r=!1,a=Ke.FLOAT,o,c,d,p=1){this.buffer=e,this.size=t,this.normalized=r,this.type=a,this.stride=o,this.start=c,this.instance=d,this.divisor=p}destroy(){this.buffer=null}static from(e,t,r,a,o){return new Xd(e,t,r,a,o)}}const Yw={Float32Array,Uint32Array,Int32Array,Uint8Array};function qw(i,e){let t=0,r=0;const a={};for(let p=0;p<i.length;p++)r+=e[p],t+=i[p].length;const o=new ArrayBuffer(t*4);let c=null,d=0;for(let p=0;p<i.length;p++){const g=e[p],_=i[p],w=w_(_);a[w]||(a[w]=new Yw[w](o)),c=a[w];for(let S=0;S<_.length;S++){const b=(S/g|0)*r+d,A=S%g;c[b+A]=_[S]}d+=g}return new Float32Array(o)}const i0={5126:4,5123:2,5121:1};let Qw=0;const Kw={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class vo{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Qw++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Xi("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,a=!1,o,c,d,p=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof hr||(t instanceof Array&&(t=new Float32Array(t)),t=new hr(t));const g=e.split("|");if(g.length>1){for(let w=0;w<g.length;w++)this.addAttribute(g[w],t,r,a,o);return this}let _=this.buffers.indexOf(t);return _===-1&&(this.buffers.push(t),_=this.buffers.length-1),this.attributes[e]=new Xd(_,r,a,o,c,d,p),this.instanced=this.instanced||p,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof hr||(e instanceof Array&&(e=new Uint16Array(e)),e=new hr(e)),e.type=Ts.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],r=new hr;let a;for(a in this.attributes){const o=this.attributes[a],c=this.buffers[o.buffer];e.push(c.data),t.push(o.size*i0[o.type]/4),o.buffer=0}for(r.data=qw(e,t),a=0;a<this.buffers.length;a++)this.buffers[a]!==this.indexBuffer&&this.buffers[a].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new vo;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new hr(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new Xd(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Ts.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new vo,r=[],a=[],o=[];let c;for(let d=0;d<e.length;d++){c=e[d];for(let p=0;p<c.buffers.length;p++)a[p]=a[p]||0,a[p]+=c.buffers[p].data.length,o[p]=0}for(let d=0;d<c.buffers.length;d++)r[d]=new Kw[w_(c.buffers[d].data)](a[d]),t.buffers[d]=new hr(r[d]);for(let d=0;d<e.length;d++){c=e[d];for(let p=0;p<c.buffers.length;p++)r[p].set(c.buffers[p].data,o[p]),o[p]+=c.buffers[p].data.length}if(t.attributes=c.attributes,c.indexBuffer){t.indexBuffer=t.buffers[c.buffers.indexOf(c.indexBuffer)],t.indexBuffer.type=Ts.ELEMENT_ARRAY_BUFFER;let d=0,p=0,g=0,_=0;for(let w=0;w<c.buffers.length;w++)if(c.buffers[w]!==c.indexBuffer){_=w;break}for(const w in c.attributes){const S=c.attributes[w];(S.buffer|0)===_&&(p+=S.size*i0[S.type]/4)}for(let w=0;w<e.length;w++){const S=e[w].indexBuffer.data;for(let b=0;b<S.length;b++)t.indexBuffer.data[b+g]+=d;d+=e[w].buffers[_].data.length/p,g+=S.length}}return t}}class S_ extends vo{constructor(e=!1){super(),this._buffer=new hr(null,e,!1),this._indexBuffer=new hr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ke.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ke.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ke.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ke.FLOAT).addIndex(this._indexBuffer)}}const Yd=Math.PI*2,Zw=180/Math.PI,Jw=Math.PI/180;var Gr=(i=>(i[i.POLY=0]="POLY",i[i.RECT=1]="RECT",i[i.CIRC=2]="CIRC",i[i.ELIP=3]="ELIP",i[i.RREC=4]="RREC",i))(Gr||{});class dt{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new dt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}dt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const md=[new dt,new dt,new dt,new dt];class at{constructor(e=0,t=0,r=0,a=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(a),this.type=Gr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new at(0,0,0,0)}clone(){return new at(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const J=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=J)return!1;const ce=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>ce}const r=this.left,a=this.right,o=this.top,c=this.bottom;if(a<=r||c<=o)return!1;const d=md[0].set(e.left,e.top),p=md[1].set(e.left,e.bottom),g=md[2].set(e.right,e.top),_=md[3].set(e.right,e.bottom);if(g.x<=d.x||p.y<=d.y)return!1;const w=Math.sign(t.a*t.d-t.b*t.c);if(w===0||(t.apply(d,d),t.apply(p,p),t.apply(g,g),t.apply(_,_),Math.max(d.x,p.x,g.x,_.x)<=r||Math.min(d.x,p.x,g.x,_.x)>=a||Math.max(d.y,p.y,g.y,_.y)<=o||Math.min(d.y,p.y,g.y,_.y)>=c))return!1;const S=w*(p.y-d.y),b=w*(d.x-p.x),A=S*r+b*o,M=S*a+b*o,P=S*r+b*c,k=S*a+b*c;if(Math.max(A,M,P,k)<=S*d.x+b*d.y||Math.min(A,M,P,k)>=S*_.x+b*_.y)return!1;const z=w*(d.y-g.y),O=w*(g.x-d.x),W=z*r+O*o,B=z*a+O*o,K=z*r+O*c,N=z*a+O*c;return!(Math.max(W,B,K,N)<=z*d.x+O*d.y||Math.min(W,B,K,N)>=z*_.x+O*_.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),a=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=a,this.height=Math.max(o-a,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,a=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=a-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),a=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=a,this.height=o-a,this}}at.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class pf{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=Gr.CIRC}clone(){return new pf(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const r=this.radius*this.radius;let a=this.x-e,o=this.y-t;return a*=a,o*=o,a+o<=r}getBounds(){return new at(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}pf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class mf{constructor(e=0,t=0,r=0,a=0){this.x=e,this.y=t,this.width=r,this.height=a,this.type=Gr.ELIP}clone(){return new mf(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,a=(t-this.y)/this.height;return r*=r,a*=a,r+a<=1}getBounds(){return new at(this.x-this.width,this.y-this.height,this.width,this.height)}}mf.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class kl{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const r=[];for(let a=0,o=t.length;a<o;a++)r.push(t[a].x,t[a].y);t=r}this.points=t,this.type=Gr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new kl(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1;const a=this.points.length/2;for(let o=0,c=a-1;o<a;c=o++){const d=this.points[o*2],p=this.points[o*2+1],g=this.points[c*2],_=this.points[c*2+1];p>t!=_>t&&e<(g-d)*((t-p)/(_-p))+d&&(r=!r)}return r}}kl.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((i,e)=>`${i}, ${e}`,"")}]`};class gf{constructor(e=0,t=0,r=0,a=0,o=20){this.x=e,this.y=t,this.width=r,this.height=a,this.radius=o,this.type=Gr.RREC}clone(){return new gf(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let a=e-(this.x+r),o=t-(this.y+r);const c=r*r;if(a*a+o*o<=c||(a=e-(this.x+this.width-r),a*a+o*o<=c)||(o=t-(this.y+this.height-r),a*a+o*o<=c)||(a=e-(this.x+r),a*a+o*o<=c))return!0}return!1}}gf.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class zt{constructor(e=1,t=0,r=0,a=1,o=0,c=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=a,this.tx=o,this.ty=c}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,a,o,c){return this.a=e,this.b=t,this.c=r,this.d=a,this.tx=o,this.ty=c,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new dt;const r=e.x,a=e.y;return t.x=this.a*r+this.c*a+this.tx,t.y=this.b*r+this.d*a+this.ty,t}applyInverse(e,t){t=t||new dt;const r=1/(this.a*this.d+this.c*-this.b),a=e.x,o=e.y;return t.x=this.d*r*a+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*o+-this.b*r*a+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),a=this.a,o=this.c,c=this.tx;return this.a=a*t-this.b*r,this.b=a*r+this.b*t,this.c=o*t-this.d*r,this.d=o*r+this.d*t,this.tx=c*t-this.ty*r,this.ty=c*r+this.ty*t,this}append(e){const t=this.a,r=this.b,a=this.c,o=this.d;return this.a=e.a*t+e.b*a,this.b=e.a*r+e.b*o,this.c=e.c*t+e.d*a,this.d=e.c*r+e.d*o,this.tx=e.tx*t+e.ty*a+this.tx,this.ty=e.tx*r+e.ty*o+this.ty,this}setTransform(e,t,r,a,o,c,d,p,g){return this.a=Math.cos(d+g)*o,this.b=Math.sin(d+g)*o,this.c=-Math.sin(d-p)*c,this.d=Math.cos(d-p)*c,this.tx=e-(r*this.a+a*this.c),this.ty=t-(r*this.b+a*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,a=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=a*e.a+this.d*e.c,this.d=a*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,a=this.c,o=this.d,c=e.pivot,d=-Math.atan2(-a,o),p=Math.atan2(r,t),g=Math.abs(d+p);return g<1e-5||Math.abs(Yd-g)<1e-5?(e.rotation=p,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=d,e.skew.y=p),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(a*a+o*o),e.position.x=this.tx+(c.x*t+c.y*a),e.position.y=this.ty+(c.x*r+c.y*o),e}invert(){const e=this.a,t=this.b,r=this.c,a=this.d,o=this.tx,c=e*a-t*r;return this.a=a/c,this.b=-t/c,this.c=-r/c,this.d=e/c,this.tx=(r*this.ty-a*o)/c,this.ty=-(e*this.ty-t*o)/c,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new zt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new zt}static get TEMP_MATRIX(){return new zt}}zt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Tl=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Al=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Cl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Pl=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Km=[],b_=[],gd=Math.sign;function eE(){for(let i=0;i<16;i++){const e=[];Km.push(e);for(let t=0;t<16;t++){const r=gd(Tl[i]*Tl[t]+Cl[i]*Al[t]),a=gd(Al[i]*Tl[t]+Pl[i]*Al[t]),o=gd(Tl[i]*Cl[t]+Cl[i]*Pl[t]),c=gd(Al[i]*Cl[t]+Pl[i]*Pl[t]);for(let d=0;d<16;d++)if(Tl[d]===r&&Al[d]===a&&Cl[d]===o&&Pl[d]===c){e.push(d);break}}}for(let i=0;i<16;i++){const e=new zt;e.set(Tl[i],Al[i],Cl[i],Pl[i],0,0),b_.push(e)}}eE();const qt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:i=>Tl[i],uY:i=>Al[i],vX:i=>Cl[i],vY:i=>Pl[i],inv:i=>i&8?i&15:-i&7,add:(i,e)=>Km[i][e],sub:(i,e)=>Km[i][qt.inv(e)],rotate180:i=>i^4,isVertical:i=>(i&3)===2,byDirection:(i,e)=>Math.abs(i)*2<=Math.abs(e)?e>=0?qt.S:qt.N:Math.abs(e)*2<=Math.abs(i)?i>0?qt.E:qt.W:e>0?i>0?qt.SE:qt.SW:i>0?qt.NE:qt.NW,matrixAppendRotationInv:(i,e,t=0,r=0)=>{const a=b_[qt.inv(e)];a.tx=t,a.ty=r,i.append(a)}};class bs{constructor(e,t,r=0,a=0){this._x=r,this._y=a,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new bs(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}bs.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Zm=class{constructor(){this.worldTransform=new zt,this.localTransform=new zt,this.position=new bs(this.onChange,this,0,0),this.scale=new bs(this.onChange,this,1,1),this.pivot=new bs(this.onChange,this,0,0),this.skew=new bs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(i){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==i._worldID){const t=i.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=i._worldID,this._worldID++}}setFromMatrix(i){i.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(i){this._rotation!==i&&(this._rotation=i,this.updateSkew())}};Zm.IDENTITY=new Zm;let yf=Zm;yf.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var tE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,rE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function s0(i,e,t){const r=i.createShader(e);return i.shaderSource(r,t),i.compileShader(r),r}function xm(i){const e=new Array(i);for(let t=0;t<e.length;t++)e[t]=!1;return e}function T_(i,e){switch(i){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return xm(2*e);case"bvec3":return xm(3*e);case"bvec4":return xm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Yu=[{test:i=>i.type==="float"&&i.size===1&&!i.isArray,code:i=>`
            if(uv["${i}"] !== ud["${i}"].value)
            {
                ud["${i}"].value = uv["${i}"]
                gl.uniform1f(ud["${i}"].location, uv["${i}"])
            }
            `},{test:(i,e)=>(i.type==="sampler2D"||i.type==="samplerCube"||i.type==="sampler2DArray")&&i.size===1&&!i.isArray&&(e==null||e.castToBaseTexture!==void 0),code:i=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${i}"], t);

            if(ud["${i}"].value !== t)
            {
                ud["${i}"].value = t;
                gl.uniform1i(ud["${i}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(i,e)=>i.type==="mat3"&&i.size===1&&!i.isArray&&e.a!==void 0,code:i=>`
            gl.uniformMatrix3fv(ud["${i}"].location, false, uv["${i}"].toArray(true));
            `,codeUbo:i=>`
                var ${i}_matrix = uv.${i}.toArray(true);

                data[offset] = ${i}_matrix[0];
                data[offset+1] = ${i}_matrix[1];
                data[offset+2] = ${i}_matrix[2];
        
                data[offset + 4] = ${i}_matrix[3];
                data[offset + 5] = ${i}_matrix[4];
                data[offset + 6] = ${i}_matrix[5];
        
                data[offset + 8] = ${i}_matrix[6];
                data[offset + 9] = ${i}_matrix[7];
                data[offset + 10] = ${i}_matrix[8];
            `},{test:(i,e)=>i.type==="vec2"&&i.size===1&&!i.isArray&&e.x!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${i}"].location, v.x, v.y);
                }`,codeUbo:i=>`
                v = uv.${i};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:i=>i.type==="vec2"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${i}"].location, v[0], v[1]);
                }
            `},{test:(i,e)=>i.type==="vec4"&&i.size===1&&!i.isArray&&e.width!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${i}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(i,e)=>i.type==="vec4"&&i.size===1&&!i.isArray&&e.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${i}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(i,e)=>i.type==="vec3"&&i.size===1&&!i.isArray&&e.red!==void 0,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${i}"].location, v.red, v.green, v.blue)
                }`,codeUbo:i=>`
                    v = uv.${i};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:i=>i.type==="vec4"&&i.size===1&&!i.isArray,code:i=>`
                cv = ud["${i}"].value;
                v = uv["${i}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${i}"].location, v[0], v[1], v[2], v[3])
                }`}],nE={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},iE={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function sE(i,e){var r;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const a in i.uniforms){const o=e[a];if(!o){((r=i.uniforms[a])==null?void 0:r.group)===!0&&(i.uniforms[a].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${a}, '${a}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${a}, syncData);
                    `));continue}const c=i.uniforms[a];let d=!1;for(let p=0;p<Yu.length;p++)if(Yu[p].test(o,c)){t.push(Yu[p].code(a,c)),d=!0;break}if(!d){const p=(o.size===1&&!o.isArray?nE:iE)[o.type].replace("location",`ud["${a}"].location`);t.push(`
            cu = ud["${a}"];
            cv = cu.value;
            v = uv["${a}"];
            ${p};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const A_={};let Fu=A_;function aE(){if(Fu===A_||Fu!=null&&Fu.isContextLost()){const i=Le.ADAPTER.createCanvas();let e;Le.PREFER_ENV>=Ol.WEBGL2&&(e=i.getContext("webgl2",{})),e||(e=i.getContext("webgl",{})||i.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Fu=e}return Fu}let yd;function oE(){if(!yd){yd=pi.MEDIUM;const i=aE();if(i&&i.getShaderPrecisionFormat){const e=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);e&&(yd=e.precision?pi.HIGH:pi.MEDIUM)}}return yd}function a0(i,e){const t=i.getShaderSource(e).split(`
`).map((g,_)=>`${_}: ${g}`),r=i.getShaderInfoLog(e),a=r.split(`
`),o={},c=a.map(g=>parseFloat(g.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(g=>g&&!o[g]?(o[g]=!0,!0):!1),d=[""];c.forEach(g=>{t[g-1]=`%c${t[g-1]}%c`,d.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const p=t.join(`
`);d[0]=p,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...d),console.groupEnd()}function lE(i,e,t,r){i.getProgramParameter(e,i.LINK_STATUS)||(i.getShaderParameter(t,i.COMPILE_STATUS)||a0(i,t),i.getShaderParameter(r,i.COMPILE_STATUS)||a0(i,r),console.error("PixiJS Error: Could not initialize shader."),i.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",i.getProgramInfoLog(e)))}const uE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function C_(i){return uE[i]}let vd=null;const o0={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function P_(i,e){if(!vd){const t=Object.keys(o0);vd={};for(let r=0;r<t.length;++r){const a=t[r];vd[i[a]]=o0[a]}}return vd[e]}function l0(i,e,t){if(i.substring(0,9)!=="precision"){let r=e;return e===pi.HIGH&&t!==pi.HIGH&&(r=pi.MEDIUM),`precision ${r} float;
${i}`}else if(t!==pi.HIGH&&i.substring(0,15)==="precision highp")return i.replace("precision highp","precision mediump");return i}let tc;function hE(){if(typeof tc=="boolean")return tc;try{tc=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{tc=!1}return tc}let cE=0;const _d={},Jm=class zu{constructor(e,t,r="pixi-shader",a={}){this.extra={},this.id=cE++,this.vertexSrc=e||zu.defaultVertexSrc,this.fragmentSrc=t||zu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=a,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),_d[r]?(_d[r]++,r+=`-${_d[r]}`):_d[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=l0(this.vertexSrc,zu.defaultVertexPrecision,pi.HIGH),this.fragmentSrc=l0(this.fragmentSrc,zu.defaultFragmentPrecision,oE())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return rE}static get defaultFragmentSrc(){return tE}static from(e,t,r){const a=e+t;let o=e0[a];return o||(e0[a]=o=new zu(e,t,r)),o}};Jm.defaultVertexPrecision=pi.HIGH,Jm.defaultFragmentPrecision=la.apple.device?pi.HIGH:pi.MEDIUM;let ua=Jm,dE=0;class Yi{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=dE++,this.static=!!t,this.ubo=!!r,e instanceof hr?(this.buffer=e,this.buffer.type=Ts.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new hr(new Float32Array(1)),this.buffer.type=Ts.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new Yi(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new Yi(e,t,r)}static uboFrom(e,t){return new Yi(e,t??!0,!0)}}class As{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Yi?this.uniformGroup=t:this.uniformGroup=new Yi(t):this.uniformGroup=new Yi({}),this.disposeRunner=new Xi("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const a=t.uniforms[r];if(a.group===!0&&this.checkUniformExists(e,a))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const a=ua.from(e,t);return new As(a,r)}}class fE{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let o=0;o<e;o++)r[o]=o;this.defaultGroupCache[e]=Yi.from({uSamplers:r},!0);let a=this.fragTemplate;a=a.replace(/%count%/gi,`${e}`),a=a.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new ua(this.vertexSrc,a)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new zt,default:this.defaultGroupCache[e]};return new As(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class eg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function pE(){return!la.apple.device}function mE(i){let e=!0;const t=Le.ADAPTER.getNavigator();if(la.tablet||la.phone){if(la.apple.device){const r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(la.android.device){const r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?i:4}class vf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var gE=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,yE=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ac=class Hi extends vf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=S_,this.vertexSize=6,this.state=Is.for2d(),this.size=Hi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??mE(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??pE(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return lt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return yE}static get defaultFragmentTemplate(){return gE}setShaderGenerator({vertex:e=Hi.defaultVertexSrc,fragment:t=Hi.defaultFragmentTemplate}={}){this.shaderGenerator=new fE(e,t)}contextChange(){const e=this.renderer.gl;Le.PREFER_ENV===Ol.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Hi.defaultMaxTextures),this.maxTextures=Vw(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Hi,r=this.size/4,a=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new Qm);for(;t.length<a;)t.push(new eg);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,r=Hi._textureArrayPool,a=this.renderer.batch,o=this._tempBoundTextures,c=this.renderer.textureGC.count;let d=++it._globalBatch,p=0,g=r[0],_=0;a.copyBoundTextures(o,t);for(let w=0;w<this._bufferSize;++w){const S=e[w];e[w]=null,S._batchEnabled!==d&&(g.count>=t&&(a.boundArray(g,o,d,t),this.buildDrawCalls(g,_,w),_=w,g=r[++p],++d),S._batchEnabled=d,S.touched=c,g.elements[g.count++]=S)}g.count>0&&(a.boundArray(g,o,d,t),this.buildDrawCalls(g,_,this._bufferSize),++p,++d);for(let w=0;w<o.length;w++)o[w]=null;it._globalBatch=d}buildDrawCalls(e,t,r){const{_bufferedElements:a,_attributeBuffer:o,_indexBuffer:c,vertexSize:d}=this,p=Hi._drawCallPool;let g=this._dcIndex,_=this._aIndex,w=this._iIndex,S=p[g];S.start=this._iIndex,S.texArray=e;for(let b=t;b<r;++b){const A=a[b],M=A._texture.baseTexture,P=__[M.alphaMode?1:0][A.blendMode];a[b]=null,t<b&&S.blend!==P&&(S.size=w-S.start,t=b,S=p[++g],S.texArray=e,S.start=w),this.packInterleavedGeometry(A,o,c,_,w),_+=A.vertexData.length/2*d,w+=A.indices.length,S.blend=P}t<r&&(S.size=w-S.start,++g),this._dcIndex=g,this._aIndex=_,this._iIndex=w}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;Hi.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:r}=this.renderer,a=Hi._drawCallPool;let o=null;for(let c=0;c<e;c++){const{texArray:d,type:p,size:g,start:_,blend:w}=a[c];o!==d&&(o=d,this.bindAndClearTexArray(d)),this.state.blendMode=w,r.set(this.state),t.drawElements(p,g,t.UNSIGNED_SHORT,_*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Hi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=$d(Math.ceil(e/8)),r=Zv(t),a=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new Xm(a*this.vertexSize*4)),o}getIndexBuffer(e){const t=$d(Math.ceil(e/12)),r=Zv(t),a=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let o=this._iBuffers[r];return o||(this._iBuffers[r]=o=new Uint16Array(a)),o}packInterleavedGeometry(e,t,r,a,o){const{uint32View:c,float32View:d}=t,p=a/this.vertexSize,g=e.uvs,_=e.indices,w=e.vertexData,S=e._texture.baseTexture._batchLocation,b=Math.min(e.worldAlpha,1),A=bt.shared.setValue(e._tintRGB).toPremultiplied(b,e._texture.baseTexture.alphaMode>0);for(let M=0;M<w.length;M+=2)d[a++]=w[M],d[a++]=w[M+1],d[a++]=g[M],d[a++]=g[M+1],c[a++]=A,d[a++]=S;for(let M=0;M<_.length;M++)r[o++]=p+_[M]}};ac.defaultBatchSize=4096,ac.extension={name:"batch",type:De.RendererPlugin},ac._drawCallPool=[],ac._textureArrayPool=[];let Rl=ac;Xe.add(Rl);var vE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,_E=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const tg=class oc extends As{constructor(e,t,r){const a=ua.from(e||oc.defaultVertexSrc,t||oc.defaultFragmentSrc);super(a,r),this.padding=0,this.resolution=oc.defaultResolution,this.multisample=oc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Is}apply(e,t,r,a,o){e.applyFilter(this,t,r,a)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return _E}static get defaultFragmentSrc(){return vE}};tg.defaultResolution=1,tg.defaultMultisample=mr.NONE;let cn=tg;class qd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new bt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:a}=e,o=r??t;o!==void 0&&(this.color=o),this.alpha=a}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}qd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},qd.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"background"};Xe.add(qd);class R_{constructor(e){this.renderer=e,this.emptyRenderer=new vf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let a=t-1;a>=0;--a)e[a]=r[a]||null,e[a]&&(e[a]._batchLocation=a)}boundArray(e,t,r,a){const{elements:o,ids:c,count:d}=e;let p=0;for(let g=0;g<d;g++){const _=o[g],w=_._batchLocation;if(w>=0&&w<a&&t[w]===_){c[g]=w;continue}for(;p<a;){const S=t[p];if(S&&S._batchEnabled===r&&S._batchLocation===p){p++;continue}c[g]=p,_._batchLocation=p,t[p]=_;break}}}destroy(){this.renderer=null}}R_.extension={type:De.RendererSystem,name:"batch"};Xe.add(R_);let u0=0;class Qd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=u0++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=u0++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(Le.PREFER_ENV>=Ol.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const a=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=a,a||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Qd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Qd.extension={type:De.RendererSystem,name:"context"};Xe.add(Qd);class rg{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Xi("disposeFramebuffer"),this.multisample=mr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new it(null,{scaleMode:oa.NEAREST,resolution:1,mipmap:Cs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new it(null,{scaleMode:oa.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Cs.OFF,format:Ae.DEPTH_COMPONENT,type:Ke.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const a=this.colorTextures[r],o=a.resolution;a.setSize(e/o,t/o)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class I_ extends it{constructor(e={}){if(typeof e=="number"){const t=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3];e={width:t,height:r,scaleMode:a,resolution:o}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=mr.NONE),super(null,e),this.mipmap=Cs.OFF,this.valid=!0,this._clear=new bt([0,0,0,0]),this.framebuffer=new rg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class fa extends yc{constructor(e){const t=e,r=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,a=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(r,a),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=Hw(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,a){const o=e.gl,c=t.realWidth,d=t.realHeight;if(a=a||this.source,typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===On.UNPACK),!this.noSubImage&&t.target===o.TEXTURE_2D&&r.width===c&&r.height===d?o.texSubImage2D(o.TEXTURE_2D,0,0,0,t.format,r.type,a):(r.width=c,r.height=d,o.texImage2D(t.target,0,r.internalFormat,t.format,r.type,a)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class M_ extends fa{constructor(e,t){if(t=t||{},typeof e=="string"){const r=new Image;fa.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Le.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{const a=this.source;this.url=a.src;const o=()=>{this.destroyed||(a.onload=null,a.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};a.complete&&a.src?o():(a.onload=o,a.onerror=c=>{r(c),this.onError.emit(c)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(a=>a.blob()).then(a=>t(a,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===On.UNPACK?"premultiply":"none"})).then(a=>this.destroyed?Promise.reject():(this.bitmap=a,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let a=!0;const o=t._glTextures;for(const c in o){const d=o[c];if(d!==r&&d.dirtyId!==t.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Lg{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const a=t.width,o=t.height;if(r){const c=e.width/2/a,d=e.height/2/o,p=e.x/a+c,g=e.y/o+d;r=qt.add(r,qt.NW),this.x0=p+c*qt.uX(r),this.y0=g+d*qt.uY(r),r=qt.add(r,2),this.x1=p+c*qt.uX(r),this.y1=g+d*qt.uY(r),r=qt.add(r,2),this.x2=p+c*qt.uX(r),this.y2=g+d*qt.uY(r),r=qt.add(r,2),this.x3=p+c*qt.uX(r),this.y3=g+d*qt.uY(r)}else this.x0=e.x/a,this.y0=e.y/o,this.x1=(e.x+e.width)/a,this.y1=e.y/o,this.x2=(e.x+e.width)/a,this.y2=(e.y+e.height)/o,this.x3=e.x/a,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Lg.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const h0=new Lg;function xd(i){i.destroy=function(){},i.on=function(){},i.once=function(){},i.emit=function(){}}class ke extends Ec{constructor(e,t,r,a,o,c,d){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new at(0,0,1,1)),e instanceof ke&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=a,this.valid=!1,this.destroyed=!1,this._uvs=h0,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=c?new dt(c.x,c.y):new dt(0,0),this.defaultBorders=d,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&Fn[t.url]&&ke.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ke.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var a;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new ke(this.baseTexture,!this.noFrame&&e,t,(a=this.trim)==null?void 0:a.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===h0&&(this._uvs=new Lg),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=Le.STRICT_TEXTURE_CACHE){const a=typeof e=="string";let o=null;if(a)o=e;else if(e instanceof it){if(!e.cacheId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${d}-${Nl()}`,it.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Nl()}`}o=e._pixiId}let c=Fn[o];if(a&&r&&!c)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!c&&!(e instanceof it)?(t.resolution||(t.resolution=da(e)),c=new ke(new it(e,t)),c.baseTexture.cacheId=o,it.addToCache(c.baseTexture,o),ke.addToCache(c,o)):!c&&e instanceof it&&(c=new ke(e),ke.addToCache(c,o)),c}static fromURL(e,t){const r=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),a=ke.from(e,Object.assign({resourceOptions:r},t),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(()=>Promise.resolve(a))}static fromBuffer(e,t,r,a){return new ke(it.fromBuffer(e,t,r,a))}static fromLoader(e,t,r,a){const o=new it(e,Object.assign({scaleMode:it.defaultOptions.scaleMode,resolution:da(t)},a)),{resource:c}=o;c instanceof M_&&(c.url=t);const d=new ke(o);return r||(r=t),it.addToCache(d.baseTexture,r),ke.addToCache(d,r),r!==t&&(it.addToCache(d.baseTexture,t),ke.addToCache(d,t)),d.baseTexture.valid?Promise.resolve(d):new Promise(p=>{d.baseTexture.once("loaded",()=>p(d))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Fn[t]&&Fn[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),Fn[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=Fn[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete Fn[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)Fn[e.textureCacheIds[t]]===e&&delete Fn[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:a,height:o}=e,c=t+a>this.baseTexture.width,d=r+o>this.baseTexture.height;if(c||d){const p=c&&d?"and":"or",g=`X: ${t} + ${a} = ${t+a} > ${this.baseTexture.width}`,_=`Y: ${r} + ${o} = ${r+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${g} ${p} ${_}`)}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ke._EMPTY||(ke._EMPTY=new ke(new it),xd(ke._EMPTY),xd(ke._EMPTY.baseTexture)),ke._EMPTY}static get WHITE(){if(!ke._WHITE){const e=Le.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),ke._WHITE=new ke(it.from(e)),xd(ke._WHITE),xd(ke._WHITE.baseTexture)}return ke._WHITE}}class Ll extends ke{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const a=this.baseTexture.resolution,o=Math.round(e*a)/a,c=Math.round(t*a)/a;this.valid=o>0&&c>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=c,r&&this.baseTexture.resize(o,c),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new Ll(new I_(e))}}class k_{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=mr.NONE){const a=new I_(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new Ll(a)}getOptimalTexture(e,t,r=1,a=mr.NONE){let o;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=$d(e),t=$d(t),o=((e&65535)<<16|t&65535)>>>0,a>1&&(o+=a*4294967296)):o=a>1?-a:-1,this.texturePool[o]||(this.texturePool[o]=[]);let c=this.texturePool[o].pop();return c||(c=this.createTexture(e,t,a)),c.filterPoolKey=o,c.setResolution(r),c}getFilterTexture(e,t,r){const a=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||mr.NONE);return a.filterFrame=e.filterFrame,a}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const r=this.texturePool[t];if(r)for(let a=0;a<r.length;a++)r[a].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const r=this.texturePool[t];if(r)for(let a=0;a<r.length;a++)r[a].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}k_.SCREEN_KEY=-1;class xE extends vo{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class D_ extends vo{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new hr(this.vertices),this.uvBuffer=new hr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,a=0;return this.uvs[0]=r,this.uvs[1]=a,this.uvs[2]=r+t.width/e.width,this.uvs[3]=a,this.uvs[4]=r+t.width/e.width,this.uvs[5]=a+t.height/e.height,this.uvs[6]=r,this.uvs[7]=a+t.height/e.height,r=t.x,a=t.y,this.vertices[0]=r,this.vertices[1]=a,this.vertices[2]=r+t.width,this.vertices[3]=a,this.vertices[4]=r+t.width,this.vertices[5]=a+t.height,this.vertices[6]=r,this.vertices[7]=a+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class wE{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=mr.NONE,this.sourceFrame=new at,this.destinationFrame=new at,this.bindingSourceFrame=new at,this.bindingDestinationFrame=new at,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const wd=[new dt,new dt,new dt,new dt],wm=new zt;class N_{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new k_,this.statePool=[],this.quad=new xE,this.quadUv=new D_,this.tempRect=new at,this.activeState={},this.globalUniforms=new Yi({outputFrame:new at,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const r=this.renderer,a=this.defaultFilterStack,o=this.statePool.pop()||new wE,c=r.renderTexture;let d,p;if(c.current){const P=c.current;d=P.resolution,p=P.multisample}else d=r.resolution,p=r.multisample;let g=t[0].resolution||d,_=t[0].multisample??p,w=t[0].padding,S=t[0].autoFit,b=t[0].legacy??!0;for(let P=1;P<t.length;P++){const k=t[P];g=Math.min(g,k.resolution||d),_=Math.min(_,k.multisample??p),w=this.useMaxPadding?Math.max(w,k.padding):w+k.padding,S=S&&k.autoFit,b=b||(k.legacy??!0)}a.length===1&&(this.defaultFilterStack[0].renderTexture=c.current),a.push(o),o.resolution=g,o.multisample=_,o.legacy=b,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(w);const A=this.tempRect.copyFrom(c.sourceFrame);r.projection.transform&&this.transformAABB(wm.copyFrom(r.projection.transform).invert(),A),S?(o.sourceFrame.fit(A),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(A)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,c.current?c.current.resolution:r.resolution,c.sourceFrame,c.destinationFrame,r.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,g,_),o.filters=t,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const M=this.tempRect;M.x=0,M.y=0,M.width=o.sourceFrame.width,M.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(c.sourceFrame),o.bindingDestinationFrame.copyFrom(c.destinationFrame),o.transform=r.projection.transform,r.projection.transform=null,c.bind(o.renderTexture,o.sourceFrame,M),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const a=this.globalUniforms.uniforms;a.outputFrame=t.sourceFrame,a.resolution=t.resolution;const o=a.inputSize,c=a.inputPixel,d=a.inputClamp;if(o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],c[0]=Math.round(o[0]*t.resolution),c[1]=Math.round(o[1]*t.resolution),c[2]=1/c[0],c[3]=1/c[1],d[0]=.5*c[2],d[1]=.5*c[3],d[2]=t.sourceFrame.width*o[2]-.5*c[2],d[3]=t.sourceFrame.height*o[3]-.5*c[3],t.legacy){const g=a.filterArea;g[0]=t.destinationFrame.width,g[1]=t.destinationFrame.height,g[2]=t.sourceFrame.x,g[3]=t.sourceFrame.y,a.filterClamp=a.inputClamp}this.globalUniforms.update();const p=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,p.renderTexture,Ss.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let g=t.renderTexture,_=this.getOptimalFilterTexture(g.width,g.height,t.resolution);_.filterFrame=g.filterFrame;let w=0;for(w=0;w<r.length-1;++w){w===1&&t.multisample>1&&(_=this.getOptimalFilterTexture(g.width,g.height,t.resolution),_.filterFrame=g.filterFrame),r[w].apply(this,g,_,Ss.CLEAR,t);const S=g;g=_,_=S}r[w].apply(this,g,p.renderTexture,Ss.BLEND,t),w>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(_)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Ss.CLEAR){const{renderTexture:r,state:a}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const c=this.tempRect;c.x=0,c.y=0,c.width=e.filterFrame.width,c.height=e.filterFrame.height,r.bind(e,e.filterFrame,c)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=a.stateId&1||this.forceClear;(t===Ss.CLEAR||t===Ss.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,a){const o=this.renderer;o.state.set(e.state),this.bindAndClear(r,a),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Vi.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Vi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:a}=this.activeState,{orig:o}=t._texture,c=e.set(a.width,0,0,a.height,r.x,r.y),d=t.worldTransform.copyTo(zt.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/o.width,1/o.height),c.translate(t.anchor.x,t.anchor.y),c}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,a=mr.NONE){return this.texturePool.getOptimalTexture(e,t,r,a)}getFilterTexture(e,t,r){if(typeof e=="number"){const o=e;e=t,t=o}e=e||this.activeState.renderTexture;const a=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||mr.NONE);return a.filterFrame=e.filterFrame,a}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=wd[0],a=wd[1],o=wd[2],c=wd[3];r.set(t.left,t.top),a.set(t.left,t.bottom),o.set(t.right,t.top),c.set(t.right,t.bottom),e.apply(r,r),e.apply(a,a),e.apply(o,o),e.apply(c,c);const d=Math.min(r.x,a.x,o.x,c.x),p=Math.min(r.y,a.y,o.y,c.y),g=Math.max(r.x,a.x,o.x,c.x),_=Math.max(r.y,a.y,o.y,c.y);t.x=d,t.y=p,t.width=g-d,t.height=_-p}roundFrame(e,t,r,a,o){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(o){const{a:c,b:d,c:p,d:g}=o;if((Math.abs(d)>1e-4||Math.abs(p)>1e-4)&&(Math.abs(c)>1e-4||Math.abs(g)>1e-4))return}o=o?wm.copyFrom(o):wm.identity(),o.translate(-r.x,-r.y).scale(a.width/r.width,a.height/r.height).translate(a.x,a.y),this.transformAABB(o,e),e.ceil(t),this.transformAABB(o.invert(),e)}}}N_.extension={type:De.RendererSystem,name:"filter"};Xe.add(N_);class EE{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=mr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const SE=new at;class F_{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new rg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new at,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Le.PREFER_ENV===Ol.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=a=>t.drawBuffersWEBGL(a):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:a}=this;if(e){const o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,a.bindFramebuffer(a.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=r),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let c=0;c<e.colorTextures.length;c++){const d=e.colorTextures[c];this.renderer.texture.unbind(d.parentTextureArray||d)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const c=t.width>>r,d=t.height>>r,p=c/t.width;this.setViewport(t.x*p,t.y*p,c,d)}else{const c=e.width>>r,d=e.height>>r;this.setViewport(0,0,c,d)}}else this.current&&(this.current=null,a.bindFramebuffer(a.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,a){const o=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),a=Math.round(a),(o.width!==r||o.height!==a||o.x!==e||o.y!==t)&&(o.x=e,o.y=t,o.width=r,o.height=a,this.gl.viewport(e,t,r,a))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,a,o=Hm.COLOR|Hm.DEPTH){const{gl:c}=this;c.clearColor(e,t,r,a),c.clear(o)}initFramebuffer(e){const{gl:t}=this,r=new EE(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){t.bindRenderbuffer(t.RENDERBUFFER,r.stencil);let c;this.renderer.context.webGLVersion===1?c=t.DEPTH_STENCIL:e.depth&&e.stencil?c=t.DEPTH24_STENCIL8:e.depth?c=t.DEPTH_COMPONENT24:c=t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,c,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,c,e.width,e.height)}const a=e.colorTextures;let o=a.length;t.drawBuffers||(o=Math.min(o,1));for(let c=0;c<o;c++){const d=a[c],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),c===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,a=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures;let c=o.length;r.drawBuffers||(c=Math.min(c,1)),a.multisample>1&&this.canMultisampleFramebuffer(e)?a.msaaBuffer=a.msaaBuffer||r.createRenderbuffer():a.msaaBuffer&&(r.deleteRenderbuffer(a.msaaBuffer),a.msaaBuffer=null,a.blitFramebuffer&&(a.blitFramebuffer.dispose(),a.blitFramebuffer=null));const d=[];for(let p=0;p<c;p++){const g=o[p],_=g.parentTextureArray||g;this.renderer.texture.bind(_,0),p===0&&a.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,a.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,a.multisample,_._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,a.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+p,g.target,_._glTextures[this.CONTEXT_UID].texture,t),d.push(r.COLOR_ATTACHMENT0+p))}if(d.length>1&&r.drawBuffers(d),e.depthTexture&&this.writeDepthTexture){const p=e.depthTexture;this.renderer.texture.bind(p,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){a.stencil=a.stencil||r.createRenderbuffer();let p,g;this.renderer.context.webGLVersion===1?(p=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH_STENCIL):e.depth&&e.stencil?(p=r.DEPTH_STENCIL_ATTACHMENT,g=r.DEPTH24_STENCIL8):e.depth?(p=r.DEPTH_ATTACHMENT,g=r.DEPTH_COMPONENT24):(p=r.STENCIL_ATTACHMENT,g=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,a.stencil),a.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,a.multisample,g,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,g,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,p,r.RENDERBUFFER,a.stencil)}else a.stencil&&(r.deleteRenderbuffer(a.stencil),a.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=mr.NONE;if(e<=1||t===null)return r;for(let a=0;a<t.length;a++)if(t[a]<=e){r=t[a];break}return r===1&&(r=mr.NONE),r}blit(e,t,r){const{current:a,renderer:o,gl:c,CONTEXT_UID:d}=this;if(o.context.webGLVersion!==2||!a)return;const p=a.glFramebuffers[d];if(!p)return;if(!e){if(!p.msaaBuffer)return;const _=a.colorTextures[0];if(!_)return;p.blitFramebuffer||(p.blitFramebuffer=new rg(a.width,a.height),p.blitFramebuffer.addColorTexture(0,_)),e=p.blitFramebuffer,e.colorTextures[0]!==_&&(e.colorTextures[0]=_,e.dirtyId++,e.dirtyFormat++),(e.width!==a.width||e.height!==a.height)&&(e.width=a.width,e.height=a.height,e.dirtyId++,e.dirtySize++)}t||(t=SE,t.width=a.width,t.height=a.height),r||(r=t);const g=t.width===r.width&&t.height===r.height;this.bind(e),c.bindFramebuffer(c.READ_FRAMEBUFFER,p.framebuffer),c.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,c.COLOR_BUFFER_BIT,g?c.NEAREST:c.LINEAR),c.bindFramebuffer(c.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],a=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),t||(a.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&a.deleteRenderbuffer(r.msaaBuffer),r.stencil&&a.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,a=e.height,o=this.gl,c=t.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,c);let d,p;this.renderer.context.webGLVersion===1?(d=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH_STENCIL):e.depth?(d=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH24_STENCIL8):(d=o.STENCIL_ATTACHMENT,p=o.STENCIL_INDEX8),t.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,t.multisample,p,r,a):o.renderbufferStorage(o.RENDERBUFFER,p,r,a),o.framebufferRenderbuffer(o.FRAMEBUFFER,d,o.RENDERBUFFER,c)}reset(){this.current=this.unknownFramebuffer,this.viewport=new at}destroy(){this.renderer=null}}F_.extension={type:De.RendererSystem,name:"framebuffer"};Xe.add(F_);const Em={5126:4,5123:2,5121:1};class O_{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;Le.PREFER_ENV===Ol.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=a=>r.bindVertexArrayOES(a),e.deleteVertexArray=a=>r.deleteVertexArrayOES(a)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(a,o)=>r.vertexAttribDivisorANGLE(a,o),e.drawElementsInstanced=(a,o,c,d,p)=>r.drawElementsInstancedANGLE(a,o,c,d,p),e.drawArraysInstanced=(a,o,c,d)=>r.drawArraysInstancedANGLE(a,o,c,d)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let a=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;a||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=a={},o=!0);const c=a[t.program.id]||this.initGeometryVao(e,t,o);this._activeGeometry=e,this._activeVao!==c&&(this._activeVao=c,this.hasVao?r.bindVertexArray(c):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const a=e.buffers[r];t.update(a)}}checkCompatibility(e,t){const r=e.attributes,a=t.attributeData;for(const o in a)if(!r[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(e,t){const r=e.attributes,a=t.attributeData,o=["g",e.id];for(const c in r)a[c]&&o.push(c,a[c].location);return o.join("-")}initGeometryVao(e,t,r=!0){const a=this.gl,o=this.CONTEXT_UID,c=this.renderer.buffer,d=t.program;d.glPrograms[o]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,d);const p=this.getSignature(e,d),g=e.glVertexArrayObjects[this.CONTEXT_UID];let _=g[p];if(_)return g[d.id]=_,_;const w=e.buffers,S=e.attributes,b={},A={};for(const M in w)b[M]=0,A[M]=0;for(const M in S)!S[M].size&&d.attributeData[M]?S[M].size=d.attributeData[M].size:S[M].size||console.warn(`PIXI Geometry attribute '${M}' size cannot be determined (likely the bound shader does not have the attribute)`),b[S[M].buffer]+=S[M].size*Em[S[M].type];for(const M in S){const P=S[M],k=P.size;P.stride===void 0&&(b[P.buffer]===k*Em[P.type]?P.stride=0:P.stride=b[P.buffer]),P.start===void 0&&(P.start=A[P.buffer],A[P.buffer]+=k*Em[P.type])}_=a.createVertexArray(),a.bindVertexArray(_);for(let M=0;M<w.length;M++){const P=w[M];c.bind(P),r&&P._glBuffers[o].refCount++}return this.activateVao(e,d),g[d.id]=_,g[p]=_,a.bindVertexArray(null),c.unbind(Ts.ARRAY_BUFFER),_}disposeGeometry(e,t){var d;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=e.buffers,c=(d=this.renderer)==null?void 0:d.buffer;if(e.disposeRunner.remove(this),!!r){if(c)for(let p=0;p<o.length;p++){const g=o[p]._glBuffers[this.CONTEXT_UID];g&&(g.refCount--,g.refCount===0&&!t&&c.dispose(o[p],t))}if(!t){for(const p in r)if(p[0]==="g"){const g=r[p];this._activeVao===g&&this.unbind(),a.deleteVertexArray(g)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,c=e.buffers,d=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let p=null;for(const g in d){const _=d[g],w=c[_.buffer],S=w._glBuffers[a];if(t.attributeData[g]){p!==S&&(o.bind(w),p=S);const b=t.attributeData[g].location;if(r.enableVertexAttribArray(b),r.vertexAttribPointer(b,_.size,_.type||r.FLOAT,_.normalized,_.stride,_.start),_.instance)if(this.hasInstance)r.vertexAttribDivisor(b,_.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,a){const{gl:o}=this,c=this._activeGeometry;if(c.indexBuffer){const d=c.indexBuffer.data.BYTES_PER_ELEMENT,p=d===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;d===2||d===4&&this.canUseUInt32ElementIndex?c.instanced?o.drawElementsInstanced(e,t||c.indexBuffer.data.length,p,(r||0)*d,a||1):o.drawElements(e,t||c.indexBuffer.data.length,p,(r||0)*d):console.warn("unsupported index buffer type: uint32")}else c.instanced?o.drawArraysInstanced(e,r,t||c.getSize(),a||1):o.drawArrays(e,r,t||c.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}O_.extension={type:De.RendererSystem,name:"geometry"};Xe.add(O_);const c0=new zt;class Bg{constructor(e,t){this._texture=e,this.mapCoord=new zt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const r=this.mapCoord;for(let a=0;a<e.length;a+=2){const o=e[a],c=e[a+1];t[a]=o*r.a+c*r.c+r.tx,t[a+1]=o*r.b+c*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const a=t.orig,o=t.trim;o&&(c0.set(a.width/o.width,0,0,a.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(c0));const c=t.baseTexture,d=this.uClampFrame,p=this.clampMargin/c.resolution,g=this.clampOffset;return d[0]=(t._frame.x+p+g)/c.width,d[1]=(t._frame.y+p+g)/c.height,d[2]=(t._frame.x+t._frame.width-p+g)/c.width,d[3]=(t._frame.y+t._frame.height-p+g)/c.height,this.uClampOffset[0]=g/c.realWidth,this.uClampOffset[1]=g/c.realHeight,this.isSimple=t._frame.width===c.width&&t._frame.height===c.height&&t.rotate===0,!0}}var bE=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,TE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class AE extends cn{constructor(e,t,r){let a=null;typeof e!="string"&&t===void 0&&r===void 0&&(a=e,e=void 0,t=void 0,r=void 0),super(e||TE,t||bE,r),this.maskSprite=a,this.maskMatrix=new zt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,a){const o=this._maskSprite,c=o._texture;c.valid&&(c.uvMatrix||(c.uvMatrix=new Bg(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,e.applyFilter(this,t,r,a))}}class CE{constructor(e=null){this.type=Er.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=cn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Er.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class L_{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const o=this.maskDataPool.pop()||new CE;o.pooled=!0,o.maskObject=t,r=o}const a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(a),r._colorMask=a?a._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==Er.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Er.SCISSOR:this.renderer.scissor.push(r);break;case Er.STENCIL:this.renderer.stencil.push(r);break;case Er.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Er.COLOR:this.pushColorMask(r);break}r.type===Er.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case Er.SCISSOR:this.renderer.scissor.pop(t);break;case Er.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Er.SPRITE:this.popSpriteMask(t);break;case Er.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Er.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=Er.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Er.SCISSOR:e.type=Er.STENCIL:e.type=Er.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let a=e._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new AE])),a[0].resolution=e.resolution,a[0].multisample=e.multisample,a[0].maskSprite=t;const o=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,a),r.filterArea=o,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}L_.extension={type:De.RendererSystem,name:"mask"};Xe.add(L_);class B_{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const a=this.getStackLength();a!==r&&(a===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const d0=new zt,f0=[],U_=class Bd extends B_{constructor(e){super(e),this.glConst=Le.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:a}=this,o=a.renderTexture,c=r.getBounds(!0,f0.pop()??new at);this.roundFrameToPixels(c,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),t&&c.fit(t),e._scissorRectLocal=c}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:a,d:o}=e;return(Math.abs(r)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(o)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||Bd.isMatrixRotated(t.worldTransform)||Bd.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,a,o){Bd.isMatrixRotated(o)||(o=o?d0.copyFrom(o):d0.identity(),o.translate(-r.x,-r.y).scale(a.width/r.width,a.height/r.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,e),e.fit(a),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&f0.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};U_.extension={type:De.RendererSystem,name:"scissor"};let PE=U_;Xe.add(PE);class z_ extends B_{constructor(e){super(e),this.glConst=Le.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,a=e._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const o=e._colorMask;o!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,a,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,o!==0&&(e._colorMask=o,r.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,a=r?r._colorMask:15;a!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,a!==0&&(r._colorMask=a,t.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}z_.extension={type:De.RendererSystem,name:"stencil"};Xe.add(z_);class G_{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return lt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return lt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return lt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}G_.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_plugin"};Xe.add(G_);class H_{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new zt,this.transform=null}update(e,t,r,a){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,a),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(e,t,r,a){const o=this.projectionMatrix,c=a?-1:1;o.identity(),o.a=1/t.width*2,o.d=c*(1/t.height*2),o.tx=-1-t.x*o.a,o.ty=-c-t.y*o.d}setTransform(e){}destroy(){this.renderer=null}}H_.extension={type:De.RendererSystem,name:"projection"};Xe.add(H_);const RE=new yf,p0=new at;class j_{constructor(e){this.renderer=e,this._tempMatrix=new zt}generateTexture(e,t){const{region:r,...a}=t||{},o=(r==null?void 0:r.copyTo(p0))||e.getLocalBounds(p0,!0),c=a.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/c),o.height=Math.max(o.height,1/c),a.width=o.width,a.height=o.height,a.resolution=c,a.multisample??(a.multisample=this.renderer.multisample);const d=Ll.create(a);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const p=e.transform;return e.transform=RE,this.renderer.render(e,{renderTexture:d,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=p,d}destroy(){}}j_.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"textureGenerator"};Xe.add(j_);const El=new at,rc=new at;class W_{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new at,this.destinationFrame=new at,this.viewportFrame=new at}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){const a=this.renderer;this.current=e;let o,c,d;e?(o=e.baseTexture,d=o.resolution,t||(El.width=e.frame.width,El.height=e.frame.height,t=El),r||(rc.x=e.frame.x,rc.y=e.frame.y,rc.width=t.width,rc.height=t.height,r=rc),c=o.framebuffer):(d=a.resolution,t||(El.width=a._view.screen.width,El.height=a._view.screen.height,t=El),r||(r=El,r.width=t.width,r.height=t.height));const p=this.viewportFrame;p.x=r.x*d,p.y=r.y*d,p.width=r.width*d,p.height=r.height*d,e||(p.y=a.view.height-(p.y+p.height)),p.ceil(),this.renderer.framebuffer.bind(c,p),this.renderer.projection.update(r,t,d,!c),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,a=bt.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&a.premultiply(a.alpha);const o=this.destinationFrame,c=this.current?this.current.baseTexture:this.renderer._view.screen,d=o.width!==c.width||o.height!==c.height;if(d){let{x:p,y:g,width:_,height:w}=this.viewportFrame;p=Math.round(p),g=Math.round(g),_=Math.round(_),w=Math.round(w),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(p,g,_,w)}this.renderer.framebuffer.clear(a.red,a.green,a.blue,a.alpha,t),d&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}W_.extension={type:De.RendererSystem,name:"renderTexture"};Xe.add(W_);class SC{}class IE{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function ME(i,e){const t={},r=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const o=e.getActiveAttrib(i,a);if(o.name.startsWith("gl_"))continue;const c=P_(e,o.type),d={type:c,name:o.name,size:C_(c),location:e.getAttribLocation(i,o.name)};t[o.name]=d}return t}function kE(i,e){const t={},r=e.getProgramParameter(i,e.ACTIVE_UNIFORMS);for(let a=0;a<r;a++){const o=e.getActiveUniform(i,a),c=o.name.replace(/\[.*?\]$/,""),d=!!o.name.match(/\[.*?\]$/),p=P_(e,o.type);t[c]={name:c,index:a,type:p,size:o.size,isArray:d,value:T_(p,o.size)}}return t}function DE(i,e){var d;const t=s0(i,i.VERTEX_SHADER,e.vertexSrc),r=s0(i,i.FRAGMENT_SHADER,e.fragmentSrc),a=i.createProgram();i.attachShader(a,t),i.attachShader(a,r);const o=(d=e.extra)==null?void 0:d.transformFeedbackVaryings;if(o&&(typeof i.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):i.transformFeedbackVaryings(a,o.names,o.bufferMode==="separate"?i.SEPARATE_ATTRIBS:i.INTERLEAVED_ATTRIBS)),i.linkProgram(a),i.getProgramParameter(a,i.LINK_STATUS)||lE(i,a,t,r),e.attributeData=ME(a,i),e.uniformData=kE(a,i),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const p=Object.keys(e.attributeData);p.sort((g,_)=>g>_?1:-1);for(let g=0;g<p.length;g++)e.attributeData[p[g]].location=g,i.bindAttribLocation(a,g,p[g]);i.linkProgram(a)}i.deleteShader(t),i.deleteShader(r);const c={};for(const p in e.uniformData){const g=e.uniformData[p];c[p]={location:i.getUniformLocation(a,p),value:T_(g.type,g.size)}}return new IE(a,c)}function NE(i,e,t,r,a){t.buffer.update(a)}const FE={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},V_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function OE(i){const e=i.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let t=0,r=0,a=0;for(let o=0;o<e.length;o++){const c=e[o];if(t=V_[c.data.type],c.data.size>1&&(t=Math.max(t,16)*c.data.size),c.dataLen=t,r%t!==0&&r<16){const d=r%t%16;r+=d,a+=d}r+t>16?(a=Math.ceil(a/16)*16,c.offset=a,a+=t,r=t):(c.offset=a,r+=t,a+=t)}return a=Math.ceil(a/16)*16,{uboElements:e,size:a}}function LE(i,e){const t=[];for(const r in i)e[r]&&t.push(e[r]);return t.sort((r,a)=>r.index-a.index),t}function BE(i,e){if(!i.autoManage)return{size:0,syncFunc:NE};const t=LE(i.uniforms,e),{uboElements:r,size:a}=OE(t),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let c=0;c<r.length;c++){const d=r[c],p=i.uniforms[d.data.name],g=d.data.name;let _=!1;for(let w=0;w<Yu.length;w++){const S=Yu[w];if(S.codeUbo&&S.test(d.data,p)){o.push(`offset = ${d.offset/4};`,Yu[w].codeUbo(d.data.name,p)),_=!0;break}}if(!_)if(d.data.size>1){const w=C_(d.data.type),S=Math.max(V_[d.data.type]/16,1),b=w/S,A=(4-b%4)%4;o.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};

                t = 0;

                for(var i=0; i < ${d.data.size*S}; i++)
                {
                    for(var j = 0; j < ${b}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${A};
                }

                `)}else{const w=FE[d.data.type];o.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};
                ${w};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let UE=0;const Ed={textureCount:0,uboCount:0};class $_{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UE++}systemCheck(){if(!hE())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,a=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(a.program)),t||(Ed.textureCount=0,Ed.uboCount=0,this.syncUniformGroup(e.uniformGroup,Ed)),a}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=sE(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const a=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),a(r.uniformData,e.uniforms,this.renderer,Ed,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:a}=this.renderer;this.renderer.buffer.bind(e.buffer);const o=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,a.uniformBlockBinding(t.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const c=this.getSignature(e,this.shader.program.uniformData,"ubo");let d=this._uboCache[c];if(d||(d=this._uboCache[c]=BE(e,this.shader.program.uniformData)),e.autoManage){const p=new Float32Array(d.size/4);e.buffer.update(p)}return t.uniformGroups[e.id]=d.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const a=e.uniforms,o=[`${r}-`];for(const c in a)o.push(c),t[c]&&o.push(t[c].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,a=DE(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=a,a}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}$_.extension={type:De.RendererSystem,name:"shader"};Xe.add($_);class Kd{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.3 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}Kd.defaultOptions={hello:!1},Kd.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"startup"};Xe.add(Kd);function zE(i,e=[]){return e[et.NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.ADD]=[i.ONE,i.ONE],e[et.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SCREEN]=[i.ONE,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.NONE]=[0,0],e[et.NORMAL_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.ADD_NPM]=[i.SRC_ALPHA,i.ONE,i.ONE,i.ONE],e[et.SCREEN_NPM]=[i.SRC_ALPHA,i.ONE_MINUS_SRC_COLOR,i.ONE,i.ONE_MINUS_SRC_ALPHA],e[et.SRC_IN]=[i.DST_ALPHA,i.ZERO],e[et.SRC_OUT]=[i.ONE_MINUS_DST_ALPHA,i.ZERO],e[et.SRC_ATOP]=[i.DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[et.DST_OVER]=[i.ONE_MINUS_DST_ALPHA,i.ONE],e[et.DST_IN]=[i.ZERO,i.SRC_ALPHA],e[et.DST_OUT]=[i.ZERO,i.ONE_MINUS_SRC_ALPHA],e[et.DST_ATOP]=[i.ONE_MINUS_DST_ALPHA,i.SRC_ALPHA],e[et.XOR]=[i.ONE_MINUS_DST_ALPHA,i.ONE_MINUS_SRC_ALPHA],e[et.SUBTRACT]=[i.ONE,i.ONE,i.ONE,i.ONE,i.FUNC_REVERSE_SUBTRACT,i.FUNC_ADD],e}const GE=0,HE=1,jE=2,WE=3,VE=4,$E=5,X_=class ng{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=et.NONE,this._blendEq=!1,this.map=[],this.map[GE]=this.setBlend,this.map[HE]=this.setOffset,this.map[jE]=this.setCullFace,this.map[WE]=this.setDepthTest,this.map[VE]=this.setFrontFace,this.map[$E]=this.setDepthMask,this.checks=[],this.defaultState=new Is,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=zE(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(ng.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(ng.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};X_.extension={type:De.RendererSystem,name:"state"};let XE=X_;Xe.add(XE);class YE extends Ec{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(a=>e.systems[a]),r=[...t,...Object.keys(e.systems).filter(a=>!t.includes(a))];for(const a of r)this.addSystem(e.systems[a],a)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Xi(t)})}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const a in this.runners)this.runners[a].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach(a=>{const o=r.find(c=>this._systemsHash[c]===a);a[e.name](t[o])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const lc=class Ud{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Ud.defaultMaxIdle,this.checkCountMax=Ud.defaultCheckCountMax,this.mode=Ud.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Dg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let a=0;a<t.length;a++){const o=t[a];o.resource&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),t[a]=null,r=!0)}if(r){let a=0;for(let o=0;o<t.length;o++)t[o]!==null&&(t[a++]=t[o]);t.length=a}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let a=e.children.length-1;a>=0;a--)this.unload(e.children[a])}destroy(){this.renderer=null}};lc.defaultMode=Dg.AUTO,lc.defaultMaxIdle=3600,lc.defaultCheckCountMax=600,lc.extension={type:De.RendererSystem,name:"textureGC"};let Il=lc;Xe.add(Il);class Sm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ke.UNSIGNED_BYTE,this.internalFormat=Ae.RGBA,this.samplerType=0}}function qE(i){let e;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?e={[i.RGB]:Oe.FLOAT,[i.RGBA]:Oe.FLOAT,[i.ALPHA]:Oe.FLOAT,[i.LUMINANCE]:Oe.FLOAT,[i.LUMINANCE_ALPHA]:Oe.FLOAT,[i.R8]:Oe.FLOAT,[i.R8_SNORM]:Oe.FLOAT,[i.RG8]:Oe.FLOAT,[i.RG8_SNORM]:Oe.FLOAT,[i.RGB8]:Oe.FLOAT,[i.RGB8_SNORM]:Oe.FLOAT,[i.RGB565]:Oe.FLOAT,[i.RGBA4]:Oe.FLOAT,[i.RGB5_A1]:Oe.FLOAT,[i.RGBA8]:Oe.FLOAT,[i.RGBA8_SNORM]:Oe.FLOAT,[i.RGB10_A2]:Oe.FLOAT,[i.RGB10_A2UI]:Oe.FLOAT,[i.SRGB8]:Oe.FLOAT,[i.SRGB8_ALPHA8]:Oe.FLOAT,[i.R16F]:Oe.FLOAT,[i.RG16F]:Oe.FLOAT,[i.RGB16F]:Oe.FLOAT,[i.RGBA16F]:Oe.FLOAT,[i.R32F]:Oe.FLOAT,[i.RG32F]:Oe.FLOAT,[i.RGB32F]:Oe.FLOAT,[i.RGBA32F]:Oe.FLOAT,[i.R11F_G11F_B10F]:Oe.FLOAT,[i.RGB9_E5]:Oe.FLOAT,[i.R8I]:Oe.INT,[i.R8UI]:Oe.UINT,[i.R16I]:Oe.INT,[i.R16UI]:Oe.UINT,[i.R32I]:Oe.INT,[i.R32UI]:Oe.UINT,[i.RG8I]:Oe.INT,[i.RG8UI]:Oe.UINT,[i.RG16I]:Oe.INT,[i.RG16UI]:Oe.UINT,[i.RG32I]:Oe.INT,[i.RG32UI]:Oe.UINT,[i.RGB8I]:Oe.INT,[i.RGB8UI]:Oe.UINT,[i.RGB16I]:Oe.INT,[i.RGB16UI]:Oe.UINT,[i.RGB32I]:Oe.INT,[i.RGB32UI]:Oe.UINT,[i.RGBA8I]:Oe.INT,[i.RGBA8UI]:Oe.UINT,[i.RGBA16I]:Oe.INT,[i.RGBA16UI]:Oe.UINT,[i.RGBA32I]:Oe.INT,[i.RGBA32UI]:Oe.UINT,[i.DEPTH_COMPONENT16]:Oe.FLOAT,[i.DEPTH_COMPONENT24]:Oe.FLOAT,[i.DEPTH_COMPONENT32F]:Oe.FLOAT,[i.DEPTH_STENCIL]:Oe.FLOAT,[i.DEPTH24_STENCIL8]:Oe.FLOAT,[i.DEPTH32F_STENCIL8]:Oe.FLOAT}:e={[i.RGB]:Oe.FLOAT,[i.RGBA]:Oe.FLOAT,[i.ALPHA]:Oe.FLOAT,[i.LUMINANCE]:Oe.FLOAT,[i.LUMINANCE_ALPHA]:Oe.FLOAT,[i.DEPTH_STENCIL]:Oe.FLOAT},e}function QE(i){let e;return"WebGL2RenderingContext"in globalThis&&i instanceof globalThis.WebGL2RenderingContext?e={[Ke.UNSIGNED_BYTE]:{[Ae.RGBA]:i.RGBA8,[Ae.RGB]:i.RGB8,[Ae.RG]:i.RG8,[Ae.RED]:i.R8,[Ae.RGBA_INTEGER]:i.RGBA8UI,[Ae.RGB_INTEGER]:i.RGB8UI,[Ae.RG_INTEGER]:i.RG8UI,[Ae.RED_INTEGER]:i.R8UI,[Ae.ALPHA]:i.ALPHA,[Ae.LUMINANCE]:i.LUMINANCE,[Ae.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[Ke.BYTE]:{[Ae.RGBA]:i.RGBA8_SNORM,[Ae.RGB]:i.RGB8_SNORM,[Ae.RG]:i.RG8_SNORM,[Ae.RED]:i.R8_SNORM,[Ae.RGBA_INTEGER]:i.RGBA8I,[Ae.RGB_INTEGER]:i.RGB8I,[Ae.RG_INTEGER]:i.RG8I,[Ae.RED_INTEGER]:i.R8I},[Ke.UNSIGNED_SHORT]:{[Ae.RGBA_INTEGER]:i.RGBA16UI,[Ae.RGB_INTEGER]:i.RGB16UI,[Ae.RG_INTEGER]:i.RG16UI,[Ae.RED_INTEGER]:i.R16UI,[Ae.DEPTH_COMPONENT]:i.DEPTH_COMPONENT16},[Ke.SHORT]:{[Ae.RGBA_INTEGER]:i.RGBA16I,[Ae.RGB_INTEGER]:i.RGB16I,[Ae.RG_INTEGER]:i.RG16I,[Ae.RED_INTEGER]:i.R16I},[Ke.UNSIGNED_INT]:{[Ae.RGBA_INTEGER]:i.RGBA32UI,[Ae.RGB_INTEGER]:i.RGB32UI,[Ae.RG_INTEGER]:i.RG32UI,[Ae.RED_INTEGER]:i.R32UI,[Ae.DEPTH_COMPONENT]:i.DEPTH_COMPONENT24},[Ke.INT]:{[Ae.RGBA_INTEGER]:i.RGBA32I,[Ae.RGB_INTEGER]:i.RGB32I,[Ae.RG_INTEGER]:i.RG32I,[Ae.RED_INTEGER]:i.R32I},[Ke.FLOAT]:{[Ae.RGBA]:i.RGBA32F,[Ae.RGB]:i.RGB32F,[Ae.RG]:i.RG32F,[Ae.RED]:i.R32F,[Ae.DEPTH_COMPONENT]:i.DEPTH_COMPONENT32F},[Ke.HALF_FLOAT]:{[Ae.RGBA]:i.RGBA16F,[Ae.RGB]:i.RGB16F,[Ae.RG]:i.RG16F,[Ae.RED]:i.R16F},[Ke.UNSIGNED_SHORT_5_6_5]:{[Ae.RGB]:i.RGB565},[Ke.UNSIGNED_SHORT_4_4_4_4]:{[Ae.RGBA]:i.RGBA4},[Ke.UNSIGNED_SHORT_5_5_5_1]:{[Ae.RGBA]:i.RGB5_A1},[Ke.UNSIGNED_INT_2_10_10_10_REV]:{[Ae.RGBA]:i.RGB10_A2,[Ae.RGBA_INTEGER]:i.RGB10_A2UI},[Ke.UNSIGNED_INT_10F_11F_11F_REV]:{[Ae.RGB]:i.R11F_G11F_B10F},[Ke.UNSIGNED_INT_5_9_9_9_REV]:{[Ae.RGB]:i.RGB9_E5},[Ke.UNSIGNED_INT_24_8]:{[Ae.DEPTH_STENCIL]:i.DEPTH24_STENCIL8},[Ke.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ae.DEPTH_STENCIL]:i.DEPTH32F_STENCIL8}}:e={[Ke.UNSIGNED_BYTE]:{[Ae.RGBA]:i.RGBA,[Ae.RGB]:i.RGB,[Ae.ALPHA]:i.ALPHA,[Ae.LUMINANCE]:i.LUMINANCE,[Ae.LUMINANCE_ALPHA]:i.LUMINANCE_ALPHA},[Ke.UNSIGNED_SHORT_5_6_5]:{[Ae.RGB]:i.RGB},[Ke.UNSIGNED_SHORT_4_4_4_4]:{[Ae.RGBA]:i.RGBA},[Ke.UNSIGNED_SHORT_5_5_5_1]:{[Ae.RGBA]:i.RGBA}},e}class Y_{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new it,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=QE(e),this.samplerTypes=qE(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let a=0;a<t;a++)this.boundTextures[a]=null;this.emptyTextures={};const r=new Sm(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Sm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let a=0;a<6;a++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let a=0;a<this.boundTextures.length;a++)this.bind(null,a)}bind(e,t=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const a=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,a.texture)),a.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):a.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let a=0;a<r.length;a++)r[a]===this.unknownTexture&&this.bind(null,a)}for(let a=0;a<r.length;a++)r[a]===e&&(this.currentLocation!==a&&(t.activeTexture(t.TEXTURE0+a),this.currentLocation=a),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[a]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:a}=this;if(r)for(let o=e-1;o>=0;--o){const c=t[o];c&&c._glTextures[a].samplerType!==Oe.FLOAT&&this.renderer.texture.unbind(c)}}initTexture(e){const t=new Sm(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r;t.internalFormat=((r=this.internalFormats[e.type])==null?void 0:r[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Oe.FLOAT,this.webGLVersion===2&&e.type===Ke.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var a;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const r=this.renderer;if(this.initTextureType(e,t),(a=e.resource)==null?void 0:a.upload(r,e,t))t.samplerType!==Oe.FLOAT&&(this.hasIntegerTextures=!0);else{const o=e.realWidth,c=e.realHeight,d=r.gl;(t.width!==o||t.height!==c||t.dirtyId<0)&&(t.width=o,t.height=c,d.texImage2D(e.target,0,t.internalFormat,o,c,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const a=this.managedTextures.indexOf(e);a!==-1&&Xu(this.managedTextures,a,1)}}updateTextureStyle(e){var r;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===Cs.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=ca.CLAMP:t.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==Cs.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===oa.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const a=this.renderer.context.extensions.anisotropicFiltering;if(a&&e.anisotropicLevel>0&&e.scaleMode===oa.LINEAR){const o=Math.min(e.anisotropicLevel,r.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,a.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===oa.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===oa.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}Y_.extension={type:De.RendererSystem,name:"texture"};Xe.add(Y_);class q_{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,a=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,a)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:a}=this;t&&a.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:a}=this,o=t.createTransformFeedback();e._glTransformFeedbacks[a]=o,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,o);for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];d&&(r.buffer.update(d),d._glBuffers[a].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,c,d._glBuffers[a].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),o}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],a=this.gl;e.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let c=0;c<e.buffers.length;c++){const d=e.buffers[c];if(!d)continue;const p=d._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!t&&o.dispose(d,t))}r&&(t||a.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}q_.extension={type:De.RendererSystem,name:"transformFeedback"};Xe.add(q_);class Zd{constructor(e){this.renderer=e}init(e){this.screen=new at(0,0,e.width,e.height),this.element=e.view||Le.ADAPTER.createCanvas(),this.resolution=e.resolution||Le.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,a=this.element.height/this.resolution;this.screen.width=r,this.screen.height=a,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${a}px`),this.renderer.emit("resize",r,a),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Zd.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Zd.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_view"};Xe.add(Zd);Le.PREFER_ENV=Ol.WEBGL2;Le.STRICT_TEXTURE_CACHE=!1;Le.RENDER_OPTIONS={...Qd.defaultOptions,...qd.defaultOptions,...Zd.defaultOptions,...Kd.defaultOptions};Object.defineProperties(Le,{WRAP_MODE:{get(){return it.defaultOptions.wrapMode},set(i){lt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),it.defaultOptions.wrapMode=i}},SCALE_MODE:{get(){return it.defaultOptions.scaleMode},set(i){lt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),it.defaultOptions.scaleMode=i}},MIPMAP_TEXTURES:{get(){return it.defaultOptions.mipmap},set(i){lt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),it.defaultOptions.mipmap=i}},ANISOTROPIC_LEVEL:{get(){return it.defaultOptions.anisotropicLevel},set(i){lt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),it.defaultOptions.anisotropicLevel=i}},FILTER_RESOLUTION:{get(){return lt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),cn.defaultResolution},set(i){cn.defaultResolution=i}},FILTER_MULTISAMPLE:{get(){return lt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),cn.defaultMultisample},set(i){cn.defaultMultisample=i}},SPRITE_MAX_TEXTURES:{get(){return Rl.defaultMaxTextures},set(i){lt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Rl.defaultMaxTextures=i}},SPRITE_BATCH_SIZE:{get(){return Rl.defaultBatchSize},set(i){lt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Rl.defaultBatchSize=i}},CAN_UPLOAD_SAME_BUFFER:{get(){return Rl.canUploadSameBuffer},set(i){lt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Rl.canUploadSameBuffer=i}},GC_MODE:{get(){return Il.defaultMode},set(i){lt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Il.defaultMode=i}},GC_MAX_IDLE:{get(){return Il.defaultMaxIdle},set(i){lt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Il.defaultMaxIdle=i}},GC_MAX_CHECK_COUNT:{get(){return Il.defaultCheckCountMax},set(i){lt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Il.defaultCheckCountMax=i}},PRECISION_VERTEX:{get(){return ua.defaultVertexPrecision},set(i){lt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),ua.defaultVertexPrecision=i}},PRECISION_FRAGMENT:{get(){return ua.defaultFragmentPrecision},set(i){lt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),ua.defaultFragmentPrecision=i}}});var _o=(i=>(i[i.INTERACTION=50]="INTERACTION",i[i.HIGH=25]="HIGH",i[i.NORMAL=0]="NORMAL",i[i.LOW=-25]="LOW",i[i.UTILITY=-50]="UTILITY",i))(_o||{});class bm{constructor(e,t=null,r=0,a=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=a}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const Q_=class Kn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new bm(null,null,1/0),this.deltaMS=1/Kn.targetFPMS,this.elapsedMS=1/Kn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=_o.NORMAL){return this._addListener(new bm(e,t,r))}addOnce(e,t,r=_o.NORMAL){return this._addListener(new bm(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const o=e-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Kn.targetFPMS;const r=this._head;let a=r.next;for(;a;)a=a.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,Kn.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Kn._shared){const e=Kn._shared=new Kn;e.autoStart=!0,e._protected=!0}return Kn._shared}static get system(){if(!Kn._system){const e=Kn._system=new Kn;e.autoStart=!0,e._protected=!0}return Kn._system}};Q_.targetFPMS=.06;let kr=Q_;Object.defineProperties(Le,{TARGET_FPMS:{get(){return kr.targetFPMS},set(i){lt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),kr.targetFPMS=i}}});class K_{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,_o.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?kr.shared:new kr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}K_.extension=De.Application;Xe.add(K_);const Z_=[];Xe.handleByList(De.Renderer,Z_);function KE(i){for(const e of Z_)if(e.test(i))return new e(i);throw new Error("Unable to auto-detect a suitable renderer.")}var ZE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,JE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const eS=ZE,J_=JE;class ex{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=mr.HIGH?this.multisample=mr.HIGH:t>=mr.MEDIUM?this.multisample=mr.MEDIUM:t>=mr.LOW?this.multisample=mr.LOW:this.multisample=mr.NONE}destroy(){}}ex.extension={type:De.RendererSystem,name:"_multisample"};Xe.add(ex);class tS{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class tx{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,a=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,a.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:a}=this;if(this.boundBufferBases[t]!==e){const o=e._glBuffers[a]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,o.buffer)}}bindBufferRange(e,t,r){const{gl:a,CONTEXT_UID:o}=this;r=r||0;const c=e._glBuffers[o]||this.createGLBuffer(e);a.bindBufferRange(a.UNIFORM_BUFFER,t||0,c.buffer,r*256,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,a=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==a.updateID)if(a.updateID=e._updateID,t.bindBuffer(e.type,a.buffer),a.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const o=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;a.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,o)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],a=this.gl;e.disposeRunner.remove(this),r&&(t||a.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new tS(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}tx.extension={type:De.RendererSystem,name:"buffer"};Xe.add(tx);class rx{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let a,o,c,d;if(t&&(a=t.renderTexture,o=t.clear,c=t.transform,d=t.skipUpdateTransform),this.renderingToScreen=!a,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=c,!r.context.isLost){if(a||(this.lastObjectRendered=e),!d){const p=e.enableTempParent();e.updateTransform(),e.disableTempParent(p)}r.renderTexture.bind(a),r.batch.currentRenderer.start(),(o??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),a&&(t.blit&&r.framebuffer.blit(),a.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}rx.extension={type:De.RendererSystem,name:"objectRenderer"};Xe.add(rx);const zd=class ig extends YE{constructor(e){super(),this.type=a_.WEBGL,e=Object.assign({},Le.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Yi({projectionMatrix:new zt},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:ig.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(lt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=ig.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:bw()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return lt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return lt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return lt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return lt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){lt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return lt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){lt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return lt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};zd.extension={type:De.Renderer,priority:1},zd.__plugins={},zd.__systems={};let Ug=zd;Xe.handleByMap(De.RendererPlugin,Ug.__plugins);Xe.handleByMap(De.RendererSystem,Ug.__systems);Xe.add(Ug);class nx extends yc{constructor(e,t){const{width:r,height:a}=t||{};super(r,a),this.items=[],this.itemDirtyIds=[];for(let o=0;o<e;o++){const c=new it;this.items.push(c),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof yc?this.addResourceAt(e[r],r):this.addResourceAt(E_(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:r}=this.items[0];return this.resize(t,r),this.update(),Promise.resolve(this)}),this._load}}class rS extends nx{constructor(e,t){const{width:r,height:a}=t||{};let o,c;Array.isArray(e)?(o=e,c=e.length):c=e,super(c,{width:r,height:a}),o&&this.initFromArray(o,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=$u.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:a,itemDirtyIds:o,items:c}=this,{gl:d}=e;r.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,a,0,t.format,r.type,null);for(let p=0;p<a;p++){const g=c[p];o[p]<g.dirtyId&&(o[p]=g.dirtyId,g.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,p,g.resource.width,g.resource.height,1,t.format,r.type,g.resource.source))}return!0}}class nS extends fa{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const ix=class uc extends nx{constructor(e,t){const{width:r,height:a,autoLoad:o,linkBaseTexture:c}=t||{};if(e&&e.length!==uc.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:a});for(let d=0;d<uc.SIDES;d++)this.items[d].target=$u.TEXTURE_CUBE_MAP_POSITIVE_X+d;this.linkBaseTexture=c!==!1,e&&this.initFromArray(e,t),o!==!1&&this.load()}bind(e){super.bind(e),e.target=$u.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=$u.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,r){const a=this.itemDirtyIds;for(let o=0;o<uc.SIDES;o++){const c=this.items[o];(a[o]<c.dirtyId||r.dirtyId<t.dirtyId)&&(c.valid&&c.resource?(c.resource.upload(e,c,r),a[o]=c.dirtyId):a[o]<-1&&(e.gl.texImage2D(c.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),a[o]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===uc.SIDES}};ix.SIDES=6;let iS=ix;class Wu extends fa{constructor(e,t){t=t||{};let r,a,o;typeof e=="string"?(r=Wu.EMPTY,a=e,o=!0):(r=e,a=null,o=!1),super(r),this.url=a,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??o,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const r=await Le.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const a=await r.blob();if(this.destroyed)return;const o=await createImageBitmap(a,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===On.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}}),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Wu._EMPTY=Wu._EMPTY??Le.ADAPTER.createCanvas(0,0),Wu._EMPTY}}const sg=class Gd extends fa{constructor(e,t){t=t||{},super(Le.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Gd.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;fa.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let a=t*this.scale,o=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(a=this._overrideWidth||this._overrideHeight/r*t,o=this._overrideHeight||this._overrideWidth/t*r),a=Math.round(a),o=Math.round(o);const c=this.source;c.width=a,c.height=o,c._pixiId=`canvas_${Nl()}`,c.getContext("2d").drawImage(e,0,0,t,r,0,0,a,o),this._resolve(),this._resolve=null}}static getSize(e){const t=Gd.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Gd.SVG_XML.test(e)}};sg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,sg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let ag=sg;class sS extends fa{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const og=class lg extends fa{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const r=document.createElement("video");t.autoLoad!==!1&&r.setAttribute("preload","auto"),t.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),t.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),t.loop===!0&&r.setAttribute("loop",""),t.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const a=e[0].src||e[0];fa.crossOrigin(r,a,t.crossorigin);for(let o=0;o<e.length;++o){const c=document.createElement("source");let{src:d,mime:p}=e[o];if(d=d||e[o],d.startsWith("data:"))p=d.slice(5,d.indexOf(";"));else if(!d.startsWith("blob:")){const g=d.split("?").shift().toLowerCase(),_=g.slice(g.lastIndexOf(".")+1);p=p||lg.MIME_TYPES[_]||`video/${_}`}c.src=d,p&&(c.type=p),r.appendChild(c)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=kr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(kr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(kr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(kr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||lg.TYPES.includes(t)}};og.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],og.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let sx=og;Ym.push(Wu,M_,nS,sx,sS,ag,ff,iS,rS);class Jd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?at.EMPTY:(e=e||new at(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:r,b:a,c:o,d:c,tx:d,ty:p}=e,g=r*t.x+o*t.y+d,_=a*t.x+c*t.y+p;this.minX=Math.min(this.minX,g),this.maxX=Math.max(this.maxX,g),this.minY=Math.min(this.minY,_),this.maxY=Math.max(this.maxY,_)}addQuad(e){let t=this.minX,r=this.minY,a=this.maxX,o=this.maxY,c=e[0],d=e[1];t=c<t?c:t,r=d<r?d:r,a=c>a?c:a,o=d>o?d:o,c=e[2],d=e[3],t=c<t?c:t,r=d<r?d:r,a=c>a?c:a,o=d>o?d:o,c=e[4],d=e[5],t=c<t?c:t,r=d<r?d:r,a=c>a?c:a,o=d>o?d:o,c=e[6],d=e[7],t=c<t?c:t,r=d<r?d:r,a=c>a?c:a,o=d>o?d:o,this.minX=t,this.minY=r,this.maxX=a,this.maxY=o}addFrame(e,t,r,a,o){this.addFrameMatrix(e.worldTransform,t,r,a,o)}addFrameMatrix(e,t,r,a,o){const c=e.a,d=e.b,p=e.c,g=e.d,_=e.tx,w=e.ty;let S=this.minX,b=this.minY,A=this.maxX,M=this.maxY,P=c*t+p*r+_,k=d*t+g*r+w;S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,M=k>M?k:M,P=c*a+p*r+_,k=d*a+g*r+w,S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,M=k>M?k:M,P=c*t+p*o+_,k=d*t+g*o+w,S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,M=k>M?k:M,P=c*a+p*o+_,k=d*a+g*o+w,S=P<S?P:S,b=k<b?k:b,A=P>A?P:A,M=k>M?k:M,this.minX=S,this.minY=b,this.maxX=A,this.maxY=M}addVertexData(e,t,r){let a=this.minX,o=this.minY,c=this.maxX,d=this.maxY;for(let p=t;p<r;p+=2){const g=e[p],_=e[p+1];a=g<a?g:a,o=_<o?_:o,c=g>c?g:c,d=_>d?_:d}this.minX=a,this.minY=o,this.maxX=c,this.maxY=d}addVertices(e,t,r,a){this.addVerticesMatrix(e.worldTransform,t,r,a)}addVerticesMatrix(e,t,r,a,o=0,c=o){const d=e.a,p=e.b,g=e.c,_=e.d,w=e.tx,S=e.ty;let b=this.minX,A=this.minY,M=this.maxX,P=this.maxY;for(let k=r;k<a;k+=2){const z=t[k],O=t[k+1],W=d*z+g*O+w,B=_*O+p*z+S;b=Math.min(b,W-o),M=Math.max(M,W+o),A=Math.min(A,B-c),P=Math.max(P,B+c)}this.minX=b,this.minY=A,this.maxX=M,this.maxY=P}addBounds(e){const t=this.minX,r=this.minY,a=this.maxX,o=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>a?e.maxX:a,this.maxY=e.maxY>o?e.maxY:o}addBoundsMask(e,t){const r=e.minX>t.minX?e.minX:t.minX,a=e.minY>t.minY?e.minY:t.minY,o=e.maxX<t.maxX?e.maxX:t.maxX,c=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=o&&a<=c){const d=this.minX,p=this.minY,g=this.maxX,_=this.maxY;this.minX=r<d?r:d,this.minY=a<p?a:p,this.maxX=o>g?o:g,this.maxY=c>_?c:_}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const r=e.minX>t.x?e.minX:t.x,a=e.minY>t.y?e.minY:t.y,o=e.maxX<t.x+t.width?e.maxX:t.x+t.width,c=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=o&&a<=c){const d=this.minX,p=this.minY,g=this.maxX,_=this.maxY;this.minX=r<d?r:d,this.minY=a<p?a:p,this.maxX=o>g?o:g,this.maxY=c>_?c:_}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,a,o,c){e-=o,t-=c,r+=o,a+=c,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>a?this.maxY:a}}class Vt extends Ec{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new yf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Jd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let r=0;r<t.length;++r){const a=t[r];Object.defineProperty(Vt.prototype,a,Object.getOwnPropertyDescriptor(e,a))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new at),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new at),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Jd);const t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(r==null?void 0:r.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const c=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=a,this._bounds.updateID+=this._boundsID-o,c}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,a){return t&&(e=t.toGlobal(e,r,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,r=1,a=1,o=0,c=0,d=0,p=0,g=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=a||1,this.rotation=o,this.skew.x=c,this.skew.y=d,this.pivot.x=p,this.pivot.y=g,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new aS),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Zw}set angle(e){this.transform.rotation=e*Jw}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class aS extends Vt{constructor(){super(...arguments),this.sortDirty=null}}Vt.prototype.displayObjectUpdateTransform=Vt.prototype.updateTransform;const oS=new zt;function lS(i,e){return i.zIndex===e.zIndex?i._lastSortedIndex-e._lastSortedIndex:i.zIndex-e.zIndex}const ax=class ug extends Vt{constructor(){super(),this.children=[],this.sortableChildren=ug.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),a=this.getChildIndex(t);this.children[r]=t,this.children[a]=e,this.onChildrenChange(r<a?r:a)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);Xu(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(r===-1)return null;t.parent=null,t.transform._parentID=-1,Xu(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Xu(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,a=t,o=a-r;let c;if(o>0&&o<=a){c=this.children.splice(r,o);for(let d=0;d<c.length;++d)c[d].parent=null,c[d].transform&&(c[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let d=0;d<c.length;++d)c[d].emit("removed",this),this.emit("childRemoved",c[d],this,d);return c}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const a=this.children[t];a._lastSortedIndex=t,!e&&a.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(lS),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let a=0,o=this.children.length;a<o;++a){const c=this.children[a];c.visible&&c.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let r,a;this.cullArea?(r=this.cullArea,a=this.worldTransform):this._render!==ug.prototype._render&&(r=this.getBounds(!0));const o=e.projection.transform;if(o&&(a?(a=oS.copyFrom(a),a.prepend(o)):a=o),r&&t.intersects(r,a))this._render(e);else if(this.cullArea)return;for(let c=0,d=this.children.length;c<d;++c){const p=this.children[c],g=p.cullable;p.cullable=g||!this.cullArea,p.render(e),p.cullable=g}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let r=0,a=this.children.length;r<a;++r)this.children[r].render(e)}}renderAdvanced(e){var o,c,d;const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let p=0;p<t.length;p++)t[p].enabled&&this._enabledFilters.push(t[p])}const a=t&&((o=this._enabledFilters)==null?void 0:o.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Er.NONE));if(a&&e.batch.flush(),t&&((c=this._enabledFilters)!=null&&c.length)&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let p=0,g=this.children.length;p<g;++p)this.children[p].render(e)}a&&e.batch.flush(),r&&e.mask.pop(this),t&&((d=this._enabledFilters)!=null&&d.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(let a=0;a<r.length;++a)r[a].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};ax.defaultSortableChildren=!1;let dn=ax;dn.prototype.containerUpdateTransform=dn.prototype.updateTransform;Object.defineProperties(Le,{SORTABLE_CHILDREN:{get(){return dn.defaultSortableChildren},set(i){lt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),dn.defaultSortableChildren=i}}});var _f=(i=>(i[i.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",i[i.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",i))(_f||{});const nc=new dt,uS=new Uint16Array([0,1,2,0,2,3]);class Ms extends dn{constructor(e){super(),this._anchor=new bs(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new bt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=et.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ke.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=uS,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Le.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=mo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=mo(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,r=t.a,a=t.b,o=t.c,c=t.d,d=t.tx,p=t.ty,g=this.vertexData,_=e.trim,w=e.orig,S=this._anchor;let b=0,A=0,M=0,P=0;if(_?(A=_.x-S._x*w.width,b=A+_.width,P=_.y-S._y*w.height,M=P+_.height):(A=-S._x*w.width,b=A+w.width,P=-S._y*w.height,M=P+w.height),g[0]=r*A+o*P+d,g[1]=c*P+a*A+p,g[2]=r*b+o*P+d,g[3]=c*P+a*b+p,g[4]=r*b+o*M+d,g[5]=c*M+a*b+p,g[6]=r*A+o*M+d,g[7]=c*M+a*A+p,this._roundPixels){const k=Le.RESOLUTION;for(let z=0;z<g.length;++z)g[z]=Math.round(g[z]*k)/k}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,r=e.orig,a=this._anchor,o=this.transform.worldTransform,c=o.a,d=o.b,p=o.c,g=o.d,_=o.tx,w=o.ty,S=-a._x*r.width,b=S+r.width,A=-a._y*r.height,M=A+r.height;if(t[0]=c*S+p*A+_,t[1]=g*A+d*S+w,t[2]=c*b+p*A+_,t[3]=g*A+d*b+w,t[4]=c*b+p*M+_,t[5]=g*M+d*b+w,t[6]=c*S+p*M+_,t[7]=g*M+d*S+w,this._roundPixels){const P=Le.RESOLUTION;for(let k=0;k<t.length;++k)t[k]=Math.round(t[k]*P)/P}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Jd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new at),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,nc);const t=this._texture.orig.width,r=this._texture.orig.height,a=-t*this.anchor.x;let o=0;return nc.x>=a&&nc.x<a+t&&(o=-r*this.anchor.y,nc.y>=o&&nc.y<o+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const r=e instanceof ke?e:ke.from(e,t);return new Ms(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=mo(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=mo(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ke.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Sd={willReadFrequently:!0},xs=class qe{static get experimentalLetterSpacingSupported(){let e=qe._experimentalLetterSpacingSupported;if(e!==void 0){const t=Le.ADAPTER.getCanvasRenderingContext2D().prototype;e=qe._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,a,o,c,d,p,g){this.text=e,this.style=t,this.width=r,this.height=a,this.lines=o,this.lineWidths=c,this.lineHeight=d,this.maxLineWidth=p,this.fontProperties=g}static measureText(e,t,r,a=qe._canvas){r=r??t.wordWrap;const o=t.toFontString(),c=qe.measureFont(o);c.fontSize===0&&(c.fontSize=t.fontSize,c.ascent=t.fontSize);const d=a.getContext("2d",Sd);d.font=o;const p=(r?qe.wordWrap(e,t,a):e).split(/(?:\r\n|\r|\n)/),g=new Array(p.length);let _=0;for(let A=0;A<p.length;A++){const M=qe._measureText(p[A],t.letterSpacing,d);g[A]=M,_=Math.max(_,M)}let w=_+t.strokeThickness;t.dropShadow&&(w+=t.dropShadowDistance);const S=t.lineHeight||c.fontSize+t.strokeThickness;let b=Math.max(S,c.fontSize+t.strokeThickness*2)+t.leading+(p.length-1)*(S+t.leading);return t.dropShadow&&(b+=t.dropShadowDistance),new qe(e,t,w,b,p,g,S+t.leading,_,c)}static _measureText(e,t,r){let a=!1;qe.experimentalLetterSpacingSupported&&(qe.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,a=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let o=r.measureText(e).width;return o>0&&(a?o-=t:o+=(qe.graphemeSegmenter(e).length-1)*t),o}static wordWrap(e,t,r=qe._canvas){const a=r.getContext("2d",Sd);let o=0,c="",d="";const p=Object.create(null),{letterSpacing:g,whiteSpace:_}=t,w=qe.collapseSpaces(_),S=qe.collapseNewlines(_);let b=!w;const A=t.wordWrapWidth+g,M=qe.tokenize(e);for(let P=0;P<M.length;P++){let k=M[P];if(qe.isNewline(k)){if(!S){d+=qe.addLine(c),b=!w,c="",o=0;continue}k=" "}if(w){const O=qe.isBreakingSpace(k),W=qe.isBreakingSpace(c[c.length-1]);if(O&&W)continue}const z=qe.getFromCache(k,g,p,a);if(z>A)if(c!==""&&(d+=qe.addLine(c),c="",o=0),qe.canBreakWords(k,t.breakWords)){const O=qe.wordWrapSplit(k);for(let W=0;W<O.length;W++){let B=O[W],K=B,N=1;for(;O[W+N];){const ce=O[W+N];if(!qe.canBreakChars(K,ce,k,W,t.breakWords))B+=ce;else break;K=ce,N++}W+=N-1;const J=qe.getFromCache(B,g,p,a);J+o>A&&(d+=qe.addLine(c),b=!1,c="",o=0),c+=B,o+=J}}else{c.length>0&&(d+=qe.addLine(c),c="",o=0);const O=P===M.length-1;d+=qe.addLine(k,!O),b=!1,c="",o=0}else z+o>A&&(b=!1,d+=qe.addLine(c),c="",o=0),(c.length>0||!qe.isBreakingSpace(k)||b)&&(c+=k,o+=z)}return d+=qe.addLine(c,!1),d}static addLine(e,t=!0){return e=qe.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,r,a){let o=r[e];return typeof o!="number"&&(o=qe._measureText(e,t,a)+t,r[e]=o),o}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!qe.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:qe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:qe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let a=0;a<e.length;a++){const o=e[a],c=e[a+1];if(qe.isBreakingSpace(o,c)||qe.isNewline(o)){r!==""&&(t.push(r),r=""),t.push(o);continue}r+=o}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,a,o){return!0}static wordWrapSplit(e){return qe.graphemeSegmenter(e)}static measureFont(e){if(qe._fonts[e])return qe._fonts[e];const t={ascent:0,descent:0,fontSize:0},r=qe._canvas,a=qe._context;a.font=e;const o=qe.METRICS_STRING+qe.BASELINE_SYMBOL,c=Math.ceil(a.measureText(o).width);let d=Math.ceil(a.measureText(qe.BASELINE_SYMBOL).width);const p=Math.ceil(qe.HEIGHT_MULTIPLIER*d);if(d=d*qe.BASELINE_MULTIPLIER|0,c===0||p===0)return qe._fonts[e]=t,t;r.width=c,r.height=p,a.fillStyle="#f00",a.fillRect(0,0,c,p),a.font=e,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(o,0,d);const g=a.getImageData(0,0,c,p).data,_=g.length,w=c*4;let S=0,b=0,A=!1;for(S=0;S<d;++S){for(let M=0;M<w;M+=4)if(g[b+M]!==255){A=!0;break}if(!A)b+=w;else break}for(t.ascent=d-S,b=_-w,A=!1,S=p;S>d;--S){for(let M=0;M<w;M+=4)if(g[b+M]!==255){A=!0;break}if(!A)b-=w;else break}return t.descent=S-d,t.fontSize=t.ascent+t.descent,qe._fonts[e]=t,t}static clearMetrics(e=""){e?delete qe._fonts[e]:qe._fonts={}}static get _canvas(){var e;if(!qe.__canvas){let t;try{const r=new OffscreenCanvas(0,0);if((e=r.getContext("2d",Sd))!=null&&e.measureText)return qe.__canvas=r,r;t=Le.ADAPTER.createCanvas()}catch{t=Le.ADAPTER.createCanvas()}t.width=t.height=10,qe.__canvas=t}return qe.__canvas}static get _context(){return qe.__context||(qe.__context=qe._canvas.getContext("2d",Sd)),qe.__context}};xs.METRICS_STRING="|ÉqÅ",xs.BASELINE_SYMBOL="M",xs.BASELINE_MULTIPLIER=1.4,xs.HEIGHT_MULTIPLIER=2,xs.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const i=new Intl.Segmenter;return e=>[...i.segment(e)].map(t=>t.segment)}return i=>[...i]})(),xs.experimentalLetterSpacing=!1,xs._fonts={},xs._newlines=[10,13],xs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let fo=xs;const hS=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ox=class hc{constructor(e){this.styleID=0,this.reset(),Am(this,e,e)}clone(){const e={};return Am(e,this,hc.defaultStyle),new hc(e)}reset(){Am(this,hc.defaultStyle,hc.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=Tm(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=Tm(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){cS(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=Tm(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let a=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(a)&&!hS.includes(a)&&(a=`"${a}"`),t[r]=a}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};ox.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:_f.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let xo=ox;function Tm(i){const e=bt.shared,t=r=>{const a=e.setValue(r);return a.alpha===1?a.toHex():a.toRgbaString()};return Array.isArray(i)?i.map(t):t(i)}function cS(i,e){if(!Array.isArray(i)||!Array.isArray(e)||i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(i[t]!==e[t])return!1;return!0}function Am(i,e,t){for(const r in t)Array.isArray(e[r])?i[r]=e[r].slice():i[r]=e[r]}const dS={texture:!0,children:!1,baseTexture:!0},lx=class hg extends Ms{constructor(e,t,r){let a=!1;r||(r=Le.ADAPTER.createCanvas(),a=!0),r.width=3,r.height=3;const o=ke.from(r);o.orig=new at,o.trim=new at,super(o),this._ownCanvas=a,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=hg.defaultResolution??Le.RESOLUTION,this._autoResolution=hg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return fo.experimentalLetterSpacing}static set experimentalLetterSpacing(e){lt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),fo.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,a=fo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,c=a.height,d=a.lines,p=a.lineHeight,g=a.lineWidths,_=a.maxLineWidth,w=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,c)+t.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;let S,b;const A=t.dropShadow?2:1;for(let M=0;M<A;++M){const P=t.dropShadow&&M===0,k=P?Math.ceil(Math.max(1,c)+t.padding*2):0,z=k*this._resolution;if(P){r.fillStyle="black",r.strokeStyle="black";const W=t.dropShadowColor,B=t.dropShadowBlur*this._resolution,K=t.dropShadowDistance*this._resolution;r.shadowColor=bt.shared.setValue(W).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=B,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*K,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*K+z}else r.fillStyle=this._generateFillStyle(t,d,a),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let O=(p-w.fontSize)/2;p-w.fontSize<0&&(O=0);for(let W=0;W<d.length;W++)S=t.strokeThickness/2,b=t.strokeThickness/2+W*p+w.ascent+O,t.align==="right"?S+=_-g[W]:t.align==="center"&&(S+=(_-g[W])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[W],S+t.padding,b+t.padding-k,!0),t.fill&&this.drawLetterSpacing(d[W],S+t.padding,b+t.padding-k)}this.updateTexture()}drawLetterSpacing(e,t,r,a=!1){const o=this._style.letterSpacing;let c=!1;if(fo.experimentalLetterSpacingSupported&&(fo.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,c=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||c){a?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let d=t;const p=fo.graphemeSegmenter(e);let g=this.context.measureText(e).width,_=0;for(let w=0;w<p.length;++w){const S=p[w];a?this.context.strokeText(S,d,r):this.context.fillText(S,d,r);let b="";for(let A=w+1;A<p.length;++A)b+=p[A];_=this.context.measureText(b).width,d+=g-_+o,g=_}}updateTexture(){const e=this.canvas;if(this._style.trim){const c=Gw(e);c.data&&(e.width=c.width,e.height=c.height,this.context.putImageData(c.data,0,0))}const t=this._texture,r=this._style,a=r.trim?0:r.padding,o=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-a,t.trim.y=-a,t.orig.width=t._frame.width-a*2,t.orig.height=t._frame.height-a*2,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const a=e.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let o;const c=e.dropShadow?e.dropShadowDistance:0,d=e.padding||0,p=this.canvas.width/this._resolution-c-d*2,g=this.canvas.height/this._resolution-c-d*2,_=a.slice(),w=e.fillGradientStops.slice();if(!w.length){const S=_.length+1;for(let b=1;b<S;++b)w.push(b/S)}if(_.unshift(a[0]),w.unshift(0),_.push(a[a.length-1]),w.push(1),e.fillGradientType===_f.LINEAR_VERTICAL){o=this.context.createLinearGradient(p/2,d,p/2,g+d);const S=r.fontProperties.fontSize+e.strokeThickness;for(let b=0;b<t.length;b++){const A=r.lineHeight*(b-1)+S,M=r.lineHeight*b;let P=M;b>0&&A>M&&(P=(M+A)/2);const k=M+S,z=r.lineHeight*(b+1);let O=k;b+1<t.length&&z<k&&(O=(k+z)/2);const W=(O-P)/g;for(let B=0;B<_.length;B++){let K=0;typeof w[B]=="number"?K=w[B]:K=B/_.length;let N=Math.min(1,Math.max(0,P/g+K*W));N=Number(N.toFixed(5)),o.addColorStop(N,_[B])}}}else{o=this.context.createLinearGradient(d,g/2,p+d,g/2);const S=_.length+1;let b=1;for(let A=0;A<_.length;A++){let M;typeof w[A]=="number"?M=w[A]:M=b/S,o.addColorStop(M,_[A]),b++}}return o}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},dS,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=mo(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=mo(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof xo?this._style=e:this._style=new xo(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};lx.defaultAutoResolution=!0;let zg=lx;class ef{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Hd{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in t){const c=t[o].match(/^[a-z]+/gm)[0],d=t[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const g in d){const _=d[g].split("="),w=_[0],S=_[1].replace(/"/gm,""),b=parseFloat(S),A=isNaN(b)?S:b;p[w]=A}r[c].push(p)}const a=new ef;return r.info.forEach(o=>a.info.push({face:o.face,size:parseInt(o.size,10)})),r.common.forEach(o=>a.common.push({lineHeight:parseInt(o.lineHeight,10)})),r.page.forEach(o=>a.page.push({id:parseInt(o.id,10),file:o.file})),r.char.forEach(o=>a.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),r.kerning.forEach(o=>a.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),r.distanceField.forEach(o=>a.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),a}}class cg{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new ef,r=e.getElementsByTagName("info"),a=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),c=e.getElementsByTagName("char"),d=e.getElementsByTagName("kerning"),p=e.getElementsByTagName("distanceField");for(let g=0;g<r.length;g++)t.info.push({face:r[g].getAttribute("face"),size:parseInt(r[g].getAttribute("size"),10)});for(let g=0;g<a.length;g++)t.common.push({lineHeight:parseInt(a[g].getAttribute("lineHeight"),10)});for(let g=0;g<o.length;g++)t.page.push({id:parseInt(o[g].getAttribute("id"),10)||0,file:o[g].getAttribute("file")});for(let g=0;g<c.length;g++){const _=c[g];t.char.push({id:parseInt(_.getAttribute("id"),10),page:parseInt(_.getAttribute("page"),10)||0,x:parseInt(_.getAttribute("x"),10),y:parseInt(_.getAttribute("y"),10),width:parseInt(_.getAttribute("width"),10),height:parseInt(_.getAttribute("height"),10),xoffset:parseInt(_.getAttribute("xoffset"),10),yoffset:parseInt(_.getAttribute("yoffset"),10),xadvance:parseInt(_.getAttribute("xadvance"),10)})}for(let g=0;g<d.length;g++)t.kerning.push({first:parseInt(d[g].getAttribute("first"),10),second:parseInt(d[g].getAttribute("second"),10),amount:parseInt(d[g].getAttribute("amount"),10)});for(let g=0;g<p.length;g++)t.distanceField.push({fieldType:p[g].getAttribute("fieldType"),distanceRange:parseInt(p[g].getAttribute("distanceRange"),10)});return t}}class dg{static test(e){return typeof e=="string"&&e.includes("<font>")?cg.test(Le.ADAPTER.parseXML(e)):!1}static parse(e){return cg.parse(Le.ADAPTER.parseXML(e))}}const Cm=[Hd,cg,dg];function fS(i){for(let e=0;e<Cm.length;e++)if(Cm[e].test(i))return Cm[e];return null}function pS(i,e,t,r,a,o){const c=t.fill;if(Array.isArray(c)){if(c.length===1)return c[0]}else return c;let d;const p=t.dropShadow?t.dropShadowDistance:0,g=t.padding||0,_=i.width/r-p-g*2,w=i.height/r-p-g*2,S=c.slice(),b=t.fillGradientStops.slice();if(!b.length){const A=S.length+1;for(let M=1;M<A;++M)b.push(M/A)}if(S.unshift(c[0]),b.unshift(0),S.push(c[c.length-1]),b.push(1),t.fillGradientType===_f.LINEAR_VERTICAL){d=e.createLinearGradient(_/2,g,_/2,w+g);let A=0;const M=(o.fontProperties.fontSize+t.strokeThickness)/w;for(let P=0;P<a.length;P++){const k=o.lineHeight*P;for(let z=0;z<S.length;z++){let O=0;typeof b[z]=="number"?O=b[z]:O=z/S.length;const W=k/w+O*M;let B=Math.max(A,W);B=Math.min(B,1),d.addColorStop(B,S[z]),A=B}}}else{d=e.createLinearGradient(g,w/2,_+g,w/2);const A=S.length+1;let M=1;for(let P=0;P<S.length;P++){let k;typeof b[P]=="number"?k=b[P]:k=M/A,d.addColorStop(k,S[P]),M++}}return d}function mS(i,e,t,r,a,o,c){const d=t.text,p=t.fontProperties;e.translate(r,a),e.scale(o,o);const g=c.strokeThickness/2,_=-(c.strokeThickness/2);if(e.font=c.toFontString(),e.lineWidth=c.strokeThickness,e.textBaseline=c.textBaseline,e.lineJoin=c.lineJoin,e.miterLimit=c.miterLimit,e.fillStyle=pS(i,e,c,o,[d],t),e.strokeStyle=c.stroke,c.dropShadow){const w=c.dropShadowColor,S=c.dropShadowBlur*o,b=c.dropShadowDistance*o;e.shadowColor=bt.shared.setValue(w).setAlpha(c.dropShadowAlpha).toRgbaString(),e.shadowBlur=S,e.shadowOffsetX=Math.cos(c.dropShadowAngle)*b,e.shadowOffsetY=Math.sin(c.dropShadowAngle)*b}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;c.stroke&&c.strokeThickness&&e.strokeText(d,g,_+t.lineHeight-p.descent),c.fill&&e.fillText(d,g,_+t.lineHeight-p.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function jd(i){return i.codePointAt?i.codePointAt(0):i.charCodeAt(0)}function ux(i){return Array.from?Array.from(i):i.split("")}function gS(i){typeof i=="string"&&(i=[i]);const e=[];for(let t=0,r=i.length;t<r;t++){const a=i[t];if(Array.isArray(a)){if(a.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${a.length}.`);const o=a[0].charCodeAt(0),c=a[1].charCodeAt(0);if(c<o)throw new Error("[BitmapFont]: Invalid character range.");for(let d=o,p=c;d<=p;d++)e.push(String.fromCharCode(d))}else e.push(...ux(a))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const ho=class ws{constructor(e,t,r){var _;const[a]=e.info,[o]=e.common,[c]=e.page,[d]=e.distanceField,p=da(c.file),g={};this._ownsTextures=r,this.font=a.face,this.size=a.size,this.lineHeight=o.lineHeight/p,this.chars={},this.pageTextures=g;for(let w=0;w<e.page.length;w++){const{id:S,file:b}=e.page[w];g[S]=t instanceof Array?t[w]:t[b],d!=null&&d.fieldType&&d.fieldType!=="none"&&(g[S].baseTexture.alphaMode=On.NO_PREMULTIPLIED_ALPHA,g[S].baseTexture.mipmap=Cs.OFF)}for(let w=0;w<e.char.length;w++){const{id:S,page:b}=e.char[w];let{x:A,y:M,width:P,height:k,xoffset:z,yoffset:O,xadvance:W}=e.char[w];A/=p,M/=p,P/=p,k/=p,z/=p,O/=p,W/=p;const B=new at(A+g[b].frame.x/p,M+g[b].frame.y/p,P,k);this.chars[S]={xOffset:z,yOffset:O,xAdvance:W,kerning:{},texture:new ke(g[b].baseTexture,B),page:b}}for(let w=0;w<e.kerning.length;w++){let{first:S,second:b,amount:A}=e.kerning[w];S/=p,b/=p,A/=p,this.chars[b]&&(this.chars[b].kerning[S]=A)}this.distanceFieldRange=d==null?void 0:d.distanceRange,this.distanceFieldType=((_=d==null?void 0:d.fieldType)==null?void 0:_.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,r){let a;if(e instanceof ef)a=e;else{const c=fS(e);if(!c)throw new Error("Unrecognized data format for font.");a=c.parse(e)}t instanceof ke&&(t=[t]);const o=new ws(a,t,r);return ws.available[o.font]=o,o}static uninstall(e){const t=ws.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete ws.available[e]}static from(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:a,padding:o,resolution:c,textureWidth:d,textureHeight:p,...g}=Object.assign({},ws.defaultOptions,r),_=gS(a),w=t instanceof xo?t:new xo(t),S=d,b=new ef;b.info[0]={face:w.fontFamily,size:w.fontSize},b.common[0]={lineHeight:w.fontSize};let A=0,M=0,P,k,z,O=0;const W=[];for(let K=0;K<_.length;K++){P||(P=Le.ADAPTER.createCanvas(),P.width=d,P.height=p,k=P.getContext("2d"),z=new it(P,{resolution:c,...g}),W.push(new ke(z)),b.page.push({id:W.length-1,file:""}));const N=_[K],J=fo.measureText(N,w,!1,P),ce=J.width,fe=Math.ceil(J.height),Pe=Math.ceil((w.fontStyle==="italic"?2:1)*ce);if(M>=p-fe*c){if(M===0)throw new Error(`[BitmapFont] textureHeight ${p}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${N}')`);--K,P=null,k=null,z=null,M=0,A=0,O=0;continue}if(O=Math.max(fe+J.fontProperties.descent,O),Pe*c+A>=S){if(A===0)throw new Error(`[BitmapFont] textureWidth ${d}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${N}')`);--K,M+=O*c,M=Math.ceil(M),A=0,O=0;continue}mS(P,k,J,A,M,c,w);const Q=jd(J.text);b.char.push({id:Q,page:W.length-1,x:A/c,y:M/c,width:Pe,height:fe,xoffset:0,yoffset:0,xadvance:ce-(w.dropShadow?w.dropShadowDistance:0)-(w.stroke?w.strokeThickness:0)}),A+=(Pe+2*o)*c,A=Math.ceil(A)}if(!(r!=null&&r.skipKerning))for(let K=0,N=_.length;K<N;K++){const J=_[K];for(let ce=0;ce<N;ce++){const fe=_[ce],Pe=k.measureText(J).width,Q=k.measureText(fe).width,Z=k.measureText(J+fe).width-(Pe+Q);Z&&b.kerning.push({first:jd(J),second:jd(fe),amount:Z})}}const B=new ws(b,W,!0);return ws.available[e]!==void 0&&ws.uninstall(e),ws.available[e]=B,B}};ho.ALPHA=[["a","z"],["A","Z"]," "],ho.NUMERIC=[["0","9"]],ho.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],ho.ASCII=[[" ","~"]],ho.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:ho.ALPHANUMERIC},ho.available={};let aa=ho;class yS{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const Pm=new dt,m0=new kl,hx=class cx extends dn{constructor(e,t,r,a=Vi.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||Is.for2d(),this.drawMode=a,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Le.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Vi.TRIANGLES&&t.length<cx.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const a=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[a]),e.plugins[a].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const a=this.transform.worldTransform,o=a.a,c=a.b,d=a.c,p=a.d,g=a.tx,_=a.ty,w=this.vertexData;for(let S=0;S<w.length/2;S++){const b=t[S*2],A=t[S*2+1];w[S*2]=o*b+d*A+g,w[S*2+1]=c*b+p*A+_}if(this._roundPixels){const S=Le.RESOLUTION;for(let b=0;b<w.length;++b)w[b]=Math.round(w[b]*S)/S}this.vertexDirty=r}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new yS(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Pm);const t=this.geometry.getBuffer("aVertexPosition").data,r=m0.points,a=this.geometry.getIndex().data,o=a.length,c=this.drawMode===4?3:1;for(let d=0;d+2<o;d+=c){const p=a[d]*2,g=a[d+1]*2,_=a[d+2]*2;if(r[0]=t[p],r[1]=t[p+1],r[2]=t[g],r[3]=t[g+1],r[4]=t[_],r[5]=t[_+1],m0.contains(Pm.x,Pm.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};hx.BATCHABLE_SIZE=100;let vc=hx;class xf extends vo{constructor(e,t,r){super();const a=new hr(e),o=new hr(t,!0),c=new hr(r,!0,!0);this.addAttribute("aVertexPosition",a,2,!1,Ke.FLOAT).addAttribute("aTextureCoord",o,2,!1,Ke.FLOAT).addIndex(c),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var vS=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,_S=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class _c extends As{constructor(e,t){const r={uSampler:e,alpha:1,uTextureMatrix:zt.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||ua.from(_S,vS),r),this._colorDirty=!1,this.uvMatrix=new Bg(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new bt(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;bt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var xS=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,wS=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const g0=[],y0=[],v0=[],dx=class fx extends dn{constructor(e,t={}){super();const{align:r,tint:a,maxWidth:o,letterSpacing:c,fontName:d,fontSize:p}=Object.assign({},fx.styleDefaults,t);if(!aa.available[d])throw new Error(`Missing BitmapFont "${d}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new bt(a),this._font=void 0,this._fontName=d,this._fontSize=p,this.text=e,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=c,this._anchor=new bs(()=>{this.dirty=!0},this,0,0),this._roundPixels=Le.ROUND_PIXELS,this.dirty=!0,this._resolution=Le.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Pe;const e=aa.available[this._fontName],t=this.fontSize,r=t/e.size,a=new dt,o=[],c=[],d=[],p=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",g=ux(p),_=this._maxWidth*e.size/t,w=e.distanceFieldType==="none"?g0:y0;let S=null,b=0,A=0,M=0,P=-1,k=0,z=0,O=0,W=0;for(let Q=0;Q<g.length;Q++){const Z=g[Q],le=jd(Z);if(/(?:\s)/.test(Z)&&(P=Q,k=b,W++),Z==="\r"||Z===`
`){c.push(b),d.push(-1),A=Math.max(A,b),++M,++z,a.x=0,a.y+=e.lineHeight,S=null,W=0;continue}const Te=e.chars[le];if(!Te)continue;S&&Te.kerning[S]&&(a.x+=Te.kerning[S]);const L=v0.pop()||{texture:ke.EMPTY,line:0,charCode:0,prevSpaces:0,position:new dt};L.texture=Te.texture,L.line=M,L.charCode=le,L.position.x=Math.round(a.x+Te.xOffset+this._letterSpacing/2),L.position.y=Math.round(a.y+Te.yOffset),L.prevSpaces=W,o.push(L),b=L.position.x+Math.max(Te.xAdvance-Te.xOffset,Te.texture.orig.width),a.x+=Te.xAdvance+this._letterSpacing,O=Math.max(O,Te.yOffset+Te.texture.height),S=le,P!==-1&&_>0&&a.x>_&&(++z,Xu(o,1+P-z,1+Q-P),Q=P,P=-1,c.push(k),d.push(o.length>0?o[o.length-1].prevSpaces:0),A=Math.max(A,k),M++,a.x=0,a.y+=e.lineHeight,S=null,W=0)}const B=g[g.length-1];B!=="\r"&&B!==`
`&&(/(?:\s)/.test(B)&&(b=k),c.push(b),A=Math.max(A,b),d.push(-1));const K=[];for(let Q=0;Q<=M;Q++){let Z=0;this._align==="right"?Z=A-c[Q]:this._align==="center"?Z=(A-c[Q])/2:this._align==="justify"&&(Z=d[Q]<0?0:(A-c[Q])/d[Q]),K.push(Z)}const N=o.length,J={},ce=[],fe=this._activePagesMeshData;w.push(...fe);for(let Q=0;Q<N;Q++){const Z=o[Q].texture,le=Z.baseTexture.uid;if(!J[le]){let Te=w.pop();if(!Te){const G=new xf;let C,H;e.distanceFieldType==="none"?(C=new _c(ke.EMPTY),H=et.NORMAL):(C=new _c(ke.EMPTY,{program:ua.from(wS,xS),uniforms:{uFWidth:0}}),H=et.NORMAL_NPM);const D=new vc(G,C);D.blendMode=H,Te={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}Te.index=0,Te.indexCount=0,Te.vertexCount=0,Te.uvsCount=0,Te.total=0;const{_textureCache:L}=this;L[le]=L[le]||new ke(Z.baseTexture),Te.mesh.texture=L[le],Te.mesh.tint=this._tintColor.value,ce.push(Te),J[le]=Te}J[le].total++}for(let Q=0;Q<fe.length;Q++)ce.includes(fe[Q])||this.removeChild(fe[Q].mesh);for(let Q=0;Q<ce.length;Q++)ce[Q].mesh.parent!==this&&this.addChild(ce[Q].mesh);this._activePagesMeshData=ce;for(const Q in J){const Z=J[Q],le=Z.total;if(!(((Pe=Z.indices)==null?void 0:Pe.length)>6*le)||Z.vertices.length<vc.BATCHABLE_SIZE*2)Z.vertices=new Float32Array(8*le),Z.uvs=new Float32Array(8*le),Z.indices=new Uint16Array(6*le);else{const Te=Z.total,L=Z.vertices;for(let G=Te*4*2;G<L.length;G++)L[G]=0}Z.mesh.size=6*le}for(let Q=0;Q<N;Q++){const Z=o[Q];let le=Z.position.x+K[Z.line]*(this._align==="justify"?Z.prevSpaces:1);this._roundPixels&&(le=Math.round(le));const Te=le*r,L=Z.position.y*r,G=Z.texture,C=J[G.baseTexture.uid],H=G.frame,D=G._uvs,R=C.index++;C.indices[R*6+0]=0+R*4,C.indices[R*6+1]=1+R*4,C.indices[R*6+2]=2+R*4,C.indices[R*6+3]=0+R*4,C.indices[R*6+4]=2+R*4,C.indices[R*6+5]=3+R*4,C.vertices[R*8+0]=Te,C.vertices[R*8+1]=L,C.vertices[R*8+2]=Te+H.width*r,C.vertices[R*8+3]=L,C.vertices[R*8+4]=Te+H.width*r,C.vertices[R*8+5]=L+H.height*r,C.vertices[R*8+6]=Te,C.vertices[R*8+7]=L+H.height*r,C.uvs[R*8+0]=D.x0,C.uvs[R*8+1]=D.y0,C.uvs[R*8+2]=D.x1,C.uvs[R*8+3]=D.y1,C.uvs[R*8+4]=D.x2,C.uvs[R*8+5]=D.y2,C.uvs[R*8+6]=D.x3,C.uvs[R*8+7]=D.y3}this._textWidth=A*r,this._textHeight=(a.y+e.lineHeight)*r;for(const Q in J){const Z=J[Q];if(this.anchor.x!==0||this.anchor.y!==0){let G=0;const C=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let D=0;D<Z.total;D++)Z.vertices[G++]-=C,Z.vertices[G++]-=H,Z.vertices[G++]-=C,Z.vertices[G++]-=H,Z.vertices[G++]-=C,Z.vertices[G++]-=H,Z.vertices[G++]-=C,Z.vertices[G++]-=H}this._maxLineHeight=O*r;const le=Z.mesh.geometry.getBuffer("aVertexPosition"),Te=Z.mesh.geometry.getBuffer("aTextureCoord"),L=Z.mesh.geometry.getIndex();le.data=Z.vertices,Te.data=Z.uvs,L.data=Z.indices,le.update(),Te.update(),L.update()}for(let Q=0;Q<o.length;Q++)v0.push(o[Q]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:a}=aa.available[this._fontName];if(r!=="none"){const{a:o,b:c,c:d,d:p}=this.worldTransform,g=Math.sqrt(o*o+c*c),_=Math.sqrt(d*d+p*p),w=(Math.abs(g)+Math.abs(_))/2,S=this.fontSize/a,b=e._view.resolution;for(const A of this._activePagesMeshData)A.mesh.shader.uniforms.uFWidth=w*t*S*b}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=aa.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!aa.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??aa.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,r=aa.available[this._fontName].distanceFieldType==="none"?g0:y0;r.push(...this._activePagesMeshData);for(const a of this._activePagesMeshData)this.removeChild(a.mesh);this._activePagesMeshData=[],r.filter(a=>t[a.mesh.texture.baseTexture.uid]).forEach(a=>{a.mesh.texture=ke.EMPTY});for(const a in t)t[a].destroy(),delete t[a];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};dx.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let px=dx;const _0={loader:De.LoadParser,resolver:De.ResolveParser,cache:De.CacheParser,detection:De.DetectionParser};Xe.handle(De.Asset,i=>{const e=i.ref;Object.entries(_0).filter(([t])=>!!e[t]).forEach(([t,r])=>Xe.add(Object.assign(e[t],{extension:e[t].extension??r})))},i=>{const e=i.ref;Object.keys(_0).filter(t=>!!e[t]).forEach(t=>Xe.remove(e[t]))});class ES{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Ju(i,e){if(Array.isArray(e)){for(const t of e)if(i.startsWith(`data:${t}`))return!0;return!1}return i.startsWith(`data:${e}`)}function wo(i,e){const t=i.split("?")[0],r=Dr.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Wi=(i,e,t=!1)=>(Array.isArray(i)||(i=[i]),e?i.map(r=>typeof r=="string"||t?e(r):r):i),fg=(i,e)=>{const t=e.split("?")[1];return t&&(i+=`?${t}`),i};function mx(i,e,t,r,a){const o=e[t];for(let c=0;c<o.length;c++){const d=o[c];t<e.length-1?mx(i.replace(r[t],d),e,t+1,r,a):a.push(i.replace(r[t],d))}}function SS(i){const e=/\{(.*?)\}/g,t=i.match(e),r=[];if(t){const a=[];t.forEach(o=>{const c=o.substring(1,o.length-1).split(",");a.push(c)}),mx(i,a,0,t,r)}else r.push(i);return r}const tf=i=>!Array.isArray(i);class bS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const r=Wi(e);let a;for(let d=0;d<this.parsers.length;d++){const p=this.parsers[d];if(p.test(t)){a=p.getCacheableAssets(r,t);break}}a||(a={},r.forEach(d=>{a[d]=t}));const o=Object.keys(a),c={cacheKeys:o,keys:r};if(r.forEach(d=>{this._cacheMap.set(d,c)}),o.forEach(d=>{const p=a?a[d]:t;this._cache.has(d)&&this._cache.get(d)!==p&&console.warn("[Cache] already has key:",d),this._cache.set(d,a[d])}),t instanceof ke){const d=t;r.forEach(p=>{d.baseTexture!==ke.EMPTY.baseTexture&&it.addToCache(d.baseTexture,p),ke.addToCache(d,p)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(r=>{this._cache.delete(r)}),t.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const Ml=new bS;class TS{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const r={promise:null,parser:null};return r.promise=(async()=>{var c,d;let a=null,o=null;if(t.loadParser&&(o=this._parserHash[t.loadParser],o||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!o){for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];if(g.load&&((c=g.test)!=null&&c.call(g,e,t,this))){o=g;break}}if(!o)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}a=await o.load(e,t,this),r.parser=o;for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];g.parse&&g.parse&&await((d=g.testParse)==null?void 0:d.call(g,a,t,this))&&(a=await g.parse(a,t,this)||a,r.parser=g)}return a})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0;const a={},o=tf(e),c=Wi(e,g=>({alias:[g],src:g})),d=c.length,p=c.map(async g=>{const _=Dr.toAbsolute(g.src);if(!a[g.src])try{this.promiseCache[_]||(this.promiseCache[_]=this._getLoadPromiseAndParser(_,g)),a[g.src]=await this.promiseCache[_].promise,t&&t(++r/d)}catch(w){throw delete this.promiseCache[_],delete a[g.src],new Error(`[Loader.load] Failed to load ${_}.
${w}`)}});return await Promise.all(p),o?a[c[0].src]:a}async unload(e){const t=Wi(e,r=>({alias:[r],src:r})).map(async r=>{var c,d;const a=Dr.toAbsolute(r.src),o=this.promiseCache[a];if(o){const p=await o.promise;delete this.promiseCache[a],(d=(c=o.parser)==null?void 0:c.unload)==null||d.call(c,p,r,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var qi=(i=>(i[i.Low=0]="Low",i[i.Normal=1]="Normal",i[i.High=2]="High",i))(qi||{});const AS=".json",CS="application/json",PS={extension:{type:De.LoadParser,priority:qi.Low},name:"loadJson",test(i){return Ju(i,CS)||wo(i,AS)},async load(i){return await(await Le.ADAPTER.fetch(i)).json()}};Xe.add(PS);const RS=".txt",IS="text/plain",MS={name:"loadTxt",extension:{type:De.LoadParser,priority:qi.Low},test(i){return Ju(i,IS)||wo(i,RS)},async load(i){return await(await Le.ADAPTER.fetch(i)).text()}};Xe.add(MS);const kS=["normal","bold","100","200","300","400","500","600","700","800","900"],DS=[".ttf",".otf",".woff",".woff2"],NS=["font/ttf","font/otf","font/woff","font/woff2"],FS=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function OS(i){const e=Dr.extname(i),t=Dr.basename(i,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let r=t.length>0;for(const o of t)if(!o.match(FS)){r=!1;break}let a=t.join(" ");return r||(a=`"${a.replace(/[\\"]/g,"\\$&")}"`),a}const LS=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function BS(i){return LS.test(i)?i:encodeURI(i)}const US={extension:{type:De.LoadParser,priority:qi.Low},name:"loadWebFont",test(i){return Ju(i,NS)||wo(i,DS)},async load(i,e){var r,a,o;const t=Le.ADAPTER.getFontFaceSet();if(t){const c=[],d=((r=e.data)==null?void 0:r.family)??OS(i),p=((o=(a=e.data)==null?void 0:a.weights)==null?void 0:o.filter(_=>kS.includes(_)))??["normal"],g=e.data??{};for(let _=0;_<p.length;_++){const w=p[_],S=new FontFace(d,`url(${BS(i)})`,{...g,weight:w});await S.load(),t.add(S),c.push(S)}return c.length===1?c[0]:c}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(i){(Array.isArray(i)?i:[i]).forEach(e=>Le.ADAPTER.getFontFaceSet().delete(e))}};Xe.add(US);const zS=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let qu=null,pg=class{constructor(){qu||(qu=URL.createObjectURL(new Blob([zS],{type:"application/javascript"}))),this.worker=new Worker(qu)}};pg.revokeObjectURL=function(){qu&&(URL.revokeObjectURL(qu),qu=null)};const GS=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Qu=null;class gx{constructor(){Qu||(Qu=URL.createObjectURL(new Blob([GS],{type:"application/javascript"}))),this.worker=new Worker(Qu)}}gx.revokeObjectURL=function(){Qu&&(URL.revokeObjectURL(Qu),Qu=null)};let x0=0,Rm;class HS{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new pg;t.addEventListener("message",r=>{t.terminate(),pg.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Rm===void 0&&(Rm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Rm&&(this._createdWorkers++,e=new gx().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const r=new Promise((a,o)=>{this.queue.push({id:e,arguments:t,resolve:a,reject:o})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),r=t.id;this.resolveHash[x0]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:x0++,id:r})}}const w0=new HS;function Sc(i,e,t){i.resource.internal=!0;const r=new ke(i),a=()=>{delete e.promiseCache[t],Ml.has(t)&&Ml.remove(t)};return r.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),a())}),r.once("destroyed",()=>{i.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),a())}),r}const jS=[".jpeg",".jpg",".png",".webp",".avif"],WS=["image/jpeg","image/png","image/webp","image/avif"];async function VS(i){const e=await Le.ADAPTER.fetch(i);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${i}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const wf={name:"loadTextures",extension:{type:De.LoadParser,priority:qi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(i){return Ju(i,WS)||wo(i,jS)},async load(i,e,t){var d;const r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let a;r?this.config.preferWorkers&&await w0.isImageBitmapSupported()?a=await w0.loadImageBitmap(i):a=await VS(i):a=await new Promise((p,g)=>{const _=new Image;_.crossOrigin=this.config.crossOrigin,_.src=i,_.complete?p(_):(_.onload=()=>p(_),_.onerror=w=>g(w))});const o={...e.data};o.resolution??(o.resolution=da(i)),r&&((d=o.resourceOptions)==null?void 0:d.ownsImageBitmap)===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const c=new it(a,o);return c.resource.src=i,Sc(c,t,i)},unload(i){i.destroy(!0)}};Xe.add(wf);const $S=".svg",XS="image/svg+xml",YS={extension:{type:De.LoadParser,priority:qi.High},name:"loadSVG",test(i){return Ju(i,XS)||wo(i,$S)},async testParse(i){return ag.test(i)},async parse(i,e,t){var o;const r=new ag(i,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await r.load();const a=new it(r,{resolution:da(i),...e==null?void 0:e.data});return a.resource.src=e.src,Sc(a,t,e.src)},async load(i,e){return(await Le.ADAPTER.fetch(i)).text()},unload:wf.unload};Xe.add(YS);const qS=[".mp4",".m4v",".webm",".ogv"],QS=["video/mp4","video/webm","video/ogg"],KS={name:"loadVideo",extension:{type:De.LoadParser,priority:qi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(i){return Ju(i,QS)||wo(i,qS)},async load(i,e,t){var c;let r;const a=await(await Le.ADAPTER.fetch(i)).blob(),o=URL.createObjectURL(a);try{const d={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(c=e==null?void 0:e.data)==null?void 0:c.resourceOptions,autoLoad:!0},p=new sx(o,d);await p.load();const g=new it(p,{alphaMode:await Sw(),resolution:da(i),...e==null?void 0:e.data});g.resource.src=i,r=Sc(g,t,i),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(d){throw URL.revokeObjectURL(o),d}return r},unload(i){i.destroy(!0)}};Xe.add(KS);class ZS{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){const{alias:t,name:r,src:a,srcs:o}=e;return Wi(t||r||a||o,c=>typeof c=="string"?c:Array.isArray(c)?c.map(d=>(d==null?void 0:d.src)??(d==null?void 0:d.srcs)??d):c!=null&&c.src||c!=null&&c.srcs?c.src??c.srcs:c,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const r=[];Array.isArray(t)?t.forEach(a=>{const o=a.src??a.srcs,c=a.alias??a.name;let d;if(typeof c=="string"){const p=this._createBundleAssetId(e,c);r.push(p),d=[c,p]}else{const p=c.map(g=>this._createBundleAssetId(e,g));r.push(...p),d=[...c,...p]}this.add({...a,alias:d,src:o})}):Object.keys(t).forEach(a=>{const o=[a,this._createBundleAssetId(e,a)];if(typeof t[a]=="string")this.add({alias:o,src:t[a]});else if(Array.isArray(t[a]))this.add({alias:o,src:t[a]});else{const c=t[a],d=c.src??c.srcs;this.add({...c,alias:o,src:Array.isArray(d)?d:[d]})}r.push(...o)}),this._bundles[e]=r}add(e,t,r,a,o){const c=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(lt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),c.push({alias:e,src:t,data:r,format:a,loadParser:o})):Array.isArray(e)?c.push(...e):c.push(e);let d;d=p=>{this.hasKey(p)&&console.warn(`[Resolver] already has key: ${p} overwriting`)},Wi(c).forEach(p=>{const{src:g,srcs:_}=p;let{data:w,format:S,loadParser:b}=p;const A=Wi(g||_).map(k=>typeof k=="string"?SS(k):Array.isArray(k)?k:[k]),M=this.getAlias(p);Array.isArray(M)?M.forEach(d):d(M);const P=[];A.forEach(k=>{k.forEach(z=>{let O={};if(typeof z!="object"){O.src=z;for(let W=0;W<this._parsers.length;W++){const B=this._parsers[W];if(B.test(z)){O=B.parse(z);break}}}else w=z.data??w,S=z.format??S,b=z.loadParser??b,O={...O,...z};if(!M)throw new Error(`[Resolver] alias is undefined for this asset: ${O.src}`);O=this.buildResolvedAsset(O,{aliases:M,data:w,format:S,loadParser:b}),P.push(O)})}),M.forEach(k=>{this._assetMap[k]=P})})}resolveBundle(e){const t=tf(e);e=Wi(e);const r={};return e.forEach(a=>{const o=this._bundles[a];if(o){const c=this.resolve(o),d={};for(const p in c){const g=c[p];d[this._extractAssetIdFromBundle(a,p)]=g}r[a]=d}}),t?r[e[0]]:r}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const r={};for(const a in t)r[a]=t[a].src;return r}return t.src}resolve(e){const t=tf(e);e=Wi(e);const r={};return e.forEach(a=>{if(!this._resolverHash[a])if(this._assetMap[a]){let o=this._assetMap[a];const c=o[0],d=this._getPreferredOrder(o);d==null||d.priority.forEach(p=>{d.params[p].forEach(g=>{const _=o.filter(w=>w[p]?w[p]===g:!1);_.length&&(o=_)})}),this._resolverHash[a]=o[0]??c}else this._resolverHash[a]=this.buildResolvedAsset({alias:[a],src:a},{});r[a]=this._resolverHash[a]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const r=e[0],a=this._preferredOrder.find(o=>o.params.format.includes(r.format));if(a)return a}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:r,data:a,loadParser:o,format:c}=t;return(this._basePath||this._rootPath)&&(e.src=Dr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...a||{},...e.data},e.loadParser=o??e.loadParser,e.format=c??e.format??Dr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class JS{constructor(){this._detections=[],this._initialized=!1,this.resolver=new ZS,this.loader=new TS,this.cache=Ml,this._backgroundLoader=new ES(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,c;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let d=e.manifest;typeof d=="string"&&(d=await this.load(d)),this.resolver.addManifest(d)}const t=((o=e.texturePreference)==null?void 0:o.resolution)??1,r=typeof t=="number"?[t]:t,a=await this._detectFormats({preferredFormats:(c=e.texturePreference)==null?void 0:c.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:a,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,a,o){this.resolver.add(e,t,r,a,o)}async load(e,t){this._initialized||await this.init();const r=tf(e),a=Wi(e).map(d=>{if(typeof d!="string"){const p=this.resolver.getAlias(d);return p.some(g=>!this.resolver.hasKey(g))&&this.add(d),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),o=this.resolver.resolve(a),c=await this._mapLoadToResolve(o,t);return r?c[a[0]]:c}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const a=this.resolver.resolveBundle(e),o={},c=Object.keys(a);let d=0,p=0;const g=()=>{t==null||t(++d/p)},_=c.map(w=>{const S=a[w];return p+=Object.keys(S).length,this._mapLoadToResolve(S,g).then(b=>{o[w]=b})});return await Promise.all(_),r?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Ml.get(e);const t={};for(let r=0;r<e.length;r++)t[r]=Ml.get(e[r]);return t}async _mapLoadToResolve(e,t){const r=Object.values(e),a=Object.keys(e);this._backgroundLoader.active=!1;const o=await this.loader.load(r,t);this._backgroundLoader.active=!0;const c={};return r.forEach((d,p)=>{const g=o[d.src],_=[d.src];d.alias&&_.push(...d.alias),c[a[p]]=g,Ml.set(_,g)}),c}async unload(e){this._initialized||await this.init();const t=Wi(e).map(a=>typeof a!="string"?a.src:a),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Wi(e);const t=this.resolver.resolveBundle(e),r=Object.keys(t).map(a=>this._unloadFromResolved(t[a]));await Promise.all(r)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(r=>{Ml.remove(r.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((r,a)=>t.indexOf(r)===a),t}get detections(){return this._detections}get preferWorkers(){return wf.config.preferWorkers}set preferWorkers(e){lt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}}const bd=new JS;Xe.handleByList(De.LoadParser,bd.loader.parsers).handleByList(De.ResolveParser,bd.resolver.parsers).handleByList(De.CacheParser,bd.cache.parsers).handleByList(De.DetectionParser,bd.detections);const eb={extension:De.CacheParser,test:i=>Array.isArray(i)&&i.every(e=>e instanceof ke),getCacheableAssets:(i,e)=>{const t={};return i.forEach(r=>{e.forEach((a,o)=>{t[r+(o===0?"":o+1)]=a})}),t}};Xe.add(eb);async function yx(i){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=i});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(i)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const tb={extension:{type:De.DetectionParser,priority:1},test:async()=>yx("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async i=>[...i,"avif"],remove:async i=>i.filter(e=>e!=="avif")};Xe.add(tb);const rb={extension:{type:De.DetectionParser,priority:0},test:async()=>yx("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async i=>[...i,"webp"],remove:async i=>i.filter(e=>e!=="webp")};Xe.add(rb);const E0=["png","jpg","jpeg"],nb={extension:{type:De.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async i=>[...i,...E0],remove:async i=>i.filter(e=>!E0.includes(e))};Xe.add(nb);const ib="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Gg(i){return ib?!1:document.createElement("video").canPlayType(i)!==""}const sb={extension:{type:De.DetectionParser,priority:0},test:async()=>Gg("video/webm"),add:async i=>[...i,"webm"],remove:async i=>i.filter(e=>e!=="webm")};Xe.add(sb);const ab={extension:{type:De.DetectionParser,priority:0},test:async()=>Gg("video/mp4"),add:async i=>[...i,"mp4","m4v"],remove:async i=>i.filter(e=>e!=="mp4"&&e!=="m4v")};Xe.add(ab);const ob={extension:{type:De.DetectionParser,priority:0},test:async()=>Gg("video/ogg"),add:async i=>[...i,"ogv"],remove:async i=>i.filter(e=>e!=="ogv")};Xe.add(ob);const lb={extension:De.ResolveParser,test:wf.test,parse:i=>{var e;return{resolution:parseFloat(((e=Le.RETINA_PREFIX.exec(i))==null?void 0:e[1])??"1"),format:Dr.extname(i).slice(1),src:i}}};Xe.add(lb);const ub=[".xml",".fnt"],hb={extension:{type:De.LoadParser,priority:qi.Normal},name:"loadBitmapFont",test(i){return ub.includes(Dr.extname(i).toLowerCase())},async testParse(i){return Hd.test(i)||dg.test(i)},async parse(i,e,t){const r=Hd.test(i)?Hd.parse(i):dg.parse(i),{src:a}=e,{page:o}=r,c=[];for(let g=0;g<o.length;++g){const _=o[g].file;let w=Dr.join(Dr.dirname(a),_);w=fg(w,a),c.push(w)}const d=await t.load(c),p=c.map(g=>d[g]);return aa.install(r,p,!0)},async load(i,e){return(await Le.ADAPTER.fetch(i)).text()},unload(i){i.destroy()}};Xe.add(hb);const rf={build(i){const e=i.points;let t,r,a,o,c,d;if(i.type===Gr.CIRC){const A=i.shape;t=A.x,r=A.y,c=d=A.radius,a=o=0}else if(i.type===Gr.ELIP){const A=i.shape;t=A.x,r=A.y,c=A.width,d=A.height,a=o=0}else{const A=i.shape,M=A.width/2,P=A.height/2;t=A.x+M,r=A.y+P,c=d=Math.max(0,Math.min(A.radius,Math.min(M,P))),a=M-c,o=P-d}if(!(c>=0&&d>=0&&a>=0&&o>=0)){e.length=0;return}const p=Math.ceil(2.3*Math.sqrt(c+d)),g=p*8+(a?4:0)+(o?4:0);if(e.length=g,g===0)return;if(p===0){e.length=8,e[0]=e[6]=t+a,e[1]=e[3]=r+o,e[2]=e[4]=t-a,e[5]=e[7]=r-o;return}let _=0,w=p*4+(a?2:0)+2,S=w,b=g;{const A=a+c,M=o,P=t+A,k=t-A,z=r+M;if(e[_++]=P,e[_++]=z,e[--w]=z,e[--w]=k,o){const O=r-M;e[S++]=k,e[S++]=O,e[--b]=O,e[--b]=P}}for(let A=1;A<p;A++){const M=Math.PI/2*(A/p),P=a+Math.cos(M)*c,k=o+Math.sin(M)*d,z=t+P,O=t-P,W=r+k,B=r-k;e[_++]=z,e[_++]=W,e[--w]=W,e[--w]=O,e[S++]=O,e[S++]=B,e[--b]=B,e[--b]=z}{const A=a,M=o+d,P=t+A,k=t-A,z=r+M,O=r-M;e[_++]=P,e[_++]=z,e[--b]=O,e[--b]=P,a&&(e[_++]=k,e[_++]=z,e[--b]=O,e[--b]=k)}},triangulate(i,e){const t=i.points,r=e.points,a=e.indices;if(t.length===0)return;let o=r.length/2;const c=o;let d,p;if(i.type!==Gr.RREC){const _=i.shape;d=_.x,p=_.y}else{const _=i.shape;d=_.x+_.width/2,p=_.y+_.height/2}const g=i.matrix;r.push(i.matrix?g.a*d+g.c*p+g.tx:d,i.matrix?g.b*d+g.d*p+g.ty:p),o++,r.push(t[0],t[1]);for(let _=2;_<t.length;_+=2)r.push(t[_],t[_+1]),a.push(o++,c,o);a.push(c+1,c,o)}};function S0(i,e=!1){const t=i.length;if(t<6)return;let r=0;for(let a=0,o=i[t-2],c=i[t-1];a<t;a+=2){const d=i[a],p=i[a+1];r+=(d-o)*(p+c),o=d,c=p}if(!e&&r>0||e&&r<=0){const a=t/2;for(let o=a+a%2;o<t;o+=2){const c=t-o-2,d=t-o-1,p=o,g=o+1;[i[c],i[p]]=[i[p],i[c]],[i[d],i[g]]=[i[g],i[d]]}}}const vx={build(i){i.points=i.shape.points.slice()},triangulate(i,e){let t=i.points;const r=i.holes,a=e.points,o=e.indices;if(t.length>=6){S0(t,!1);const c=[];for(let g=0;g<r.length;g++){const _=r[g];S0(_.points,!0),c.push(t.length/2),t=t.concat(_.points)}const d=L1(t,c,2);if(!d)return;const p=a.length/2;for(let g=0;g<d.length;g+=3)o.push(d[g]+p),o.push(d[g+1]+p),o.push(d[g+2]+p);for(let g=0;g<t.length;g++)a.push(t[g])}}},cb={build(i){const e=i.shape,t=e.x,r=e.y,a=e.width,o=e.height,c=i.points;c.length=0,a>=0&&o>=0&&c.push(t,r,t+a,r,t+a,r+o,t,r+o)},triangulate(i,e){const t=i.points,r=e.points;if(t.length===0)return;const a=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(a,a+1,a+2,a+1,a+2,a+3)}},db={build(i){rf.build(i)},triangulate(i,e){rf.triangulate(i,e)}};var fi=(i=>(i.MITER="miter",i.BEVEL="bevel",i.ROUND="round",i))(fi||{}),go=(i=>(i.BUTT="butt",i.ROUND="round",i.SQUARE="square",i))(go||{});const Fl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(i,e=20){if(!this.adaptive||!i||isNaN(i))return e;let t=Math.ceil(i/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},TC=Fl;class b0{static curveTo(e,t,r,a,o,c){const d=c[c.length-2],p=c[c.length-1]-t,g=d-e,_=a-t,w=r-e,S=Math.abs(p*w-g*_);if(S<1e-8||o===0)return(c[c.length-2]!==e||c[c.length-1]!==t)&&c.push(e,t),null;const b=p*p+g*g,A=_*_+w*w,M=p*_+g*w,P=o*Math.sqrt(b)/S,k=o*Math.sqrt(A)/S,z=P*M/b,O=k*M/A,W=P*w+k*g,B=P*_+k*p,K=g*(k+z),N=p*(k+z),J=w*(P+O),ce=_*(P+O),fe=Math.atan2(N-B,K-W),Pe=Math.atan2(ce-B,J-W);return{cx:W+e,cy:B+t,radius:o,startAngle:fe,endAngle:Pe,anticlockwise:g*_>w*p}}static arc(e,t,r,a,o,c,d,p,g){const _=d-c,w=Fl._segmentsCount(Math.abs(_)*o,Math.ceil(Math.abs(_)/Yd)*40),S=_/(w*2),b=S*2,A=Math.cos(S),M=Math.sin(S),P=w-1,k=P%1/P;for(let z=0;z<=P;++z){const O=z+k*z,W=S+c+b*O,B=Math.cos(W),K=-Math.sin(W);g.push((A*B+M*K)*o+r,(A*-K+M*B)*o+a)}}}class fb{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Hg{static curveLength(e,t,r,a,o,c,d,p){let g=0,_=0,w=0,S=0,b=0,A=0,M=0,P=0,k=0,z=0,O=0,W=e,B=t;for(let K=1;K<=10;++K)_=K/10,w=_*_,S=w*_,b=1-_,A=b*b,M=A*b,P=M*e+3*A*_*r+3*b*w*o+S*d,k=M*t+3*A*_*a+3*b*w*c+S*p,z=W-P,O=B-k,W=P,B=k,g+=Math.sqrt(z*z+O*O);return g}static curveTo(e,t,r,a,o,c,d){const p=d[d.length-2],g=d[d.length-1];d.length-=2;const _=Fl._segmentsCount(Hg.curveLength(p,g,e,t,r,a,o,c));let w=0,S=0,b=0,A=0,M=0;d.push(p,g);for(let P=1,k=0;P<=_;++P)k=P/_,w=1-k,S=w*w,b=S*w,A=k*k,M=A*k,d.push(b*p+3*S*k*e+3*w*A*r+M*o,b*g+3*S*k*t+3*w*A*a+M*c)}}function T0(i,e,t,r,a,o,c,d){const p=i-t*a,g=e-r*a,_=i+t*o,w=e+r*o;let S,b;c?(S=r,b=-t):(S=-r,b=t);const A=p+S,M=g+b,P=_+S,k=w+b;return d.push(A,M,P,k),2}function Sl(i,e,t,r,a,o,c,d){const p=t-i,g=r-e;let _=Math.atan2(p,g),w=Math.atan2(a-i,o-e);d&&_<w?_+=Math.PI*2:!d&&_>w&&(w+=Math.PI*2);let S=_;const b=w-_,A=Math.abs(b),M=Math.sqrt(p*p+g*g),P=(15*A*Math.sqrt(M)/Math.PI>>0)+1,k=b/P;if(S+=k,d){c.push(i,e,t,r);for(let z=1,O=S;z<P;z++,O+=k)c.push(i,e,i+Math.sin(O)*M,e+Math.cos(O)*M);c.push(i,e,a,o)}else{c.push(t,r,i,e);for(let z=1,O=S;z<P;z++,O+=k)c.push(i+Math.sin(O)*M,e+Math.cos(O)*M,i,e);c.push(a,o,i,e)}return P*2}function pb(i,e){const t=i.shape;let r=i.points||t.points.slice();const a=e.closePointEps;if(r.length===0)return;const o=i.lineStyle,c=new dt(r[0],r[1]),d=new dt(r[r.length-2],r[r.length-1]),p=t.type!==Gr.POLY||t.closeStroke,g=Math.abs(c.x-d.x)<a&&Math.abs(c.y-d.y)<a;if(p){r=r.slice(),g&&(r.pop(),r.pop(),d.set(r[r.length-2],r[r.length-1]));const G=(c.x+d.x)*.5,C=(d.y+c.y)*.5;r.unshift(G,C),r.push(G,C)}const _=e.points,w=r.length/2;let S=r.length;const b=_.length/2,A=o.width/2,M=A*A,P=o.miterLimit*o.miterLimit;let k=r[0],z=r[1],O=r[2],W=r[3],B=0,K=0,N=-(z-W),J=k-O,ce=0,fe=0,Pe=Math.sqrt(N*N+J*J);N/=Pe,J/=Pe,N*=A,J*=A;const Q=o.alignment,Z=(1-Q)*2,le=Q*2;p||(o.cap===go.ROUND?S+=Sl(k-N*(Z-le)*.5,z-J*(Z-le)*.5,k-N*Z,z-J*Z,k+N*le,z+J*le,_,!0)+2:o.cap===go.SQUARE&&(S+=T0(k,z,N,J,Z,le,!0,_))),_.push(k-N*Z,z-J*Z,k+N*le,z+J*le);for(let G=1;G<w-1;++G){k=r[(G-1)*2],z=r[(G-1)*2+1],O=r[G*2],W=r[G*2+1],B=r[(G+1)*2],K=r[(G+1)*2+1],N=-(z-W),J=k-O,Pe=Math.sqrt(N*N+J*J),N/=Pe,J/=Pe,N*=A,J*=A,ce=-(W-K),fe=O-B,Pe=Math.sqrt(ce*ce+fe*fe),ce/=Pe,fe/=Pe,ce*=A,fe*=A;const C=O-k,H=z-W,D=O-B,R=K-W,U=C*D+H*R,X=H*D-R*C,ie=X<0;if(Math.abs(X)<.001*Math.abs(U)){_.push(O-N*Z,W-J*Z,O+N*le,W+J*le),U>=0&&(o.join===fi.ROUND?S+=Sl(O,W,O-N*Z,W-J*Z,O-ce*Z,W-fe*Z,_,!1)+4:S+=2,_.push(O-ce*le,W-fe*le,O+ce*Z,W+fe*Z));continue}const ue=(-N+k)*(-J+W)-(-N+O)*(-J+z),pe=(-ce+B)*(-fe+W)-(-ce+O)*(-fe+K),_e=(C*pe-D*ue)/X,be=(R*ue-H*pe)/X,Re=(_e-O)*(_e-O)+(be-W)*(be-W),ye=O+(_e-O)*Z,Me=W+(be-W)*Z,Ue=O-(_e-O)*le,We=W-(be-W)*le,ot=Math.min(C*C+H*H,D*D+R*R),He=ie?Z:le,Ve=ot+He*He*M,kt=Re<=Ve;let Gt=o.join;if(Gt===fi.MITER&&Re/M>P&&(Gt=fi.BEVEL),kt)switch(Gt){case fi.MITER:{_.push(ye,Me,Ue,We);break}case fi.BEVEL:{ie?_.push(ye,Me,O+N*le,W+J*le,ye,Me,O+ce*le,W+fe*le):_.push(O-N*Z,W-J*Z,Ue,We,O-ce*Z,W-fe*Z,Ue,We),S+=2;break}case fi.ROUND:{ie?(_.push(ye,Me,O+N*le,W+J*le),S+=Sl(O,W,O+N*le,W+J*le,O+ce*le,W+fe*le,_,!0)+4,_.push(ye,Me,O+ce*le,W+fe*le)):(_.push(O-N*Z,W-J*Z,Ue,We),S+=Sl(O,W,O-N*Z,W-J*Z,O-ce*Z,W-fe*Z,_,!1)+4,_.push(O-ce*Z,W-fe*Z,Ue,We));break}}else{switch(_.push(O-N*Z,W-J*Z,O+N*le,W+J*le),Gt){case fi.MITER:{ie?_.push(Ue,We,Ue,We):_.push(ye,Me,ye,Me),S+=2;break}case fi.ROUND:{ie?S+=Sl(O,W,O+N*le,W+J*le,O+ce*le,W+fe*le,_,!0)+2:S+=Sl(O,W,O-N*Z,W-J*Z,O-ce*Z,W-fe*Z,_,!1)+2;break}}_.push(O-ce*Z,W-fe*Z,O+ce*le,W+fe*le),S+=2}}k=r[(w-2)*2],z=r[(w-2)*2+1],O=r[(w-1)*2],W=r[(w-1)*2+1],N=-(z-W),J=k-O,Pe=Math.sqrt(N*N+J*J),N/=Pe,J/=Pe,N*=A,J*=A,_.push(O-N*Z,W-J*Z,O+N*le,W+J*le),p||(o.cap===go.ROUND?S+=Sl(O-N*(Z-le)*.5,W-J*(Z-le)*.5,O-N*Z,W-J*Z,O+N*le,W+J*le,_,!1)+2:o.cap===go.SQUARE&&(S+=T0(O,W,N,J,Z,le,!1,_)));const Te=e.indices,L=Fl.epsilon*Fl.epsilon;for(let G=b;G<S+b-2;++G)k=_[G*2],z=_[G*2+1],O=_[(G+1)*2],W=_[(G+1)*2+1],B=_[(G+2)*2],K=_[(G+2)*2+1],!(Math.abs(k*(W-K)+O*(K-z)+B*(z-W))<L)&&Te.push(G,G+1,G+2)}function mb(i,e){let t=0;const r=i.shape,a=i.points||r.points,o=r.type!==Gr.POLY||r.closeStroke;if(a.length===0)return;const c=e.points,d=e.indices,p=a.length/2,g=c.length/2;let _=g;for(c.push(a[0],a[1]),t=1;t<p;t++)c.push(a[t*2],a[t*2+1]),d.push(_,_+1),_++;o&&d.push(_,g)}function A0(i,e){i.lineStyle.native?mb(i,e):pb(i,e)}class jg{static curveLength(e,t,r,a,o,c){const d=e-2*r+o,p=t-2*a+c,g=2*r-2*e,_=2*a-2*t,w=4*(d*d+p*p),S=4*(d*g+p*_),b=g*g+_*_,A=2*Math.sqrt(w+S+b),M=Math.sqrt(w),P=2*w*M,k=2*Math.sqrt(b),z=S/M;return(P*A+M*S*(A-k)+(4*b*w-S*S)*Math.log((2*M+z+A)/(z+k)))/(4*P)}static curveTo(e,t,r,a,o){const c=o[o.length-2],d=o[o.length-1],p=Fl._segmentsCount(jg.curveLength(c,d,e,t,r,a));let g=0,_=0;for(let w=1;w<=p;++w){const S=w/p;g=c+(e-c)*S,_=d+(t-d)*S,o.push(g+(e+(r-e)*S-g)*S,_+(t+(a-t)*S-_)*S)}}}const Im={[Gr.POLY]:vx,[Gr.CIRC]:rf,[Gr.ELIP]:rf,[Gr.RECT]:cb,[Gr.RREC]:db},C0=[],Td=[];class nf{constructor(e,t=null,r=null,a=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=a,this.type=e.type}clone(){return new nf(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Ou=new dt,_x=class xx extends S_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Jd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Td.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),C0.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,a=null){const o=new nf(e,t,r,a);return this.graphicsData.push(o),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new nf(e,null,null,t),a=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=a.lineStyle,a.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const a=t[r];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(e,Ou):Ou.copyFrom(e),a.shape.contains(Ou.x,Ou.y))){let o=!1;if(a.holes){for(let c=0;c<a.holes.length;c++)if(a.holes[c].shape.contains(Ou.x,Ou.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,a=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],a=r.style);for(let p=this.shapeIndex;p<t.length;p++){this.shapeIndex++;const g=t[p],_=g.fillStyle,w=g.lineStyle;Im[g.type].build(g),g.matrix&&this.transformPoints(g.points,g.matrix),(_.visible||w.visible)&&this.processHoles(g.holes);for(let S=0;S<2;S++){const b=S===0?_:w;if(!b.visible)continue;const A=b.texture.baseTexture,M=this.indices.length,P=this.points.length/2;A.wrapMode=ca.REPEAT,S===0?this.processFill(g):this.processLine(g);const k=this.points.length/2-P;k!==0&&(r&&!this._compareStyles(a,b)&&(r.end(M,P),r=null),r||(r=C0.pop()||new fb,r.begin(b,M,P),this.batches.push(r),a=b),this.addUvs(this.points,e,b.texture,P,k,b.matrix))}}const o=this.indices.length,c=this.points.length/2;if(r&&r.end(o,c),this.batches.length===0){this.batchable=!0;return}const d=c>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&d===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=d?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const r=this.graphicsData[e],a=r.fillStyle,o=r.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const a=e[t];for(let o=0;o<a.size;o++){const c=a.start+o;this.indicesUint16[c]=this.indicesUint16[c]-a.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<xx.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++it._globalBatch;for(let w=0;w<this.drawCalls.length;w++)this.drawCalls[w].texArray.clear(),Td.push(this.drawCalls[w]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let a=Td.pop();a||(a=new Qm,a.texArray=new eg),a.texArray.count=0,a.start=0,a.size=0,a.type=Vi.TRIANGLES;let o=0,c=null,d=0,p=!1,g=Vi.TRIANGLES,_=0;this.drawCalls.push(a);for(let w=0;w<this.batches.length;w++){const S=this.batches[w],b=8,A=S.style,M=A.texture.baseTexture;p!==!!A.native&&(p=!!A.native,g=p?Vi.LINES:Vi.TRIANGLES,c=null,o=b,e++),c!==M&&(c=M,M._batchEnabled!==e&&(o===b&&(e++,o=0,a.size>0&&(a=Td.pop(),a||(a=new Qm,a.texArray=new eg),this.drawCalls.push(a)),a.start=_,a.size=0,a.texArray.count=0,a.type=g),M.touched=1,M._batchEnabled=e,M._batchLocation=o,M.wrapMode=ca.REPEAT,a.texArray.elements[a.texArray.count++]=M,o++)),a.size+=S.size,_+=S.size,d=M._batchLocation,this.addColors(t,A.color,A.alpha,S.attribSize,S.attribStart),this.addTextureIds(r,d,S.attribSize,S.attribStart)}it._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,a=this.textureIds,o=new ArrayBuffer(e.length*3*4),c=new Float32Array(o),d=new Uint32Array(o);let p=0;for(let g=0;g<e.length/2;g++)c[p++]=e[g*2],c[p++]=e[g*2+1],c[p++]=t[g*2],c[p++]=t[g*2+1],d[p++]=r[g],c[p++]=a[g];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?vx.triangulate(e,this):Im[e.type].triangulate(e,this)}processLine(e){A0(e,this);for(let t=0;t<e.holes.length;t++)A0(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];Im[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const a=e[r*2],o=e[r*2+1];e[r*2]=t.a*a+t.c*o+t.tx,e[r*2+1]=t.b*a+t.d*o+t.ty}}addColors(e,t,r,a,o=0){const c=bt.shared.setValue(t).toLittleEndianNumber(),d=bt.shared.setValue(c).toPremultiplied(r);e.length=Math.max(e.length,o+a);for(let p=0;p<a;p++)e[o+p]=d}addTextureIds(e,t,r,a=0){e.length=Math.max(e.length,a+r);for(let o=0;o<r;o++)e[a+o]=t}addUvs(e,t,r,a,o,c=null){let d=0;const p=t.length,g=r.frame;for(;d<o;){let w=e[(a+d)*2],S=e[(a+d)*2+1];if(c){const b=c.a*w+c.c*S+c.tx;S=c.b*w+c.d*S+c.ty,w=b}d++,t.push(w/g.width,S/g.height)}const _=r.baseTexture;(g.width<_.width||g.height<_.height)&&this.adjustUvs(t,r,p,o)}adjustUvs(e,t,r,a){const o=t.baseTexture,c=1e-6,d=r+a*2,p=t.frame,g=p.width/o.width,_=p.height/o.height;let w=p.x/p.width,S=p.y/p.height,b=Math.floor(e[r]+c),A=Math.floor(e[r+1]+c);for(let M=r+2;M<d;M+=2)b=Math.min(b,Math.floor(e[M]+c)),A=Math.min(A,Math.floor(e[M+1]+c));w-=b,S-=A;for(let M=r;M<d;M+=2)e[M]=(e[M]+w)*g,e[M+1]=(e[M+1]+S)*_}};_x.BATCHABLE_SIZE=100;let gb=_x;class Ef{constructor(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Ef;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ke.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Wg extends Ef{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=go.BUTT,this.join=fi.MITER,this.miterLimit=10}clone(){const e=new Wg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=go.BUTT,this.join=fi.MITER,this.miterLimit=10}}const Mm={},mg=class Wd extends dn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Ef,this._lineStyle=new Wg,this._matrix=null,this._holeMode=!1,this.state=Is.for2d(),this._geometry=e||new gb,this._geometry.refCount++,this._transformID=-1,this._tintColor=new bt(16777215),this.blendMode=et.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Wd(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,a=.5,o=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:a,native:o}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:ke.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:go.BUTT,join:fi.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new kl,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new kl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,a=r[r.length-2],o=r[r.length-1];return(a!==e||o!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,a){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),jg.curveTo(e,t,r,a,o),this}bezierCurveTo(e,t,r,a,o,c){return this._initCurve(),Hg.curveTo(e,t,r,a,o,c,this.currentPath.points),this}arcTo(e,t,r,a,o){this._initCurve(e,t);const c=this.currentPath.points,d=b0.curveTo(e,t,r,a,o,c);if(d){const{cx:p,cy:g,radius:_,startAngle:w,endAngle:S,anticlockwise:b}=d;this.arc(p,g,_,w,S,b)}return this}arc(e,t,r,a,o,c=!1){if(a===o)return this;if(!c&&o<=a?o+=Yd:c&&a<=o&&(a+=Yd),o-a===0)return this;const d=e+Math.cos(a)*r,p=t+Math.sin(a)*r,g=this._geometry.closePointEps;let _=this.currentPath?this.currentPath.points:null;if(_){const w=Math.abs(_[_.length-2]-d),S=Math.abs(_[_.length-1]-p);w<g&&S<g||_.push(d,p)}else this.moveTo(d,p),_=this.currentPath.points;return b0.arc(d,p,e,t,r,a,o,c,_),this}beginFill(e=0,t){return this.beginTextureFill({texture:ke.WHITE,color:e,alpha:t})}normalizeColor(e){const t=bt.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:ke.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,a){return this.drawShape(new at(e,t,r,a))}drawRoundedRect(e,t,r,a,o){return this.drawShape(new gf(e,t,r,a,o))}drawCircle(e,t,r){return this.drawShape(new pf(e,t,r))}drawEllipse(e,t,r,a){return this.drawShape(new mf(e,t,r,a))}drawPolygon(...e){let t,r=!0;const a=e[0];a.points?(r=a.closeStroke,t=a.points):Array.isArray(e[0])?t=e[0]:t=e;const o=new kl(t);return o.closeStroke=r,this.drawShape(o),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Gr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let a=0;a<r;a++){const o=e.batches[a],c=o.style.color,d=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),p=new Float32Array(e.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),g=new Uint16Array(e.indicesUint16.buffer,o.start*2,o.size),_={vertexData:d,blendMode:t,indices:g,uvs:p,_batchRGB:bt.shared.setValue(c).toRgbArray(),_tintRGB:c,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=_}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const a=this.batches[t];a.worldAlpha=this.worldAlpha*a.alpha,e.plugins[this.pluginName].render(a)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,a=this.worldAlpha,o=t.uniforms,c=r.drawCalls;o.translationMatrix=this.transform.worldTransform,bt.shared.setValue(this._tintColor).premultiply(a).toArray(o.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let d=0,p=c.length;d<p;d++)this._renderDrawCallDirect(e,r.drawCalls[d])}_renderDrawCallDirect(e,t){const{texArray:r,type:a,size:o,start:c}=t,d=r.count;for(let p=0;p<d;p++)e.texture.bind(r.elements[p],p);e.geometry.draw(a,o,c)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!Mm[r]){const{maxTextures:a}=e.plugins[r],o=new Int32Array(a);for(let p=0;p<a;p++)o[p]=p;const c={tint:new Float32Array([1,1,1,1]),translationMatrix:new zt,default:Yi.from({uSamplers:o},!0)},d=e.plugins[r]._shader.program;Mm[r]=new As(d,c)}t=Mm[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:a,maxY:o}=e.bounds;this._bounds.addFrame(this.transform,t,r,a,o)}containsPoint(e){return this.worldTransform.applyInverse(e,Wd._TEMP_POINT),this._geometry.containsPoint(Wd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=bt.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,a=t.b,o=t.c,c=t.d,d=t.tx,p=t.ty,g=this._geometry.points,_=this.vertexData;let w=0;for(let S=0;S<g.length;S+=2){const b=g[S],A=g[S+1];_[w++]=r*b+o*A+d,_[w++]=c*A+a*b+p}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};mg.curves=Fl,mg._TEMP_POINT=new dt;let gc=mg;class yb extends xf{constructor(e=100,t=100,r=10,a=10){super(),this.segWidth=r,this.segHeight=a,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],r=[],a=[],o=this.segWidth-1,c=this.segHeight-1,d=this.width/o,p=this.height/c;for(let _=0;_<e;_++){const w=_%this.segWidth,S=_/this.segWidth|0;t.push(w*d,S*p),r.push(w/o,S/c)}const g=o*c;for(let _=0;_<g;_++){const w=_%o,S=_/o|0,b=S*this.segWidth+w,A=S*this.segWidth+w+1,M=(S+1)*this.segWidth+w,P=(S+1)*this.segWidth+w+1;a.push(b,A,M,A,P,M)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class vb extends xf{constructor(e=200,t,r=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),a=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),a.data=new Uint16Array((e.length-1)*6));const o=r.data,c=a.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;let d=0,p=e[0];const g=this._width*this.textureScale,_=e.length;for(let S=0;S<_;S++){const b=S*4;if(this.textureScale>0){const A=p.x-e[S].x,M=p.y-e[S].y,P=Math.sqrt(A*A+M*M);p=e[S],d+=P/g}else d=S/(_-1);o[b]=d,o[b+1]=0,o[b+2]=d,o[b+3]=1}let w=0;for(let S=0;S<_-1;S++){const b=S*2;c[w++]=b,c[w++]=b+1,c[w++]=b+2,c[w++]=b+2,c[w++]=b+1,c[w++]=b+3}r.update(),a.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],r,a=0,o=0;const c=this.buffers[0].data,d=e.length,p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let g=0;g<d;g++){const _=e[g],w=g*4;g<e.length-1?r=e[g+1]:r=_,o=-(r.x-t.x),a=r.y-t.y;const S=Math.sqrt(a*a+o*o);S<1e-6?(a=0,o=0):(a/=S,o/=S,a*=p,o*=p),c[w]=_.x+a,c[w+1]=_.y+o,c[w+2]=_.x-a,c[w+3]=_.y-o,t=_}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class _b extends vc{constructor(e,t,r){const a=new yb(e.width,e.height,t,r),o=new _c(ke.WHITE);super(a,o),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Ad=10;class xb extends _b{constructor(e,t,r,a,o){var c,d,p,g;super(ke.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((c=e.defaultBorders)==null?void 0:c.left)??Ad,this._rightWidth=a??((d=e.defaultBorders)==null?void 0:d.right)??Ad,this._topHeight=r??((p=e.defaultBorders)==null?void 0:p.top)??Ad,this._bottomHeight=o??((g=e.defaultBorders)==null?void 0:g.bottom)??Ad,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,a=this._height>r?1:this._height/r;return Math.min(t,a)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,a=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=a*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class wb extends vc{constructor(e=ke.EMPTY,t,r,a,o){const c=new xf(t,r,a);c.getBuffer("aVertexPosition").static=!1;const d=new _c(e);super(c,d,null,o),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Eb extends vc{constructor(e,t,r=0){const a=new vb(e.height,t,r),o=new _c(e);r>0&&(e.baseTexture.wrapMode=ca.REPEAT),super(a,o),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class Sb extends dn{constructor(e=1500,t,r=16384,a=!1){super();const o=16384;r>o&&(r=o),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=et.NORMAL,this.autoResize=a,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new bt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class P0{constructor(e,t,r){this.geometry=new vo,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let a=0;a<e.length;++a){let o=e[a];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Ke.FLOAT,offset:o.offset},t[a]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new hr(Lw(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];d.offset=t,t+=d.size,this.dynamicStride+=d.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new hr(this.dynamicData,!1,!1);let a=0;this.staticStride=0;for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];d.offset=a,a+=d.size,this.staticStride+=d.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new hr(this.staticData,!0,!1);for(let c=0;c<this.dynamicProperties.length;++c){const d=this.dynamicProperties[c];e.addAttribute(d.attributeName,this.dynamicBuffer,0,d.type===Ke.UNSIGNED_BYTE,d.type,this.dynamicStride*4,d.offset*4)}for(let c=0;c<this.staticProperties.length;++c){const d=this.staticProperties[c];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===Ke.UNSIGNED_BYTE,d.type,this.staticStride*4,d.offset*4)}}uploadDynamic(e,t,r){for(let a=0;a<this.dynamicProperties.length;a++){const o=this.dynamicProperties[a];o.uploadFunction(e,t,r,o.type===Ke.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let a=0;a<this.staticProperties.length;a++){const o=this.staticProperties[a];o.uploadFunction(e,t,r,o.type===Ke.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var bb=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Tb=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class wx extends vf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new zt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ke.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=As.from(Tb,bb,{}),this.state=Is.for2d()}render(e){const t=e.children,r=e._maxSize,a=e._batchSize,o=this.renderer;let c=t.length;if(c===0)return;c>r&&!e.autoResize&&(c=r);let d=e._buffers;d||(d=e._buffers=this.generateBuffers(e));const p=t[0]._texture.baseTexture,g=p.alphaMode>0;this.state.blendMode=x_(e.blendMode,g),o.state.set(this.state);const _=o.gl,w=e.worldTransform.copyTo(this.tempMatrix);w.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=w.toArray(!0),this.shader.uniforms.uColor=bt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,g).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=p,this.renderer.shader.bind(this.shader);let S=!1;for(let b=0,A=0;b<c;b+=a,A+=1){let M=c-b;M>a&&(M=a),A>=d.length&&d.push(this._generateOneMoreBuffer(e));const P=d[A];P.uploadDynamic(t,b,M);const k=e._bufferUpdateIDs[A]||0;S=S||P._updateID<k,S&&(P._updateID=e._updateID,P.uploadStatic(t,b,M)),o.geometry.bind(P.geometry),_.drawElements(_.TRIANGLES,M*6,_.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],r=e._maxSize,a=e._batchSize,o=e._properties;for(let c=0;c<r;c+=a)t.push(new P0(this.properties,o,a));return t}_generateOneMoreBuffer(e){const t=e._batchSize,r=e._properties;return new P0(this.properties,r,t)}uploadVertices(e,t,r,a,o,c){let d=0,p=0,g=0,_=0;for(let w=0;w<r;++w){const S=e[t+w],b=S._texture,A=S.scale.x,M=S.scale.y,P=b.trim,k=b.orig;P?(p=P.x-S.anchor.x*k.width,d=p+P.width,_=P.y-S.anchor.y*k.height,g=_+P.height):(d=k.width*(1-S.anchor.x),p=k.width*-S.anchor.x,g=k.height*(1-S.anchor.y),_=k.height*-S.anchor.y),a[c]=p*A,a[c+1]=_*M,a[c+o]=d*A,a[c+o+1]=_*M,a[c+o*2]=d*A,a[c+o*2+1]=g*M,a[c+o*3]=p*A,a[c+o*3+1]=g*M,c+=o*4}}uploadPosition(e,t,r,a,o,c){for(let d=0;d<r;d++){const p=e[t+d].position;a[c]=p.x,a[c+1]=p.y,a[c+o]=p.x,a[c+o+1]=p.y,a[c+o*2]=p.x,a[c+o*2+1]=p.y,a[c+o*3]=p.x,a[c+o*3+1]=p.y,c+=o*4}}uploadRotation(e,t,r,a,o,c){for(let d=0;d<r;d++){const p=e[t+d].rotation;a[c]=p,a[c+o]=p,a[c+o*2]=p,a[c+o*3]=p,c+=o*4}}uploadUvs(e,t,r,a,o,c){for(let d=0;d<r;++d){const p=e[t+d]._texture._uvs;p?(a[c]=p.x0,a[c+1]=p.y0,a[c+o]=p.x1,a[c+o+1]=p.y1,a[c+o*2]=p.x2,a[c+o*2+1]=p.y2,a[c+o*3]=p.x3,a[c+o*3+1]=p.y3,c+=o*4):(a[c]=0,a[c+1]=0,a[c+o]=0,a[c+o+1]=0,a[c+o*2]=0,a[c+o*2+1]=0,a[c+o*3]=0,a[c+o*3+1]=0,c+=o*4)}}uploadTint(e,t,r,a,o,c){for(let d=0;d<r;++d){const p=e[t+d],g=bt.shared.setValue(p._tintRGB).toPremultiplied(p.alpha,p.texture.baseTexture.alphaMode>0);a[c]=g,a[c+o]=g,a[c+o*2]=g,a[c+o*3]=g,c+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}wx.extension={name:"particle",type:De.RendererPlugin};Xe.add(wx);class xc extends Ms{constructor(e,t=!0){super(e[0]instanceof ke?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(kr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(kr.shared.add(this.update,this,_o.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let a=this._currentTime%1*this._durations[this.currentFrame];for(a+=t/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];const o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let r=0;r<e.length;++r)t.push(ke.from(e[r]));return new xc(t)}static fromImages(e){const t=[];for(let r=0;r<e.length;++r)t.push(ke.from(e[r]));return new xc(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ke)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(kr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(kr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const ic=new dt;class Vg extends Ms{constructor(e,t=100,r=100){super(e),this.tileTransform=new yf,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new Bg(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,a)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new at),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ic);const t=this._width,r=this._height,a=-t*this.anchor._x;if(ic.x>=a&&ic.x<a+t){const o=-r*this.anchor._y;if(ic.y>=o&&ic.y<o+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const r=e instanceof ke?e:ke.from(e,t);return new Vg(r,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var Ab=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Cb=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Pb=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,R0=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Rb=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Cd=new zt;class Ex extends vf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new D_,this.state=Is.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=As.from(R0,Rb,t),this.shader=e.context.webGLVersion>1?As.from(Cb,Ab,t):As.from(R0,Pb,t)}render(e){const t=this.renderer,r=this.quad;let a=r.vertices;a[0]=a[6]=e._width*-e.anchor.x,a[1]=a[3]=e._height*-e.anchor.y,a[2]=a[4]=e._width*(1-e.anchor.x),a[5]=a[7]=e._height*(1-e.anchor.y);const o=e.uvRespectAnchor?e.anchor.x:0,c=e.uvRespectAnchor?e.anchor.y:0;a=r.uvs,a[0]=a[6]=-o,a[1]=a[3]=-c,a[2]=a[4]=1-o,a[5]=a[7]=1-c,r.invalidate();const d=e._texture,p=d.baseTexture,g=p.alphaMode>0,_=e.tileTransform.localTransform,w=e.uvMatrix;let S=p.isPowerOfTwo&&d.frame.width===p.width&&d.frame.height===p.height;S&&(p._glTextures[t.CONTEXT_UID]?S=p.wrapMode!==ca.CLAMP:p.wrapMode===ca.CLAMP&&(p.wrapMode=ca.REPEAT));const b=S?this.simpleShader:this.shader,A=d.width,M=d.height,P=e._width,k=e._height;Cd.set(_.a*A/P,_.b*A/k,_.c*M/P,_.d*M/k,_.tx/P,_.ty/k),Cd.invert(),S?Cd.prepend(w.mapCoord):(b.uniforms.uMapCoord=w.mapCoord.toArray(!0),b.uniforms.uClampFrame=w.uClampFrame,b.uniforms.uClampOffset=w.uClampOffset),b.uniforms.uTransform=Cd.toArray(!0),b.uniforms.uColor=bt.shared.setValue(e.tint).premultiply(e.worldAlpha,g).toArray(b.uniforms.uColor),b.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),b.uniforms.uSampler=d,t.shader.bind(b),t.geometry.bind(r),this.state.blendMode=x_(e.blendMode,g),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Ex.extension={name:"tilingSprite",type:De.RendererPlugin};Xe.add(Ex);const Sx=class gg{constructor(e){this.stage=new dn,e=Object.assign({forceCanvas:!1},e),this.renderer=KE(e),gg._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const r=gg._plugins.slice(0);r.reverse(),r.forEach(a=>{a.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Sx._plugins=[];let Sf=Sx;Xe.handleByList(De.Application,Sf._plugins);class bx{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,r;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:a,clientHeight:o}=this._resizeTo;t=a,r=o}this.renderer.resize(t,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}bx.extension=De.Application;Xe.add(bx);var km={exports:{}},Dm,I0;function Ib(){if(I0)return Dm;I0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dm=i,Dm}var Nm,M0;function Mb(){if(M0)return Nm;M0=1;var i=Ib();function e(){}function t(){}return t.resetWarningCache=e,Nm=function(){function r(c,d,p,g,_,w){if(w!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}r.isRequired=r;function a(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Nm}var k0;function kb(){return k0||(k0=1,km.exports=Mb()()),km.exports}var Db=kb();const Ut=hf(Db);function Zn(i){return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(i)}function Tx(i){var e=function(t,r){if(Zn(t)!=="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var o=a.call(t,r);if(Zn(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(i,"string");return Zn(e)==="symbol"?e:String(e)}function ur(i,e,t){return(e=Tx(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Fm(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function pa(i){return function(e){if(Array.isArray(e))return Fm(e)}(i)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(i)||function(e,t){if(e){if(typeof e=="string")return Fm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fm(e,t):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nr(i,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),a=2;a<t;a++)r[a-2]=arguments[a]}var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ob=function(i){return i==null};function cc(i){var e=[];if(i===void 0)return e;if(typeof i=="string")e=i.split(",");else if(typeof i=="number")e=[i];else if(Array.isArray(i))e=pa(i);else{if(i===null||Zn(i)!=="object")return e;e=[i&&(i==null?void 0:i.x)||0,i&&(i==null?void 0:i.y)||0]}return e.filter(function(t){return!Ob(t)&&!isNaN(t)}).map(Number)}function D0(i,e){if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function Om(i){return i instanceof dt||i instanceof bs}var sf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Lm(i,e,t){if(Om(i[e])&&Om(t))i[e].copyFrom(t);else if(Om(i[e])){var r=cc(t);nr(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),Zn(t)),i[e].set(r.shift(),r.shift())}else i[e]=t}var Lu,Ax=function(i){var e,t=i;if(!Array.isArray(t)){if(e=i,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(i)}var r={};return t.forEach(function(a){r[a]=!0}),function(a){return r[a]!==void 0}},Cx=function(i){return function(){return!i.apply(void 0,arguments)}},yg="children",Lb=(ur(Lu={},yg,!0),ur(Lu,"parent",!0),ur(Lu,"worldAlpha",!0),ur(Lu,"worldTransform",!0),ur(Lu,"worldVisible",!0),Lu),vg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Ps=function(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(d){return requestAnimationFrame(function(){var p,g;d==null||(p=d.__reactpixi)===null||p===void 0||(g=p.root)===null||g===void 0||g.emit("__REACT_PIXI_REQUEST_RENDER__")})},a=function(d,p){if(t.hasOwnProperty(d))return nr(p.typeofs.some(function(g){return Zn(t[d])===g})||p.instanceofs.some(function(g){return t[d]instanceof g}),"".concat(i," ").concat(d," prop is invalid")),t[d]};if(t.texture)return nr(t.texture instanceof ke,"".concat(i," texture needs to be typeof `Texture`")),t.texture;var o=a("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||a("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||a("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ke]});nr(!!o,"".concat(i," could not get texture from props"));var c=ke.from(o);return c.__reactpixi={root:e},c.once("update",r),c.once("loaded",r),c.valid&&r(c),c},Bb=Cx(Ax([].concat(pa(Object.keys(Lb)),pa(sf))));function Rs(i,e,t){var r=!1;if(nr(Vt.prototype.isPrototypeOf(i),"instance needs to be typeof `DisplayObject`, got `%s`",Zn(i)),!t.ignoreEvents)for(var a=typeof i.removeListener=="function",o=typeof i.on=="function",c=0;c<sf.length;c++){var d=sf[c];e[d]!==t[d]&&(r=!0,typeof e[d]=="function"&&a&&i.removeListener(d,e[d]),typeof t[d]=="function"&&o&&i.on(d,t[d]))}var p=Object.keys(t||{});if(t.overwriteProps){for(var g=0;g<p.length;g++){var _=p[g];e[_]!==t[_]&&(r=!0,Lm(i,_,t[_]))}return r}for(var w=p.filter(Bb),S=0;S<w.length;S++){var b=w[S],A=t[b];t[b]!==e[b]&&(r=!0),A!==void 0?Lm(i,b,A):b in vg?(console.warn("setting default value: ".concat(b,", from: ").concat(i[b]," to: ").concat(A," for"),i),r=!0,Lm(i,b,vg[b])):console.warn("ignoring prop: ".concat(b,", from ").concat(i[b]," to ").concat(A," for"),i)}return r}var Ub=function(i,e){var t=e.text,r=e.style;return new px(t,r)},zb=function(){return new dn};function Eo(i,e){if(i==null)return{};var t,r,a=function(c,d){if(c==null)return{};var p,g,_={},w=Object.keys(c);for(g=0;g<w.length;g++)p=w[g],d.indexOf(p)>=0||(_[p]=c[p]);return _}(i,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(i,t)&&(a[t]=i[t])}return a}var Gb=["draw","geometry"],Hb=function(i,e){var t=e.geometry;nr(!t||t instanceof gc,"Graphics geometry needs to be a `Graphics`");var r=t?new gc(t.geometry):new gc;return r.applyProps=function(a,o,c){var d=c.draw;c.geometry;var p=Rs(a,o,Eo(c,Gb));return o.draw!==d&&typeof d=="function"&&(p=!0,d.call(r,r)),p},r},jb=["image","texture"],Wb=function(i,e){var t=e.leftWidth,r=t===void 0?10:t,a=e.topHeight,o=a===void 0?10:a,c=e.rightWidth,d=c===void 0?10:c,p=e.bottomHeight,g=p===void 0?10:p,_=Ps("NineSlicePlane",i,e),w=new xb(_,r,o,d,g);return w.applyProps=function(S,b,A){var M=A.image,P=A.texture,k=Rs(S,b,Eo(A,jb));return(M||P)&&(P!==b.texture&&(k=!0),S.texture=Ps("NineSlicePlane",i,A)),k},w};function N0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Pd(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(t),!0).forEach(function(r){ur(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):N0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Vb=function(i,e){var t=e.maxSize,r=t===void 0?1500:t,a=e.batchSize,o=a===void 0?16384:a,c=e.autoResize,d=c!==void 0&&c,p=Pd(Pd({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),g=Pd(Pd({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),_=new Sb(r,p,o,d);return _.willUnmount=function(w,S,b){w.destroy(g)},_},$b=["image","texture"],Xb=function(i,e){var t=new Ms(Ps("Sprite",i,e));return t.applyProps=function(r,a,o){var c=o.image,d=o.texture,p=Rs(r,a,Eo(o,$b));return(d&&a.texture!==o.texture||c&&a.image!==o.image)&&(a.texture!==o.texture&&(p=!0),r.texture=Ps("Sprite",i,o)),p},t},Yb=["textures","isPlaying","initialFrame","images"],qb=function(i,e){var t=e.textures,r=e.images,a=e.isPlaying,o=a===void 0||a,c=e.initialFrame,d=function(g){return g.map(function(_){return nr(_ instanceof ke||(_==null?void 0:_.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),_})},p=r?xc.fromImages(r):new xc(d(t));return p[o?"gotoAndPlay":"gotoAndStop"](c||0),p.applyProps=function(g,_,w){var S=w.textures,b=w.isPlaying,A=w.initialFrame,M=w.images,P=Rs(g,_,Eo(w,Yb));if(M&&_.images!==M){for(var k=[],z=0;z<M.length;++z)k.push(ke.from(M[z]));g.textures=k,P=!0}if(S&&_.textures!==S&&(g.textures=d(S),P=!0),b!==_.isPlaying||A!==_.initialFrame){var O=typeof A=="number"?A:p.currentFrame||0;p[b?"gotoAndPlay":"gotoAndStop"](O),P=!0}return P},p},Qb=function(i,e){var t=e.text,r=t===void 0?"":t,a=e.style,o=a===void 0?{}:a,c=e.isSprite,d=new zg(r,o);return c?(d.updateText(),new Ms(d.texture)):d},Kb=["tileScale","tilePosition","image","texture"],Zb=function(i,e){var t=e.width,r=t===void 0?100:t,a=e.height,o=a===void 0?100:a,c=Ps("TilingSprite",i,e),d=new Vg(c,r,o);return d.applyProps=function(p,g,_){var w=_.tileScale,S=_.tilePosition,b=_.image,A=_.texture,M=Rs(p,g,Eo(_,Kb));if(S){var P,k=cc(S);(P=p.tilePosition).set.apply(P,pa(k)),M=!D0(cc(g.tilePosition),k)||M}if(w){var z,O=cc(w);(z=p.tileScale).set.apply(z,pa(O)),M=!D0(cc(g.tileScale),O)||M}return(b||A)&&(A!==g.texture&&(M=!0),p.texture=Ps("Sprite",i,_)),M},d},Jb=["image","texture"],eT=function(i,e){var t=Ps("Mesh",i,e),r=e.vertices,a=e.uvs,o=e.indices,c=e.drawMode,d=c===void 0?Vi.TRIANGLES:c,p=new wb(t,r,a,o,d);return p.applyProps=function(g,_,w){var S=w.image,b=w.texture,A=Rs(g,_,Eo(w,Jb));return(S||b)&&(b!==_.texture&&(A=!0),g.texture=Ps("Mesh",i,w)),A},p},tT=["image","texture"],rT=function(i,e){var t=Ps("SimpleRope",i,e),r=e.points,a=new Eb(t,r);return a.applyProps=function(o,c,d){var p=d.image,g=d.texture,_=Eo(d,tT);nr(Array.isArray(d.points),"SimpleRope points needs to be %s","Array<Point>");var w=Rs(o,c,_);return(p||g)&&(g!==c.texture&&(w=!0),o.texture=Ps("SimpleRope",i,d)),w},a},nT=Object.freeze({__proto__:null,BitmapText:Ub,Container:zb,Graphics:Hb,NineSlicePlane:Wb,ParticleContainer:Vb,Sprite:Xb,Text:Qb,TilingSprite:Zb,SimpleMesh:eT,SimpleRope:rT,AnimatedSprite:qb});function F0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function O0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F0(Object(t),!0).forEach(function(r){ur(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):F0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Ln={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},iT=Object.keys(Ln).reduce(function(i,e){return O0(O0({},i),{},ur({},e,nT[e]))},{}),Px={};function sT(i,e){return nr(!!i,"Expect type to be defined, got `%s`",i),nr(!Ln[i],"Component `%s` could not be created, already exists in default components.",i),Px[i]=e,i}var L0,B0,U0,z0,_g={},xg={},aT={get exports(){return xg},set exports(i){xg=i}},G0={};function oT(){return B0||(B0=1,aT.exports=(L0||(L0=1,function(i){function e(C,H){var D=C.length;C.push(H);e:for(;0<D;){var R=D-1>>>1,U=C[R];if(!(0<a(U,H)))break e;C[R]=H,C[D]=U,D=R}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var H=C[0],D=C.pop();if(D!==H){C[0]=D;e:for(var R=0,U=C.length,X=U>>>1;R<X;){var ie=2*(R+1)-1,ue=C[ie],pe=ie+1,_e=C[pe];if(0>a(ue,D))pe<U&&0>a(_e,ue)?(C[R]=_e,C[pe]=D,R=pe):(C[R]=ue,C[ie]=D,R=ie);else{if(!(pe<U&&0>a(_e,D)))break e;C[R]=_e,C[pe]=D,R=pe}}}return H}function a(C,H){var D=C.sortIndex-H.sortIndex;return D!==0?D:C.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,w=null,S=3,b=!1,A=!1,M=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function O(C){for(var H=t(g);H!==null;){if(H.callback===null)r(g);else{if(!(H.startTime<=C))break;r(g),H.sortIndex=H.expirationTime,e(p,H)}H=t(g)}}function W(C){if(M=!1,O(C),!A)if(t(p)!==null)A=!0,L(B);else{var H=t(g);H!==null&&G(W,H.startTime-C)}}function B(C,H){A=!1,M&&(M=!1,k(ce),ce=-1),b=!0;var D=S;try{for(O(H),w=t(p);w!==null&&(!(w.expirationTime>H)||C&&!Q());){var R=w.callback;if(typeof R=="function"){w.callback=null,S=w.priorityLevel;var U=R(w.expirationTime<=H);H=i.unstable_now(),typeof U=="function"?w.callback=U:w===t(p)&&r(p),O(H)}else r(p);w=t(p)}if(w!==null)var X=!0;else{var ie=t(g);ie!==null&&G(W,ie.startTime-H),X=!1}return X}finally{w=null,S=D,b=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var K,N=!1,J=null,ce=-1,fe=5,Pe=-1;function Q(){return!(i.unstable_now()-Pe<fe)}function Z(){if(J!==null){var C=i.unstable_now();Pe=C;var H=!0;try{H=J(!0,C)}finally{H?K():(N=!1,J=null)}}else N=!1}if(typeof z=="function")K=function(){z(Z)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Te=le.port2;le.port1.onmessage=Z,K=function(){Te.postMessage(null)}}else K=function(){P(Z,0)};function L(C){J=C,N||(N=!0,K())}function G(C,H){ce=P(function(){C(i.unstable_now())},H)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_continueExecution=function(){A||b||(A=!0,L(B))},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var D=S;S=H;try{return C()}finally{S=D}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=S;S=C;try{return H()}finally{S=D}},i.unstable_scheduleCallback=function(C,H,D){var R=i.unstable_now();switch(D=typeof D=="object"&&D!==null&&typeof(D=D.delay)=="number"&&0<D?R+D:R,C){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return C={id:_++,callback:H,priorityLevel:C,startTime:D,expirationTime:U=D+U,sortIndex:-1},D>R?(C.sortIndex=D,e(g,C),t(p)===null&&C===t(g)&&(M?(k(ce),ce=-1):M=!0,G(W,D-R))):(C.sortIndex=U,e(p,C),A||b||(A=!0,L(B))),C},i.unstable_shouldYield=Q,i.unstable_wrapCallback=function(C){var H=S;return function(){var D=S;S=H;try{return C.apply(this,arguments)}finally{S=D}}}}(G0)),G0)),xg}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function lT(){return z0||(z0=1,U0=function(i){var e={},t=ha,r=oT(),a=Object.assign;function o(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),b=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),W=Symbol.iterator;function B(l){return l===null||typeof l!="object"?null:typeof(l=W&&l[W]||l["@@iterator"])=="function"?l:null}function K(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case g:return"Fragment";case p:return"Portal";case w:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case b:return(l.displayName||"Context")+".Consumer";case S:return(l._context.displayName||"Context")+".Provider";case A:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case k:return(u=l.displayName||null)!==null?u:K(l.type)||"Memo";case z:u=l._payload,l=l._init;try{return K(l(u))}catch{}}return null}function N(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(u);case 8:return u===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function J(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do(4098&(u=l).flags)!=0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function ce(l){if(J(l)!==l)throw Error(o(188))}function fe(l){var u=l.alternate;if(!u){if((u=J(l))===null)throw Error(o(188));return u!==l?null:l}for(var m=l,v=u;;){var x=m.return;if(x===null)break;var T=x.alternate;if(T===null){if((v=x.return)!==null){m=v;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===m)return ce(x),l;if(T===v)return ce(x),u;T=T.sibling}throw Error(o(188))}if(m.return!==v.return)m=x,v=T;else{for(var F=!1,$=x.child;$;){if($===m){F=!0,m=x,v=T;break}if($===v){F=!0,v=x,m=T;break}$=$.sibling}if(!F){for($=T.child;$;){if($===m){F=!0,m=T,v=x;break}if($===v){F=!0,v=T,m=x;break}$=$.sibling}if(!F)throw Error(o(189))}}if(m.alternate!==v)throw Error(o(190))}if(m.tag!==3)throw Error(o(188));return m.stateNode.current===m?l:u}function Pe(l){return(l=fe(l))!==null?Q(l):null}function Q(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Q(l);if(u!==null)return u;l=l.sibling}return null}function Z(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=Z(l);if(u!==null)return u}l=l.sibling}return null}var le,Te=Array.isArray,L=i.getPublicInstance,G=i.getRootHostContext,C=i.getChildHostContext,H=i.prepareForCommit,D=i.resetAfterCommit,R=i.createInstance,U=i.appendInitialChild,X=i.finalizeInitialChildren,ie=i.prepareUpdate,ue=i.shouldSetTextContent,pe=i.createTextInstance,_e=i.scheduleTimeout,be=i.cancelTimeout,Re=i.noTimeout,ye=i.isPrimaryRenderer,Me=i.supportsMutation,Ue=i.supportsPersistence,We=i.supportsHydration,ot=i.getInstanceFromNode,He=i.preparePortalMount,Ve=i.getCurrentEventPriority,kt=i.detachDeletedInstance,Gt=i.supportsMicrotasks,Jn=i.scheduleMicrotask,cr=i.supportsTestSelectors,dr=i.findFiberRoot,ei=i.getBoundingRect,gi=i.getTextContent,Jr=i.isHiddenSubtree,Bl=i.matchAccessibilityRole,Ul=i.setFocusIfFocusable,ma=i.setupIntersectionObserver,ga=i.appendChild,Qi=i.appendChildToContainer,yi=i.commitTextUpdate,Ki=i.commitMount,eh=i.commitUpdate,zl=i.insertBefore,ya=i.insertInContainerBefore,va=i.removeChild,re=i.removeChildFromContainer,se=i.resetTextContent,ht=i.hideInstance,_t=i.hideTextInstance,Et=i.unhideInstance,tt=i.unhideTextInstance,Nr=i.clearContainer,ti=i.cloneInstance,gr=i.createContainerChildSet,fn=i.appendChildToContainerChildSet,_a=i.finalizeContainerChildren,Bn=i.replaceContainerChildren,Sr=i.cloneHiddenInstance,xa=i.cloneHiddenTextInstance,Zi=i.canHydrateInstance,wa=i.canHydrateTextInstance,Un=i.canHydrateSuspenseInstance,Ea=i.isSuspenseInstancePending,pn=i.isSuspenseInstanceFallback,Ji=i.getSuspenseInstanceFallbackErrorDetails,es=i.registerSuspenseInstanceRetry,vi=i.getNextHydratableSibling,Gl=i.getFirstHydratableChild,So=i.getFirstHydratableChildWithinContainer,Hl=i.getFirstHydratableChildWithinSuspenseInstance,zn=i.hydrateInstance,bo=i.hydrateTextInstance,jl=i.hydrateSuspenseInstance,To=i.getNextHydratableInstanceAfterSuspenseInstance,_i=i.commitHydratedContainer,ks=i.commitHydratedSuspenseInstance,Wl=i.clearSuspenseBoundary,Ao=i.clearSuspenseBoundaryFromContainer,Tf=i.shouldDeleteUnhydratedTailInstances,Af=i.didNotMatchHydratedContainerTextInstance,$t=i.didNotMatchHydratedTextInstance;function Co(l){if(le===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);le=u&&u[1]||""}return`
`+le+l}var Po=!1;function Vl(l,u){if(!l||Po)return"";Po=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(he){var v=he}Reflect.construct(l,[],u)}else{try{u.call()}catch(he){v=he}l.call(u.prototype)}else{try{throw Error()}catch(he){v=he}l()}}catch(he){if(he&&v&&typeof he.stack=="string"){for(var x=he.stack.split(`
`),T=v.stack.split(`
`),F=x.length-1,$=T.length-1;1<=F&&0<=$&&x[F]!==T[$];)$--;for(;1<=F&&0<=$;F--,$--)if(x[F]!==T[$]){if(F!==1||$!==1)do if(F--,0>--$||x[F]!==T[$]){var te=`
`+x[F].replace(" at new "," at ");return l.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",l.displayName)),te}while(1<=F&&0<=$);break}}}finally{Po=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Co(l):""}var $l=Object.prototype.hasOwnProperty,th=[],Ds=-1;function Gn(l){return{current:l}}function ft(l){0>Ds||(l.current=th[Ds],th[Ds]=null,Ds--)}function Ct(l,u){Ds++,th[Ds]=l.current,l.current=u}var fr={},br=Gn(fr),Hr=Gn(!1),Ns=fr;function xi(l,u){var m=l.type.contextTypes;if(!m)return fr;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var x,T={};for(x in m)T[x]=u[x];return v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=T),T}function Tr(l){return(l=l.childContextTypes)!=null}function Fs(){ft(Hr),ft(br)}function Ro(l,u,m){if(br.current!==fr)throw Error(o(168));Ct(br,u),Ct(Hr,m)}function Tc(l,u,m){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;for(var x in v=v.getChildContext())if(!(x in u))throw Error(o(108,N(l)||"Unknown",x));return a({},m,v)}function Xl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||fr,Ns=br.current,Ct(br,l),Ct(Hr,Hr.current),!0}function Yl(l,u,m){var v=l.stateNode;if(!v)throw Error(o(169));m?(l=Tc(l,u,Ns),v.__reactInternalMemoizedMergedChildContext=l,ft(Hr),ft(br),Ct(br,l)):ft(Hr),Ct(Hr,m)}var mn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(rh(l)/Io|0)|0},rh=Math.log,Io=Math.LN2,nh=64,Mo=4194304;function pt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ko(l,u){var m=l.pendingLanes;if(m===0)return 0;var v=0,x=l.suspendedLanes,T=l.pingedLanes,F=268435455&m;if(F!==0){var $=F&~x;$!==0?v=pt($):(T&=F)!==0&&(v=pt(T))}else(F=m&~x)!==0?v=pt(F):T!==0&&(v=pt(T));if(v===0)return 0;if(u!==0&&u!==v&&(u&x)==0&&((x=v&-v)>=(T=u&-u)||x===16&&(4194240&T)!=0))return u;if((4&v)!=0&&(v|=16&m),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=v;0<u;)x=1<<(m=31-mn(u)),v|=l[m],u&=~x;return v}function Ac(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Do(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function ih(){var l=nh;return(4194240&(nh<<=1))==0&&(nh=64),l}function ql(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Sa(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-mn(u)]=m}function No(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var v=31-mn(m),x=1<<v;x&u|l[v]&u&&(l[v]|=u),m&=~x}}var ct=0;function wi(l){return 1<(l&=-l)?4<l?(268435455&l)!=0?16:536870912:4:1}var ri=r.unstable_scheduleCallback,Ei=r.unstable_cancelCallback,Fo=r.unstable_shouldYield,Oo=r.unstable_requestPaint,Dt=r.unstable_now,sh=r.unstable_ImmediatePriority,Cc=r.unstable_UserBlockingPriority,ba=r.unstable_NormalPriority,Cf=r.unstable_IdlePriority,Lo=null,en=null,gn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},Si=null,ts=!1,Os=!1;function Ls(l){Si===null?Si=[l]:Si.push(l)}function tn(){if(!Os&&Si!==null){Os=!0;var l=0,u=ct;try{var m=Si;for(ct=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Si=null,ts=!1}catch(x){throw Si!==null&&(Si=Si.slice(l+1)),ri(sh,tn),x}finally{ct=u,Os=!1}}return null}var Ta=[],Aa=0,Ca=null,Bs=0,jr=[],rn=0,Wr=null,yn=1,vn="";function rs(l,u){Ta[Aa++]=Bs,Ta[Aa++]=Ca,Ca=l,Bs=u}function Bo(l,u,m){jr[rn++]=yn,jr[rn++]=vn,jr[rn++]=Wr,Wr=l;var v=yn;l=vn;var x=32-mn(v)-1;v&=~(1<<x),m+=1;var T=32-mn(u)+x;if(30<T){var F=x-x%5;T=(v&(1<<F)-1).toString(32),v>>=F,x-=F,yn=1<<32-mn(u)+x|m<<x|v,vn=T+l}else yn=1<<T|m<<x|v,vn=l}function Pa(l){l.return!==null&&(rs(l,1),Bo(l,1,0))}function Ql(l){for(;l===Ca;)Ca=Ta[--Aa],Ta[Aa]=null,Bs=Ta[--Aa],Ta[Aa]=null;for(;l===Wr;)Wr=jr[--rn],jr[rn]=null,vn=jr[--rn],jr[rn]=null,yn=jr[--rn],jr[rn]=null}var Nt=null,yr=null,Pt=!1,bi=!1,Hn=null;function Kl(l,u){var m=un(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,(u=l.deletions)===null?(l.deletions=[m],l.flags|=16):u.push(m)}function Zl(l,u){switch(l.tag){case 5:return(u=Zi(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Nt=l,yr=Gl(u),!0);case 6:return(u=wa(u,l.pendingProps))!==null&&(l.stateNode=u,Nt=l,yr=null,!0);case 13:if((u=Un(u))!==null){var m=Wr!==null?{id:yn,overflow:vn}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},(m=un(18,null,null,0)).stateNode=u,m.return=l,l.child=m,Nt=l,yr=null,!0}return!1;default:return!1}}function Us(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Ra(l){if(Pt){var u=yr;if(u){var m=u;if(!Zl(l,u)){if(Us(l))throw Error(o(418));u=vi(m);var v=Nt;u&&Zl(l,u)?Kl(v,m):(l.flags=-4097&l.flags|2,Pt=!1,Nt=l)}}else{if(Us(l))throw Error(o(418));l.flags=-4097&l.flags|2,Pt=!1,Nt=l}}}function ah(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Nt=l}function Jl(l){if(!We||l!==Nt)return!1;if(!Pt)return ah(l),Pt=!0,!1;if(l.tag!==3&&(l.tag!==5||Tf(l.type)&&!ue(l.type,l.memoizedProps))){var u=yr;if(u){if(Us(l))throw Pc(),Error(o(418));for(;u;)Kl(l,u),u=vi(u)}}if(ah(l),l.tag===13){if(!We)throw Error(o(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(o(317));yr=To(l)}else yr=Nt?vi(l.stateNode):null;return!0}function Pc(){for(var l=yr;l;)l=vi(l)}function Ia(){We&&(yr=Nt=null,bi=Pt=!1)}function Uo(l){Hn===null?Hn=[l]:Hn.push(l)}var Pf=c.ReactCurrentBatchConfig;function eu(l,u){if(gn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var x=m[v];if(!$l.call(u,x)||!gn(l[x],u[x]))return!1}return!0}function Rf(l){switch(l.tag){case 5:return Co(l.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return l=Vl(l.type,!1);case 11:return l=Vl(l.type.render,!1);case 1:return l=Vl(l.type,!0);default:return""}}function jn(l,u){if(l&&l.defaultProps){for(var m in u=a({},u),l=l.defaultProps)u[m]===void 0&&(u[m]=l[m]);return u}return u}var tu=Gn(null),zo=null,Ma=null,oh=null;function lh(){oh=Ma=zo=null}function Rc(l,u,m){ye?(Ct(tu,u._currentValue),u._currentValue=m):(Ct(tu,u._currentValue2),u._currentValue2=m)}function Go(l){var u=tu.current;ft(tu),ye?l._currentValue=u:l._currentValue2=u}function uh(l,u,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===m)break;l=l.return}}function ka(l,u){zo=l,oh=Ma=null,(l=l.dependencies)!==null&&l.firstContext!==null&&((l.lanes&u)!=0&&(jt=!0),l.firstContext=null)}function _n(l){var u=ye?l._currentValue:l._currentValue2;if(oh!==l)if(l={context:l,memoizedValue:u,next:null},Ma===null){if(zo===null)throw Error(o(308));Ma=l,zo.dependencies={lanes:0,firstContext:l}}else Ma=Ma.next=l;return u}var ns=null;function hh(l){ns===null?ns=[l]:ns.push(l)}function Ic(l,u,m,v){var x=u.interleaved;return x===null?(m.next=m,hh(u)):(m.next=x.next,x.next=m),u.interleaved=m,ni(l,v)}function ni(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,(m=l.alternate)!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var is=!1;function ch(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mc(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ti(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function ii(l,u,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(2&nt)!=0){var x=v.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),v.pending=u,ni(l,m)}return(x=v.interleaved)===null?(u.next=u,hh(v)):(u.next=x.next,x.next=u),v.interleaved=u,ni(l,m)}function ss(l,u,m){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&m)!=0)){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,No(l,m)}}function kc(l,u){var m=l.updateQueue,v=l.alternate;if(v!==null&&m===(v=v.updateQueue)){var x=null,T=null;if((m=m.firstBaseUpdate)!==null){do{var F={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?x=T=F:T=T.next=F,m=m.next}while(m!==null);T===null?x=T=u:T=T.next=u}else x=T=u;return m={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:v.shared,effects:v.effects},void(l.updateQueue=m)}(l=m.lastBaseUpdate)===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Ho(l,u,m,v){var x=l.updateQueue;is=!1;var T=x.firstBaseUpdate,F=x.lastBaseUpdate,$=x.shared.pending;if($!==null){x.shared.pending=null;var te=$,he=te.next;te.next=null,F===null?T=he:F.next=he,F=te;var me=l.alternate;me!==null&&($=(me=me.updateQueue).lastBaseUpdate)!==F&&($===null?me.firstBaseUpdate=he:$.next=he,me.lastBaseUpdate=te)}if(T!==null){var Ie=x.baseState;for(F=0,me=he=te=null,$=T;;){var de=$.lane,Se=$.eventTime;if((v&de)===de){me!==null&&(me=me.next={eventTime:Se,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var ze=l,st=$;switch(de=u,Se=m,st.tag){case 1:if(typeof(ze=st.payload)=="function"){Ie=ze.call(Se,Ie,de);break e}Ie=ze;break e;case 3:ze.flags=-65537&ze.flags|128;case 0:if((de=typeof(ze=st.payload)=="function"?ze.call(Se,Ie,de):ze)==null)break e;Ie=a({},Ie,de);break e;case 2:is=!0}}$.callback!==null&&$.lane!==0&&(l.flags|=64,(de=x.effects)===null?x.effects=[$]:de.push($))}else Se={eventTime:Se,lane:de,tag:$.tag,payload:$.payload,callback:$.callback,next:null},me===null?(he=me=Se,te=Ie):me=me.next=Se,F|=de;if(($=$.next)===null){if(($=x.shared.pending)===null)break;$=(de=$).next,de.next=null,x.lastBaseUpdate=de,x.shared.pending=null}}if(me===null&&(te=Ie),x.baseState=te,x.firstBaseUpdate=he,x.lastBaseUpdate=me,(u=x.shared.interleaved)!==null){x=u;do F|=x.lane,x=x.next;while(x!==u)}else T===null&&(x.shared.lanes=0);ms|=F,l.lanes=F,l.memoizedState=Ie}}function dh(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],x=v.callback;if(x!==null){if(v.callback=null,v=m,typeof x!="function")throw Error(o(191,x));x.call(v)}}}var fh=new t.Component().refs;function ru(l,u,m,v){m=(m=m(v,u=l.memoizedState))==null?u:a({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var jo={isMounted:function(l){return!!(l=l._reactInternals)&&J(l)===l},enqueueSetState:function(l,u,m){l=l._reactInternals;var v=ar(),x=Mn(l),T=Ti(v,x);T.payload=u,m!=null&&(T.callback=m),(u=ii(l,T,x))!==null&&(Pr(u,l,x,v),ss(u,l,x))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var v=ar(),x=Mn(l),T=Ti(v,x);T.tag=1,T.payload=u,m!=null&&(T.callback=m),(u=ii(l,T,x))!==null&&(Pr(u,l,x,v),ss(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=ar(),v=Mn(l),x=Ti(m,v);x.tag=2,u!=null&&(x.callback=u),(u=ii(l,x,v))!==null&&(Pr(u,l,v,m),ss(u,l,v))}};function zs(l,u,m,v,x,T,F){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,T,F):!u.prototype||!u.prototype.isPureReactComponent||!eu(m,v)||!eu(x,T)}function Dc(l,u,m){var v=!1,x=fr,T=u.contextType;return typeof T=="object"&&T!==null?T=_n(T):(x=Tr(u)?Ns:br.current,T=(v=(v=u.contextTypes)!=null)?xi(l,x):fr),u=new u(m,T),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=jo,l.stateNode=u,u._reactInternals=l,v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=x,l.__reactInternalMemoizedMaskedChildContext=T),u}function Nc(l,u,m,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==l&&jo.enqueueReplaceState(u,u.state,null)}function ph(l,u,m,v){var x=l.stateNode;x.props=m,x.state=l.memoizedState,x.refs=fh,ch(l);var T=u.contextType;typeof T=="object"&&T!==null?x.context=_n(T):(T=Tr(u)?Ns:br.current,x.context=xi(l,T)),x.state=l.memoizedState,typeof(T=u.getDerivedStateFromProps)=="function"&&(ru(l,u,T,m),x.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&jo.enqueueReplaceState(x,x.state,null),Ho(l,m,x,v),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308)}function Da(l,u,m){if((l=m.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(o(309));var v=m.stateNode}if(!v)throw Error(o(147,l));var x=v,T=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(F){var $=x.refs;$===fh&&($=x.refs={}),F===null?delete $[T]:$[T]=F},u._stringRef=T,u)}if(typeof l!="string")throw Error(o(284));if(!m._owner)throw Error(o(290,l))}return l}function Wo(l,u){throw l=Object.prototype.toString.call(u),Error(o(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Na(l){return(0,l._init)(l._payload)}function Fa(l){function u(ge,q){if(l){var oe=ge.deletions;oe===null?(ge.deletions=[q],ge.flags|=16):oe.push(q)}}function m(ge,q){if(!l)return null;for(;q!==null;)u(ge,q),q=q.sibling;return null}function v(ge,q){for(ge=new Map;q!==null;)q.key!==null?ge.set(q.key,q):ge.set(q.index,q),q=q.sibling;return ge}function x(ge,q){return(ge=Oi(ge,q)).index=0,ge.sibling=null,ge}function T(ge,q,oe){return ge.index=oe,l?(oe=ge.alternate)!==null?(oe=oe.index)<q?(ge.flags|=2,q):oe:(ge.flags|=2,q):(ge.flags|=1048576,q)}function F(ge){return l&&ge.alternate===null&&(ge.flags|=2),ge}function $(ge,q,oe,we){return q===null||q.tag!==6?((q=Pu(oe,ge.mode,we)).return=ge,q):((q=x(q,oe)).return=ge,q)}function te(ge,q,oe,we){var Qe=oe.type;return Qe===g?me(ge,q,oe.props.children,we,oe.key):q!==null&&(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===z&&Na(Qe)===q.type)?((we=x(q,oe.props)).ref=Da(ge,q,oe),we.return=ge,we):((we=pl(oe.type,oe.key,oe.props,null,ge.mode,we)).ref=Da(ge,q,oe),we.return=ge,we)}function he(ge,q,oe,we){return q===null||q.tag!==4||q.stateNode.containerInfo!==oe.containerInfo||q.stateNode.implementation!==oe.implementation?((q=jh(oe,ge.mode,we)).return=ge,q):((q=x(q,oe.children||[])).return=ge,q)}function me(ge,q,oe,we,Qe){return q===null||q.tag!==7?((q=ys(oe,ge.mode,we,Qe)).return=ge,q):((q=x(q,oe)).return=ge,q)}function Ie(ge,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number")return(q=Pu(""+q,ge.mode,oe)).return=ge,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case d:return(oe=pl(q.type,q.key,q.props,null,ge.mode,oe)).ref=Da(ge,null,q),oe.return=ge,oe;case p:return(q=jh(q,ge.mode,oe)).return=ge,q;case z:return Ie(ge,(0,q._init)(q._payload),oe)}if(Te(q)||B(q))return(q=ys(q,ge.mode,oe,null)).return=ge,q;Wo(ge,q)}return null}function de(ge,q,oe,we){var Qe=q!==null?q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Qe!==null?null:$(ge,q,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case d:return oe.key===Qe?te(ge,q,oe,we):null;case p:return oe.key===Qe?he(ge,q,oe,we):null;case z:return de(ge,q,(Qe=oe._init)(oe._payload),we)}if(Te(oe)||B(oe))return Qe!==null?null:me(ge,q,oe,we,null);Wo(ge,oe)}return null}function Se(ge,q,oe,we,Qe){if(typeof we=="string"&&we!==""||typeof we=="number")return $(q,ge=ge.get(oe)||null,""+we,Qe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case d:return te(q,ge=ge.get(we.key===null?oe:we.key)||null,we,Qe);case p:return he(q,ge=ge.get(we.key===null?oe:we.key)||null,we,Qe);case z:return Se(ge,q,oe,(0,we._init)(we._payload),Qe)}if(Te(we)||B(we))return me(q,ge=ge.get(oe)||null,we,Qe,null);Wo(q,we)}return null}function ze(ge,q,oe,we){for(var Qe=null,gt=null,je=q,mt=q=0,or=null;je!==null&&mt<oe.length;mt++){je.index>mt?(or=je,je=null):or=je.sibling;var yt=de(ge,je,oe[mt],we);if(yt===null){je===null&&(je=or);break}l&&je&&yt.alternate===null&&u(ge,je),q=T(yt,q,mt),gt===null?Qe=yt:gt.sibling=yt,gt=yt,je=or}if(mt===oe.length)return m(ge,je),Pt&&rs(ge,mt),Qe;if(je===null){for(;mt<oe.length;mt++)(je=Ie(ge,oe[mt],we))!==null&&(q=T(je,q,mt),gt===null?Qe=je:gt.sibling=je,gt=je);return Pt&&rs(ge,mt),Qe}for(je=v(ge,je);mt<oe.length;mt++)(or=Se(je,ge,mt,oe[mt],we))!==null&&(l&&or.alternate!==null&&je.delete(or.key===null?mt:or.key),q=T(or,q,mt),gt===null?Qe=or:gt.sibling=or,gt=or);return l&&je.forEach(function(ui){return u(ge,ui)}),Pt&&rs(ge,mt),Qe}function st(ge,q,oe,we){var Qe=B(oe);if(typeof Qe!="function")throw Error(o(150));if((oe=Qe.call(oe))==null)throw Error(o(151));for(var gt=Qe=null,je=q,mt=q=0,or=null,yt=oe.next();je!==null&&!yt.done;mt++,yt=oe.next()){je.index>mt?(or=je,je=null):or=je.sibling;var ui=de(ge,je,yt.value,we);if(ui===null){je===null&&(je=or);break}l&&je&&ui.alternate===null&&u(ge,je),q=T(ui,q,mt),gt===null?Qe=ui:gt.sibling=ui,gt=ui,je=or}if(yt.done)return m(ge,je),Pt&&rs(ge,mt),Qe;if(je===null){for(;!yt.done;mt++,yt=oe.next())(yt=Ie(ge,yt.value,we))!==null&&(q=T(yt,q,mt),gt===null?Qe=yt:gt.sibling=yt,gt=yt);return Pt&&rs(ge,mt),Qe}for(je=v(ge,je);!yt.done;mt++,yt=oe.next())(yt=Se(je,ge,mt,yt.value,we))!==null&&(l&&yt.alternate!==null&&je.delete(yt.key===null?mt:yt.key),q=T(yt,q,mt),gt===null?Qe=yt:gt.sibling=yt,gt=yt);return l&&je.forEach(function(Wc){return u(ge,Wc)}),Pt&&rs(ge,mt),Qe}return function ge(q,oe,we,Qe){if(typeof we=="object"&&we!==null&&we.type===g&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case d:e:{for(var gt=we.key,je=oe;je!==null;){if(je.key===gt){if((gt=we.type)===g){if(je.tag===7){m(q,je.sibling),(oe=x(je,we.props.children)).return=q,q=oe;break e}}else if(je.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===z&&Na(gt)===je.type){m(q,je.sibling),(oe=x(je,we.props)).ref=Da(q,je,we),oe.return=q,q=oe;break e}m(q,je);break}u(q,je),je=je.sibling}we.type===g?((oe=ys(we.props.children,q.mode,Qe,we.key)).return=q,q=oe):((Qe=pl(we.type,we.key,we.props,null,q.mode,Qe)).ref=Da(q,oe,we),Qe.return=q,q=Qe)}return F(q);case p:e:{for(je=we.key;oe!==null;){if(oe.key===je){if(oe.tag===4&&oe.stateNode.containerInfo===we.containerInfo&&oe.stateNode.implementation===we.implementation){m(q,oe.sibling),(oe=x(oe,we.children||[])).return=q,q=oe;break e}m(q,oe);break}u(q,oe),oe=oe.sibling}(oe=jh(we,q.mode,Qe)).return=q,q=oe}return F(q);case z:return ge(q,oe,(je=we._init)(we._payload),Qe)}if(Te(we))return ze(q,oe,we,Qe);if(B(we))return st(q,oe,we,Qe);Wo(q,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,oe!==null&&oe.tag===6?(m(q,oe.sibling),(oe=x(oe,we)).return=q,q=oe):(m(q,oe),(oe=Pu(we,q.mode,Qe)).return=q,q=oe),F(q)):m(q,oe)}}var Oa=Fa(!0),Vo=Fa(!1),$o={},nn=Gn($o),Gs=Gn($o),as=Gn($o);function Wn(l){if(l===$o)throw Error(o(174));return l}function nu(l,u){Ct(as,u),Ct(Gs,l),Ct(nn,$o),l=G(u),ft(nn),Ct(nn,l)}function Hs(){ft(nn),ft(Gs),ft(as)}function Fc(l){var u=Wn(as.current),m=Wn(nn.current);m!==(u=C(m,l.type,u))&&(Ct(Gs,l),Ct(nn,u))}function mh(l){Gs.current===l&&(ft(nn),ft(Gs))}var Ht=Gn(0);function iu(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&((m=m.dehydrated)===null||Ea(m)||pn(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((128&u.flags)!=0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var gh=[];function sn(){for(var l=0;l<gh.length;l++){var u=gh[l];ye?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}gh.length=0}var os=c.ReactCurrentDispatcher,su=c.ReactCurrentBatchConfig,ls=0,Bt=null,ir=null,Qt=null,au=!1,Xo=!1,si=0,yh=0;function Kt(){throw Error(o(321))}function Yo(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!gn(l[m],u[m]))return!1;return!0}function ou(l,u,m,v,x,T){if(ls=T,Bt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,os.current=l===null||l.memoizedState===null?Ah:Ch,l=m(v,x),Xo){T=0;do{if(Xo=!1,si=0,25<=T)throw Error(o(301));T+=1,Qt=ir=null,u.updateQueue=null,os.current=Ph,l=m(v,x)}while(Xo)}if(os.current=ja,u=ir!==null&&ir.next!==null,ls=0,Qt=ir=Bt=null,au=!1,u)throw Error(o(300));return l}function La(){var l=si!==0;return si=0,l}function Fr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Bt.memoizedState=Qt=l:Qt=Qt.next=l,Qt}function Vr(){if(ir===null){var l=Bt.alternate;l=l!==null?l.memoizedState:null}else l=ir.next;var u=Qt===null?Bt.memoizedState:Qt.next;if(u!==null)Qt=u,ir=l;else{if(l===null)throw Error(o(310));l={memoizedState:(ir=l).memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},Qt===null?Bt.memoizedState=Qt=l:Qt=Qt.next=l}return Qt}function Ba(l,u){return typeof u=="function"?u(l):u}function Ua(l){var u=Vr(),m=u.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var v=ir,x=v.baseQueue,T=m.pending;if(T!==null){if(x!==null){var F=x.next;x.next=T.next,T.next=F}v.baseQueue=x=T,m.pending=null}if(x!==null){T=x.next,v=v.baseState;var $=F=null,te=null,he=T;do{var me=he.lane;if((ls&me)===me)te!==null&&(te=te.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),v=he.hasEagerState?he.eagerState:l(v,he.action);else{var Ie={lane:me,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};te===null?($=te=Ie,F=v):te=te.next=Ie,Bt.lanes|=me,ms|=me}he=he.next}while(he!==null&&he!==T);te===null?F=v:te.next=$,gn(v,u.memoizedState)||(jt=!0),u.memoizedState=v,u.baseState=F,u.baseQueue=te,m.lastRenderedState=v}if((l=m.interleaved)!==null){x=l;do T=x.lane,Bt.lanes|=T,ms|=T,x=x.next;while(x!==l)}else x===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function lu(l){var u=Vr(),m=u.queue;if(m===null)throw Error(o(311));m.lastRenderedReducer=l;var v=m.dispatch,x=m.pending,T=u.memoizedState;if(x!==null){m.pending=null;var F=x=x.next;do T=l(T,F.action),F=F.next;while(F!==x);gn(T,u.memoizedState)||(jt=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),m.lastRenderedState=T}return[T,v]}function vh(){}function _h(l,u){var m=Bt,v=Vr(),x=u(),T=!gn(v.memoizedState,x);if(T&&(v.memoizedState=x,jt=!0),v=v.queue,du(Eh.bind(null,m,v,l),[l]),v.getSnapshot!==u||T||Qt!==null&&1&Qt.memoizedState.tag){if(m.flags|=2048,qo(9,wh.bind(null,m,v,x,u),void 0,null),Jt===null)throw Error(o(349));(30&ls)!=0||xh(m,u,x)}return x}function xh(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},(u=Bt.updateQueue)===null?(u={lastEffect:null,stores:null},Bt.updateQueue=u,u.stores=[l]):(m=u.stores)===null?u.stores=[l]:m.push(l)}function wh(l,u,m,v){u.value=m,u.getSnapshot=v,Ai(u)&&uu(l)}function Eh(l,u,m){return m(function(){Ai(u)&&uu(l)})}function Ai(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!gn(l,m)}catch{return!0}}function uu(l){var u=ni(l,1);u!==null&&Pr(u,l,1,-1)}function hu(l){var u=Fr();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:l},u.queue=l,l=l.dispatch=Mf.bind(null,Bt,l),[u.memoizedState,l]}function qo(l,u,m,v){return l={tag:l,create:u,destroy:m,deps:v,next:null},(u=Bt.updateQueue)===null?(u={lastEffect:null,stores:null},Bt.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect)===null?u.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,u.lastEffect=l),l}function Oc(){return Vr().memoizedState}function us(l,u,m,v){var x=Fr();Bt.flags|=l,x.memoizedState=qo(1|u,m,void 0,v===void 0?null:v)}function cu(l,u,m,v){var x=Vr();v=v===void 0?null:v;var T=void 0;if(ir!==null){var F=ir.memoizedState;if(T=F.destroy,v!==null&&Yo(v,F.deps))return void(x.memoizedState=qo(u,m,T,v))}Bt.flags|=l,x.memoizedState=qo(1|u,m,T,v)}function Sh(l,u){return us(8390656,8,l,u)}function du(l,u){return cu(2048,8,l,u)}function Rt(l,u){return cu(4,2,l,u)}function fu(l,u){return cu(4,4,l,u)}function Qo(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function za(l,u,m){return m=m!=null?m.concat([l]):null,cu(4,4,Qo.bind(null,u,l),m)}function pu(){}function mu(l,u){var m=Vr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Yo(u,v[1])?v[0]:(m.memoizedState=[l,u],l)}function Ga(l,u){var m=Vr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Yo(u,v[1])?v[0]:(l=l(),m.memoizedState=[l,u],l)}function Ko(l,u,m){return(21&ls)==0?(l.baseState&&(l.baseState=!1,jt=!0),l.memoizedState=m):(gn(m,u)||(m=ih(),Bt.lanes|=m,ms|=m,l.baseState=!0),u)}function Ha(l,u){var m=ct;ct=m!==0&&4>m?m:4,l(!0);var v=su.transition;su.transition={};try{l(!1),u()}finally{ct=m,su.transition=v}}function bh(){return Vr().memoizedState}function If(l,u,m){var v=Mn(l);m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},Th(l)?Zo(u,m):(m=Ic(l,u,m,v))!==null&&(Pr(m,l,v,ar()),Jo(m,u,v))}function Mf(l,u,m){var v=Mn(l),x={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(Th(l))Zo(u,x);else{var T=l.alternate;if(l.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer)!==null)try{var F=u.lastRenderedState,$=T(F,m);if(x.hasEagerState=!0,x.eagerState=$,gn($,F)){var te=u.interleaved;return te===null?(x.next=x,hh(u)):(x.next=te.next,te.next=x),void(u.interleaved=x)}}catch{}(m=Ic(l,u,x,v))!==null&&(Pr(m,l,v,x=ar()),Jo(m,u,v))}}function Th(l){var u=l.alternate;return l===Bt||u!==null&&u===Bt}function Zo(l,u){Xo=au=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function Jo(l,u,m){if((4194240&m)!=0){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,No(l,m)}}var ja={readContext:_n,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},Ah={readContext:_n,useCallback:function(l,u){return Fr().memoizedState=[l,u===void 0?null:u],l},useContext:_n,useEffect:Sh,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,us(4194308,4,Qo.bind(null,u,l),m)},useLayoutEffect:function(l,u){return us(4194308,4,l,u)},useInsertionEffect:function(l,u){return us(4,2,l,u)},useMemo:function(l,u){var m=Fr();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var v=Fr();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=If.bind(null,Bt,l),[v.memoizedState,l]},useRef:function(l){return l={current:l},Fr().memoizedState=l},useState:hu,useDebugValue:pu,useDeferredValue:function(l){return Fr().memoizedState=l},useTransition:function(){var l=hu(!1),u=l[0];return l=Ha.bind(null,l[1]),Fr().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var v=Bt,x=Fr();if(Pt){if(m===void 0)throw Error(o(407));m=m()}else{if(m=u(),Jt===null)throw Error(o(349));(30&ls)!=0||xh(v,u,m)}x.memoizedState=m;var T={value:m,getSnapshot:u};return x.queue=T,Sh(Eh.bind(null,v,T,l),[l]),v.flags|=2048,qo(9,wh.bind(null,v,T,m,u),void 0,null),m},useId:function(){var l=Fr(),u=Jt.identifierPrefix;if(Pt){var m=vn;u=":"+u+"R"+(m=(yn&~(1<<32-mn(yn)-1)).toString(32)+m),0<(m=si++)&&(u+="H"+m.toString(32)),u+=":"}else u=":"+u+"r"+(m=yh++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},Ch={readContext:_n,useCallback:mu,useContext:_n,useEffect:du,useImperativeHandle:za,useInsertionEffect:Rt,useLayoutEffect:fu,useMemo:Ga,useReducer:Ua,useRef:Oc,useState:function(){return Ua(Ba)},useDebugValue:pu,useDeferredValue:function(l){return Ko(Vr(),ir.memoizedState,l)},useTransition:function(){return[Ua(Ba)[0],Vr().memoizedState]},useMutableSource:vh,useSyncExternalStore:_h,useId:bh,unstable_isNewReconciler:!1},Ph={readContext:_n,useCallback:mu,useContext:_n,useEffect:du,useImperativeHandle:za,useInsertionEffect:Rt,useLayoutEffect:fu,useMemo:Ga,useReducer:lu,useRef:Oc,useState:function(){return lu(Ba)},useDebugValue:pu,useDeferredValue:function(l){var u=Vr();return ir===null?u.memoizedState=l:Ko(u,ir.memoizedState,l)},useTransition:function(){return[lu(Ba)[0],Vr().memoizedState]},useMutableSource:vh,useSyncExternalStore:_h,useId:bh,unstable_isNewReconciler:!1};function Wa(l,u){try{var m="",v=u;do m+=Rf(v),v=v.return;while(v);var x=m}catch(T){x=`
Error generating stack: `+T.message+`
`+T.stack}return{value:l,source:u,stack:x,digest:null}}function gu(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function Rh(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var kf=typeof WeakMap=="function"?WeakMap:Map;function yu(l,u,m){(m=Ti(-1,m)).tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){Mt||(Mt=!0,eo=v),Rh(0,u)},m}function Ci(l,u,m){(m=Ti(-1,m)).tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=u.value;m.payload=function(){return v(x)},m.callback=function(){Rh(0,u)}}var T=l.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Rh(0,u),typeof v!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var F=u.stack;this.componentDidCatch(u.value,{componentStack:F!==null?F:""})}),m}function Ih(l,u,m){var v=l.pingCache;if(v===null){v=l.pingCache=new kf;var x=new Set;v.set(u,x)}else(x=v.get(u))===void 0&&(x=new Set,v.set(u,x));x.has(m)||(x.add(m),l=Au.bind(null,l,u,m),u.then(l,l))}function js(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function Vn(l,u,m,v,x){return(1&l.mode)==0?(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((u=Ti(-1,1)).tag=2,ii(m,u,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=x,l)}var el=c.ReactCurrentOwner,jt=!1;function Ar(l,u,m,v){u.child=l===null?Vo(u,null,m,v):Oa(u,l.child,m,v)}function Lc(l,u,m,v,x){m=m.render;var T=u.ref;return ka(u,x),v=ou(l,u,m,v,T,x),m=La(),l===null||jt?(Pt&&m&&Pa(u),u.flags|=1,Ar(l,u,v,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,En(l,u,x))}function Bc(l,u,m,v,x){if(l===null){var T=m.type;return typeof T!="function"||fl(T)||T.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((l=pl(m.type,null,v,u,u.mode,x)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=T,hs(l,u,T,v,x))}if(T=l.child,(l.lanes&x)==0){var F=T.memoizedProps;if((m=(m=m.compare)!==null?m:eu)(F,v)&&l.ref===u.ref)return En(l,u,x)}return u.flags|=1,(l=Oi(T,v)).ref=u.ref,l.return=u,u.child=l}function hs(l,u,m,v,x){if(l!==null){var T=l.memoizedProps;if(eu(T,v)&&l.ref===u.ref){if(jt=!1,u.pendingProps=v=T,(l.lanes&x)==0)return u.lanes=l.lanes,En(l,u,x);(131072&l.flags)!=0&&(jt=!0)}}return $a(l,u,m,v,x)}function Va(l,u,m){var v=u.pendingProps,x=v.children,T=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((1&u.mode)==0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(ki,er),er|=m;else{if((1073741824&m)==0)return l=T!==null?T.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Ct(ki,er),er|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:m,Ct(ki,er),er|=v}else T!==null?(v=T.baseLanes|m,u.memoizedState=null):v=m,Ct(ki,er),er|=v;return Ar(l,u,x,m),u.child}function Ws(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function $a(l,u,m,v,x){var T=Tr(m)?Ns:br.current;return T=xi(u,T),ka(u,x),m=ou(l,u,m,v,T,x),v=La(),l===null||jt?(Pt&&v&&Pa(u),u.flags|=1,Ar(l,u,m,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,En(l,u,x))}function vu(l,u,m,v,x){if(Tr(m)){var T=!0;Xl(u)}else T=!1;if(ka(u,x),u.stateNode===null)wn(l,u),Dc(u,m,v),ph(u,m,v,x),v=!0;else if(l===null){var F=u.stateNode,$=u.memoizedProps;F.props=$;var te=F.context,he=m.contextType;typeof he=="object"&&he!==null?he=_n(he):he=xi(u,he=Tr(m)?Ns:br.current);var me=m.getDerivedStateFromProps,Ie=typeof me=="function"||typeof F.getSnapshotBeforeUpdate=="function";Ie||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||($!==v||te!==he)&&Nc(u,F,v,he),is=!1;var de=u.memoizedState;F.state=de,Ho(u,v,F,x),te=u.memoizedState,$!==v||de!==te||Hr.current||is?(typeof me=="function"&&(ru(u,m,me,v),te=u.memoizedState),($=is||zs(u,m,$,v,de,te,he))?(Ie||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(u.flags|=4194308)):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=te),F.props=v,F.state=te,F.context=he,v=$):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{F=u.stateNode,Mc(l,u),$=u.memoizedProps,he=u.type===u.elementType?$:jn(u.type,$),F.props=he,Ie=u.pendingProps,de=F.context,typeof(te=m.contextType)=="object"&&te!==null?te=_n(te):te=xi(u,te=Tr(m)?Ns:br.current);var Se=m.getDerivedStateFromProps;(me=typeof Se=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||($!==Ie||de!==te)&&Nc(u,F,v,te),is=!1,de=u.memoizedState,F.state=de,Ho(u,v,F,x);var ze=u.memoizedState;$!==Ie||de!==ze||Hr.current||is?(typeof Se=="function"&&(ru(u,m,Se,v),ze=u.memoizedState),(he=is||zs(u,m,he,v,de,ze,te)||!1)?(me||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,ze,te),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,ze,te)),typeof F.componentDidUpdate=="function"&&(u.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof F.componentDidUpdate!="function"||$===l.memoizedProps&&de===l.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&de===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=ze),F.props=v,F.state=ze,F.context=te,v=he):(typeof F.componentDidUpdate!="function"||$===l.memoizedProps&&de===l.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&de===l.memoizedState||(u.flags|=1024),v=!1)}return cs(l,u,m,v,T,x)}function cs(l,u,m,v,x,T){Ws(l,u);var F=(128&u.flags)!=0;if(!v&&!F)return x&&Yl(u,m,!1),En(l,u,T);v=u.stateNode,el.current=u;var $=F&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&F?(u.child=Oa(u,l.child,null,T),u.child=Oa(u,null,$,T)):Ar(l,u,$,T),u.memoizedState=v.state,x&&Yl(u,m,!0),u.child}function Pi(l){var u=l.stateNode;u.pendingContext?Ro(0,u.pendingContext,u.pendingContext!==u.context):u.context&&Ro(0,u.context,!1),nu(l,u.containerInfo)}function It(l,u,m,v,x){return Ia(),Uo(x),u.flags|=256,Ar(l,u,m,v),u.child}var xt,xn,sr,vr,Ri={dehydrated:null,treeContext:null,retryLane:0};function ds(l){return{baseLanes:l,cachePool:null,transitions:null}}function Or(l,u,m){var v,x=u.pendingProps,T=Ht.current,F=!1,$=(128&u.flags)!=0;if((v=$)||(v=(l===null||l.memoizedState!==null)&&(2&T)!=0),v?(F=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(T|=1),Ct(Ht,1&T),l===null)return Ra(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?((1&u.mode)==0?u.lanes=1:pn(l)?u.lanes=8:u.lanes=1073741824,null):($=x.children,l=x.fallback,F?(x=u.mode,F=u.child,$={mode:"hidden",children:$},(1&x)==0&&F!==null?(F.childLanes=0,F.pendingProps=$):F=Cu($,x,0,null),l=ys(l,x,m,null),F.return=u,l.return=u,F.sibling=l,u.child=F,u.child.memoizedState=ds(m),u.memoizedState=Ri,l):Xa(u,$));if((T=l.memoizedState)!==null&&(v=T.dehydrated)!==null)return function(he,me,Ie,de,Se,ze,st){if(Ie)return 256&me.flags?(me.flags&=-257,tl(he,me,st,de=gu(Error(o(422))))):me.memoizedState!==null?(me.child=he.child,me.flags|=128,null):(ze=de.fallback,Se=me.mode,de=Cu({mode:"visible",children:de.children},Se,0,null),(ze=ys(ze,Se,st,null)).flags|=2,de.return=me,ze.return=me,de.sibling=ze,me.child=de,(1&me.mode)!=0&&Oa(me,he.child,null,st),me.child.memoizedState=ds(st),me.memoizedState=Ri,ze);if((1&me.mode)==0)return tl(he,me,st,null);if(pn(Se))return de=Ji(Se).digest,ze=Error(o(419)),de=gu(ze,de,void 0),tl(he,me,st,de);if(Ie=(st&he.childLanes)!=0,jt||Ie){if((de=Jt)!==null){switch(st&-st){case 4:Se=2;break;case 16:Se=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Se=32;break;case 536870912:Se=268435456;break;default:Se=0}(Se=(Se&(de.suspendedLanes|st))!=0?0:Se)!==0&&Se!==ze.retryLane&&(ze.retryLane=Se,ni(he,Se),Pr(de,he,Se,-1))}return Tu(),tl(he,me,st,de=gu(Error(o(421))))}return Ea(Se)?(me.flags|=128,me.child=he.child,me=Gh.bind(null,he),es(Se,me),null):(he=ze.treeContext,We&&(yr=Hl(Se),Nt=me,Pt=!0,Hn=null,bi=!1,he!==null&&(jr[rn++]=yn,jr[rn++]=vn,jr[rn++]=Wr,yn=he.id,vn=he.overflow,Wr=me)),me=Xa(me,de.children),me.flags|=4096,me)}(l,u,$,x,v,T,m);if(F){F=x.fallback,$=u.mode,v=(T=l.child).sibling;var te={mode:"hidden",children:x.children};return(1&$)==0&&u.child!==T?((x=u.child).childLanes=0,x.pendingProps=te,u.deletions=null):(x=Oi(T,te)).subtreeFlags=14680064&T.subtreeFlags,v!==null?F=Oi(v,F):(F=ys(F,$,m,null)).flags|=2,F.return=u,x.return=u,x.sibling=F,u.child=x,x=F,F=u.child,$=($=l.child.memoizedState)===null?ds(m):{baseLanes:$.baseLanes|m,cachePool:null,transitions:$.transitions},F.memoizedState=$,F.childLanes=l.childLanes&~m,u.memoizedState=Ri,x}return l=(F=l.child).sibling,x=Oi(F,{mode:"visible",children:x.children}),(1&u.mode)==0&&(x.lanes=m),x.return=u,x.sibling=null,l!==null&&((m=u.deletions)===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=x,u.memoizedState=null,x}function Xa(l,u){return(u=Cu({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function tl(l,u,m,v){return v!==null&&Uo(v),Oa(u,l.child,null,m),(l=Xa(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function Mh(l,u,m){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),uh(l.return,u,m)}function Ya(l,u,m,v,x){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:x}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=m,T.tailMode=x)}function kh(l,u,m){var v=u.pendingProps,x=v.revealOrder,T=v.tail;if(Ar(l,u,v.children,m),(2&(v=Ht.current))!=0)v=1&v|2,u.flags|=128;else{if(l!==null&&(128&l.flags)!=0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Mh(l,m,u);else if(l.tag===19)Mh(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Ct(Ht,v),(1&u.mode)==0)u.memoizedState=null;else switch(x){case"forwards":for(m=u.child,x=null;m!==null;)(l=m.alternate)!==null&&iu(l)===null&&(x=m),m=m.sibling;(m=x)===null?(x=u.child,u.child=null):(x=m.sibling,m.sibling=null),Ya(u,!1,x,m,T);break;case"backwards":for(m=null,x=u.child,u.child=null;x!==null;){if((l=x.alternate)!==null&&iu(l)===null){u.child=x;break}l=x.sibling,x.sibling=m,m=x,x=l}Ya(u,!0,m,null,T);break;case"together":Ya(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function wn(l,u){(1&u.mode)==0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function En(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),ms|=u.lanes,(m&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(o(153));if(u.child!==null){for(m=Oi(l=u.child,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,(m=m.sibling=Oi(l,l.pendingProps)).return=u;m.sibling=null}return u.child}function Sn(l){l.flags|=4}function Dh(l,u){if(l!==null&&l.child===u.child)return!0;if((16&u.flags)!=0)return!1;for(l=u.child;l!==null;){if((12854&l.flags)!=0||(12854&l.subtreeFlags)!=0)return!1;l=l.sibling}return!0}if(Me)xt=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)U(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},xn=function(){},sr=function(l,u,m,v,x){if((l=l.memoizedProps)!==v){var T=u.stateNode,F=Wn(nn.current);m=ie(T,m,l,v,x,F),(u.updateQueue=m)&&Sn(u)}},vr=function(l,u,m,v){m!==v&&Sn(u)};else if(Ue){xt=function(l,u,m,v){for(var x=u.child;x!==null;){if(x.tag===5){var T=x.stateNode;m&&v&&(T=Sr(T,x.type,x.memoizedProps,x)),U(l,T)}else if(x.tag===6)T=x.stateNode,m&&v&&(T=xa(T,x.memoizedProps,x)),U(l,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),xt(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var Uc=function(l,u,m,v){for(var x=u.child;x!==null;){if(x.tag===5){var T=x.stateNode;m&&v&&(T=Sr(T,x.type,x.memoizedProps,x)),fn(l,T)}else if(x.tag===6)T=x.stateNode,m&&v&&(T=xa(T,x.memoizedProps,x)),fn(l,T);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(T=x.child)!==null&&(T.return=x),Uc(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};xn=function(l,u){var m=u.stateNode;if(!Dh(l,u)){l=m.containerInfo;var v=gr(l);Uc(v,u,!1,!1),m.pendingChildren=v,Sn(u),_a(l,v)}},sr=function(l,u,m,v,x){var T=l.stateNode,F=l.memoizedProps;if((l=Dh(l,u))&&F===v)u.stateNode=T;else{var $=u.stateNode,te=Wn(nn.current),he=null;F!==v&&(he=ie($,m,F,v,x,te)),l&&he===null?u.stateNode=T:(T=ti(T,he,m,F,v,u,l,$),X(T,m,v,x,te)&&Sn(u),u.stateNode=T,l?Sn(u):xt(T,u,!1,!1))}},vr=function(l,u,m,v){m!==v?(l=Wn(as.current),m=Wn(nn.current),u.stateNode=pe(v,l,m,u),Sn(u)):u.stateNode=l.stateNode}}else xn=function(){},sr=function(){},vr=function(){};function bn(l,u){if(!Pt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Zt(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(u)for(var x=l.child;x!==null;)m|=x.lanes|x.childLanes,v|=14680064&x.subtreeFlags,v|=14680064&x.flags,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)m|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=v,l.childLanes=m,u}function qa(l,u,m){var v=u.pendingProps;switch(Ql(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(u),null;case 1:case 17:return Tr(u.type)&&Fs(),Zt(u),null;case 3:return m=u.stateNode,Hs(),ft(Hr),ft(br),sn(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),l!==null&&l.child!==null||(Jl(u)?Sn(u):l===null||l.memoizedState.isDehydrated&&(256&u.flags)==0||(u.flags|=1024,Hn!==null&&(cl(Hn),Hn=null))),xn(l,u),Zt(u),null;case 5:mh(u),m=Wn(as.current);var x=u.type;if(l!==null&&u.stateNode!=null)sr(l,u,x,v,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(o(166));return Zt(u),null}if(l=Wn(nn.current),Jl(u)){if(!We)throw Error(o(175));l=zn(u.stateNode,u.type,u.memoizedProps,m,l,u,!bi),u.updateQueue=l,l!==null&&Sn(u)}else{var T=R(x,v,m,l,u);xt(T,u,!1,!1),u.stateNode=T,X(T,x,v,m,l)&&Sn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Zt(u),null;case 6:if(l&&u.stateNode!=null)vr(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(o(166));if(l=Wn(as.current),m=Wn(nn.current),Jl(u)){if(!We)throw Error(o(176));if(l=u.stateNode,m=u.memoizedProps,(v=bo(l,m,u,!bi))&&(x=Nt)!==null)switch(x.tag){case 3:Af(x.stateNode.containerInfo,l,m,(1&x.mode)!=0);break;case 5:$t(x.type,x.memoizedProps,x.stateNode,l,m,(1&x.mode)!=0)}v&&Sn(u)}else u.stateNode=pe(v,l,m,u)}return Zt(u),null;case 13:if(ft(Ht),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Pt&&yr!==null&&(1&u.mode)!=0&&(128&u.flags)==0)Pc(),Ia(),u.flags|=98560,x=!1;else if(x=Jl(u),v!==null&&v.dehydrated!==null){if(l===null){if(!x)throw Error(o(318));if(!We)throw Error(o(344));if(!(x=(x=u.memoizedState)!==null?x.dehydrated:null))throw Error(o(317));jl(x,u)}else Ia(),(128&u.flags)==0&&(u.memoizedState=null),u.flags|=4;Zt(u),x=!1}else Hn!==null&&(cl(Hn),Hn=null),x=!0;if(!x)return 65536&u.flags?u:null}return(128&u.flags)!=0?(u.lanes=m,u):((m=v!==null)!=(l!==null&&l.memoizedState!==null)&&m&&(u.child.flags|=8192,(1&u.mode)!=0&&(l===null||(1&Ht.current)!=0?tr===0&&(tr=3):Tu())),u.updateQueue!==null&&(u.flags|=4),Zt(u),null);case 4:return Hs(),xn(l,u),l===null&&He(u.stateNode.containerInfo),Zt(u),null;case 10:return Go(u.type._context),Zt(u),null;case 19:if(ft(Ht),(x=u.memoizedState)===null)return Zt(u),null;if(v=(128&u.flags)!=0,(T=x.rendering)===null)if(v)bn(x,!1);else{if(tr!==0||l!==null&&(128&l.flags)!=0)for(l=u.child;l!==null;){if((T=iu(l))!==null){for(u.flags|=128,bn(x,!1),(l=T.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,m=u.child;m!==null;)x=l,(v=m).flags&=14680066,(T=v.alternate)===null?(v.childLanes=0,v.lanes=x,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,x=T.dependencies,v.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),m=m.sibling;return Ct(Ht,1&Ht.current|2),u.child}l=l.sibling}x.tail!==null&&Dt()>ul&&(u.flags|=128,v=!0,bn(x,!1),u.lanes=4194304)}else{if(!v)if((l=iu(T))!==null){if(u.flags|=128,v=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),bn(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!Pt)return Zt(u),null}else 2*Dt()-x.renderingStartTime>ul&&m!==1073741824&&(u.flags|=128,v=!0,bn(x,!1),u.lanes=4194304);x.isBackwards?(T.sibling=u.child,u.child=T):((l=x.last)!==null?l.sibling=T:u.child=T,x.last=T)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=Dt(),u.sibling=null,l=Ht.current,Ct(Ht,v?1&l|2:1&l),u):(Zt(u),null);case 22:case 23:return Js(),m=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(u.flags|=8192),m&&(1&u.mode)!=0?(1073741824&er)!=0&&(Zt(u),Me&&6&u.subtreeFlags&&(u.flags|=8192)):Zt(u),null;case 24:case 25:return null}throw Error(o(156,u.tag))}function _u(l,u){switch(Ql(u),u.tag){case 1:return Tr(u.type)&&Fs(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Hs(),ft(Hr),ft(br),sn(),(65536&(l=u.flags))!=0&&(128&l)==0?(u.flags=-65537&l|128,u):null;case 5:return mh(u),null;case 13:if(ft(Ht),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(o(340));Ia()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return ft(Ht),null;case 4:return Hs(),null;case 10:return Go(u.type._context),null;case 22:case 23:return Js(),null;default:return null}}var Vs=!1,Tt=!1,Tn=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function $r(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){At(l,u,v)}else m.current=null}function ai(l,u,m){try{m()}catch(v){At(l,u,v)}}var fs=!1;function Qa(l,u,m){var v=u.updateQueue;if((v=v!==null?v.lastEffect:null)!==null){var x=v=v.next;do{if((x.tag&l)===l){var T=x.destroy;x.destroy=void 0,T!==void 0&&ai(u,m,T)}x=x.next}while(x!==v)}}function Ka(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var m=u=u.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function rl(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag===5?l=L(m):l=m,typeof u=="function"?u(l):u.current=l}}function Xr(l){var u=l.alternate;u!==null&&(l.alternate=null,Xr(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&kt(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Yr(l){return l.tag===5||l.tag===3||l.tag===4}function Ft(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Yr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function an(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?ya(m,l,u):Qi(m,l);else if(v!==4&&(l=l.child)!==null)for(an(l,u,m),l=l.sibling;l!==null;)an(l,u,m),l=l.sibling}function xu(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?zl(m,l,u):ga(m,l);else if(v!==4&&(l=l.child)!==null)for(xu(l,u,m),l=l.sibling;l!==null;)xu(l,u,m),l=l.sibling}var Cr=null,An=!1;function Cn(l,u,m){for(m=m.child;m!==null;)wu(l,u,m),m=m.sibling}function wu(l,u,m){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Lo,m)}catch{}switch(m.tag){case 5:Tt||$r(m,u);case 6:if(Me){var v=Cr,x=An;Cr=null,Cn(l,u,m),An=x,(Cr=v)!==null&&(An?re(Cr,m.stateNode):va(Cr,m.stateNode))}else Cn(l,u,m);break;case 18:Me&&Cr!==null&&(An?Ao(Cr,m.stateNode):Wl(Cr,m.stateNode));break;case 4:Me?(v=Cr,x=An,Cr=m.stateNode.containerInfo,An=!0,Cn(l,u,m),Cr=v,An=x):(Ue&&(v=m.stateNode.containerInfo,x=gr(v),Bn(v,x)),Cn(l,u,m));break;case 0:case 11:case 14:case 15:if(!Tt&&(v=m.updateQueue)!==null&&(v=v.lastEffect)!==null){x=v=v.next;do{var T=x,F=T.destroy;T=T.tag,F!==void 0&&((2&T)!=0||(4&T)!=0)&&ai(m,u,F),x=x.next}while(x!==v)}Cn(l,u,m);break;case 1:if(!Tt&&($r(m,u),typeof(v=m.stateNode).componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch($){At(m,u,$)}Cn(l,u,m);break;case 21:Cn(l,u,m);break;case 22:1&m.mode?(Tt=(v=Tt)||m.memoizedState!==null,Cn(l,u,m),Tt=v):Cn(l,u,m);break;default:Cn(l,u,m)}}function nl(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new Tn),u.forEach(function(v){var x=Hc.bind(null,l,v);m.has(v)||(m.add(v),v.then(x,x))})}}function Pn(l,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var x=m[v];try{var T=l,F=u;if(Me){var $=F;e:for(;$!==null;){switch($.tag){case 5:Cr=$.stateNode,An=!1;break e;case 3:case 4:Cr=$.stateNode.containerInfo,An=!0;break e}$=$.return}if(Cr===null)throw Error(o(160));wu(T,F,x),Cr=null,An=!1}else wu(T,F,x);var te=x.alternate;te!==null&&(te.return=null),x.return=null}catch(he){At(x,u,he)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)$s(u,l),u=u.sibling}function $s(l,u){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Pn(u,l),Rn(l),4&v){try{Qa(3,l,l.return),Ka(3,l)}catch(de){At(l,l.return,de)}try{Qa(5,l,l.return)}catch(de){At(l,l.return,de)}}break;case 1:Pn(u,l),Rn(l),512&v&&m!==null&&$r(m,m.return);break;case 5:if(Pn(u,l),Rn(l),512&v&&m!==null&&$r(m,m.return),Me){if(32&l.flags){var x=l.stateNode;try{se(x)}catch(de){At(l,l.return,de)}}if(4&v&&(x=l.stateNode)!=null){var T=l.memoizedProps;if(m=m!==null?m.memoizedProps:T,v=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{eh(x,u,v,m,T,l)}catch(de){At(l,l.return,de)}}}break;case 6:if(Pn(u,l),Rn(l),4&v&&Me){if(l.stateNode===null)throw Error(o(162));x=l.stateNode,T=l.memoizedProps,m=m!==null?m.memoizedProps:T;try{yi(x,m,T)}catch(de){At(l,l.return,de)}}break;case 3:if(Pn(u,l),Rn(l),4&v){if(Me&&We&&m!==null&&m.memoizedState.isDehydrated)try{_i(u.containerInfo)}catch(de){At(l,l.return,de)}if(Ue){x=u.containerInfo,T=u.pendingChildren;try{Bn(x,T)}catch(de){At(l,l.return,de)}}}break;case 4:if(Pn(u,l),Rn(l),4&v&&Ue){x=(T=l.stateNode).containerInfo,T=T.pendingChildren;try{Bn(x,T)}catch(de){At(l,l.return,de)}}break;case 13:Pn(u,l),Rn(l),8192&(x=l.child).flags&&(T=x.memoizedState!==null,x.stateNode.isHidden=T,!T||x.alternate!==null&&x.alternate.memoizedState!==null||(Ni=Dt())),4&v&&nl(l);break;case 22:var F=m!==null&&m.memoizedState!==null;if(1&l.mode?(Tt=(m=Tt)||F,Pn(u,l),Tt=m):Pn(u,l),Rn(l),8192&v){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!F&&(1&l.mode)!=0)for(Ne=l,v=l.child;v!==null;){for(u=Ne=v;Ne!==null;){var $=(F=Ne).child;switch(F.tag){case 0:case 11:case 14:case 15:Qa(4,F,F.return);break;case 1:$r(F,F.return);var te=F.stateNode;if(typeof te.componentWillUnmount=="function"){var he=F,me=F.return;try{var Ie=he;te.props=Ie.memoizedProps,te.state=Ie.memoizedState,te.componentWillUnmount()}catch(de){At(he,me,de)}}break;case 5:$r(F,F.return);break;case 22:if(F.memoizedState!==null){Nh(u);continue}}$!==null?($.return=F,Ne=$):Nh(u)}v=v.sibling}if(Me){e:if(v=null,Me)for(u=l;;){if(u.tag===5){if(v===null){v=u;try{x=u.stateNode,m?ht(x):Et(u.stateNode,u.memoizedProps)}catch(de){At(l,l.return,de)}}}else if(u.tag===6){if(v===null)try{T=u.stateNode,m?_t(T):tt(T,u.memoizedProps)}catch(de){At(l,l.return,de)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Pn(u,l),Rn(l),4&v&&nl(l);break;case 21:break;default:Pn(u,l),Rn(l)}}function Rn(l){var u=l.flags;if(2&u){try{if(Me){e:{for(var m=l.return;m!==null;){if(Yr(m)){var v=m;break e}m=m.return}throw Error(o(160))}switch(v.tag){case 5:var x=v.stateNode;32&v.flags&&(se(x),v.flags&=-33),xu(l,Ft(l),x);break;case 3:case 4:var T=v.stateNode.containerInfo;an(l,Ft(l),T);break;default:throw Error(o(161))}}}catch(F){At(l,l.return,F)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function Df(l,u,m){Ne=l,Za(l)}function Za(l,u,m){for(var v=(1&l.mode)!=0;Ne!==null;){var x=Ne,T=x.child;if(x.tag===22&&v){var F=x.memoizedState!==null||Vs;if(!F){var $=x.alternate,te=$!==null&&$.memoizedState!==null||Tt;$=Vs;var he=Tt;if(Vs=F,(Tt=te)&&!he)for(Ne=x;Ne!==null;)te=(F=Ne).child,F.tag===22&&F.memoizedState!==null?Fh(x):te!==null?(te.return=F,Ne=te):Fh(x);for(;T!==null;)Ne=T,Za(T),T=T.sibling;Ne=x,Vs=$,Tt=he}il(l)}else(8772&x.subtreeFlags)!=0&&T!==null?(T.return=x,Ne=T):il(l)}}function il(l){for(;Ne!==null;){var u=Ne;if((8772&u.flags)!=0){var m=u.alternate;try{if((8772&u.flags)!=0)switch(u.tag){case 0:case 11:case 15:Tt||Ka(5,u);break;case 1:var v=u.stateNode;if(4&u.flags&&!Tt)if(m===null)v.componentDidMount();else{var x=u.elementType===u.type?m.memoizedProps:jn(u.type,m.memoizedProps);v.componentDidUpdate(x,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&dh(u,T,v);break;case 3:var F=u.updateQueue;if(F!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=L(u.child.stateNode);break;case 1:m=u.child.stateNode}dh(u,F,m)}break;case 5:var $=u.stateNode;m===null&&4&u.flags&&Ki($,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(We&&u.memoizedState===null){var te=u.alternate;if(te!==null){var he=te.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&ks(me)}}}break;default:throw Error(o(163))}Tt||512&u.flags&&rl(u)}catch(Ie){At(u,u.return,Ie)}}if(u===l){Ne=null;break}if((m=u.sibling)!==null){m.return=u.return,Ne=m;break}Ne=u.return}}function Nh(l){for(;Ne!==null;){var u=Ne;if(u===l){Ne=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Ne=m;break}Ne=u.return}}function Fh(l){for(;Ne!==null;){var u=Ne;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Ka(4,u)}catch(te){At(u,m,te)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var x=u.return;try{v.componentDidMount()}catch(te){At(u,x,te)}}var T=u.return;try{rl(u)}catch(te){At(u,T,te)}break;case 5:var F=u.return;try{rl(u)}catch(te){At(u,F,te)}}}catch(te){At(u,u.return,te)}if(u===l){Ne=null;break}var $=u.sibling;if($!==null){$.return=u.return,Ne=$;break}Ne=u.return}}var Ii=0,sl=1,Xs=2,Ys=3,Mi=4;if(typeof Symbol=="function"&&Symbol.for){var qs=Symbol.for;Ii=qs("selector.component"),sl=qs("selector.has_pseudo_class"),Xs=qs("selector.role"),Ys=qs("selector.test_id"),Mi=qs("selector.text")}function al(l){var u=ot(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(o(364));return u}if((l=dr(l))===null)throw Error(o(362));return l.stateNode.current}function ol(l,u){switch(u.$$typeof){case Ii:if(l.type===u.value)return!0;break;case sl:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var v=l[m++],x=l[m++],T=u[x];if(v.tag!==5||!Jr(v)){for(;T!=null&&ol(v,T);)T=u[++x];if(x===u.length){u=!0;break e}for(v=v.child;v!==null;)l.push(v,x),v=v.sibling}}u=!1}return u;case Xs:if(l.tag===5&&Bl(l.stateNode,u.value))return!0;break;case Mi:if((l.tag===5||l.tag===6)&&(l=gi(l))!==null&&0<=l.indexOf(u.value))return!0;break;case Ys:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(o(365))}return!1}function ll(l){switch(l.$$typeof){case Ii:return"<"+(K(l.value)||"Unknown")+">";case sl:return":has("+(ll(l)||"")+")";case Xs:return'[role="'+l.value+'"]';case Mi:return'"'+l.value+'"';case Ys:return'[data-testname="'+l.value+'"]';default:throw Error(o(365))}}function Qs(l,u){var m=[];l=[l,0];for(var v=0;v<l.length;){var x=l[v++],T=l[v++],F=u[T];if(x.tag!==5||!Jr(x)){for(;F!=null&&ol(x,F);)F=u[++T];if(T===u.length)m.push(x);else for(x=x.child;x!==null;)l.push(x,T),x=x.sibling}}return m}function qr(l,u){if(!cr)throw Error(o(363));l=Qs(l=al(l),u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var v=l[m++];if(v.tag===5)Jr(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)l.push(v),v=v.sibling}return u}var Ks=Math.ceil,Ja=c.ReactCurrentDispatcher,Eu=c.ReactCurrentOwner,St=c.ReactCurrentBatchConfig,nt=0,Jt=null,Xt=null,Ot=0,er=0,ki=Gn(0),tr=0,ps=null,ms=0,gs=0,In=0,Di=null,_r=null,Ni=0,ul=1/0,on=null;function Zs(){ul=Dt()+500}var Su,Mt=!1,eo=null,oi=null,to=!1,$n=null,ro=0,Xn=0,Lt=null,Wt=-1,Yt=0;function ar(){return(6&nt)!=0?Dt():Wt!==-1?Wt:Wt=Dt()}function Mn(l){return(1&l.mode)==0?1:(2&nt)!=0&&Ot!==0?Ot&-Ot:Pf.transition!==null?(Yt===0&&(Yt=ih()),Yt):(l=ct)!==0?l:Ve()}function Pr(l,u,m,v){if(50<Xn)throw Xn=0,Lt=null,Error(o(185));Sa(l,m,v),(2&nt)!=0&&l===Jt||(l===Jt&&((2&nt)==0&&(gs|=m),tr===4&&li(l,Ot)),Qr(l,v),m===1&&nt===0&&(1&u.mode)==0&&(Zs(),ts&&tn()))}function Qr(l,u){var m=l.callbackNode;(function(x,T){for(var F=x.suspendedLanes,$=x.pingedLanes,te=x.expirationTimes,he=x.pendingLanes;0<he;){var me=31-mn(he),Ie=1<<me,de=te[me];de===-1?(Ie&F)!=0&&(Ie&$)==0||(te[me]=Ac(Ie,T)):de<=T&&(x.expiredLanes|=Ie),he&=~Ie}})(l,u);var v=ko(l,l===Jt?Ot:0);if(v===0)m!==null&&Ei(m),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(m!=null&&Ei(m),u===1)l.tag===0?function(x){ts=!0,Ls(x)}(Yn.bind(null,l)):Ls(Yn.bind(null,l)),Gt?Jn(function(){(6&nt)==0&&tn()}):ri(sh,tn),m=null;else{switch(wi(v)){case 1:m=sh;break;case 4:m=Cc;break;case 16:default:m=ba;break;case 536870912:m=Cf}m=Hh(m,xr.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function xr(l,u){if(Wt=-1,Yt=0,(6&nt)!=0)throw Error(o(327));var m=l.callbackNode;if(qn()&&l.callbackNode!==m)return null;var v=ko(l,l===Jt?Ot:0);if(v===0)return null;if((30&v)!=0||(v&l.expiredLanes)!=0||u)u=dl(l,v);else{u=v;var x=nt;nt|=2;var T=Oh();for(Jt===l&&Ot===u||(on=null,Zs(),Fi(l,u));;)try{Gc();break}catch($){bu(l,$)}lh(),Ja.current=T,nt=x,Xt!==null?u=0:(Jt=null,Ot=0,u=tr)}if(u!==0){if(u===2&&(x=Do(l))!==0&&(v=x,u=hl(l,x)),u===1)throw m=ps,Fi(l,0),li(l,v),Qr(l,Dt()),m;if(u===6)li(l,v);else{if(x=l.current.alternate,(30&v)==0&&!function($){for(var te=$;;){if(16384&te.flags){var he=te.updateQueue;if(he!==null&&(he=he.stores)!==null)for(var me=0;me<he.length;me++){var Ie=he[me],de=Ie.getSnapshot;Ie=Ie.value;try{if(!gn(de(),Ie))return!1}catch{return!1}}}if(he=te.child,16384&te.subtreeFlags&&he!==null)he.return=te,te=he;else{if(te===$)break;for(;te.sibling===null;){if(te.return===null||te.return===$)return!0;te=te.return}te.sibling.return=te.return,te=te.sibling}}return!0}(x)&&((u=dl(l,v))===2&&(T=Do(l))!==0&&(v=T,u=hl(l,T)),u===1))throw m=ps,Fi(l,0),li(l,v),Qr(l,Dt()),m;switch(l.finishedWork=x,l.finishedLanes=v,u){case 0:case 1:throw Error(o(345));case 2:case 5:ea(l,_r,on);break;case 3:if(li(l,v),(130023424&v)===v&&10<(u=Ni+500-Dt())){if(ko(l,0)!==0)break;if(((x=l.suspendedLanes)&v)!==v){ar(),l.pingedLanes|=l.suspendedLanes&x;break}l.timeoutHandle=_e(ea.bind(null,l,_r,on),u);break}ea(l,_r,on);break;case 4:if(li(l,v),(4194240&v)===v)break;for(u=l.eventTimes,x=-1;0<v;){var F=31-mn(v);T=1<<F,(F=u[F])>x&&(x=F),v&=~T}if(v=x,10<(v=(120>(v=Dt()-v)?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Ks(v/1960))-v)){l.timeoutHandle=_e(ea.bind(null,l,_r,on),v);break}ea(l,_r,on);break;default:throw Error(o(329))}}}return Qr(l,Dt()),l.callbackNode===m?xr.bind(null,l):null}function hl(l,u){var m=Di;return l.current.memoizedState.isDehydrated&&(Fi(l,u).flags|=256),(l=dl(l,u))!==2&&(u=_r,_r=m,u!==null&&cl(u)),l}function cl(l){_r===null?_r=l:_r.push.apply(_r,l)}function li(l,u){for(u&=~In,u&=~gs,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-mn(u),v=1<<m;l[m]=-1,u&=~v}}function Yn(l){if((6&nt)!=0)throw Error(o(327));qn();var u=ko(l,0);if((1&u)==0)return Qr(l,Dt()),null;var m=dl(l,u);if(l.tag!==0&&m===2){var v=Do(l);v!==0&&(u=v,m=hl(l,v))}if(m===1)throw m=ps,Fi(l,0),li(l,u),Qr(l,Dt()),m;if(m===6)throw Error(o(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,ea(l,_r,on),Qr(l,Dt()),null}function ln(l){$n!==null&&$n.tag===0&&(6&nt)==0&&qn();var u=nt;nt|=1;var m=St.transition,v=ct;try{if(St.transition=null,ct=1,l)return l()}finally{ct=v,St.transition=m,(6&(nt=u))==0&&tn()}}function Js(){er=ki.current,ft(ki)}function Fi(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==Re&&(l.timeoutHandle=Re,be(m)),Xt!==null)for(m=Xt.return;m!==null;){var v=m;switch(Ql(v),v.tag){case 1:(v=v.type.childContextTypes)!=null&&Fs();break;case 3:Hs(),ft(Hr),ft(br),sn();break;case 5:mh(v);break;case 4:Hs();break;case 13:case 19:ft(Ht);break;case 10:Go(v.type._context);break;case 22:case 23:Js()}m=m.return}if(Jt=l,Xt=l=Oi(l.current,null),Ot=er=u,tr=0,ps=null,In=gs=ms=0,_r=Di=null,ns!==null){for(u=0;u<ns.length;u++)if((v=(m=ns[u]).interleaved)!==null){m.interleaved=null;var x=v.next,T=m.pending;if(T!==null){var F=T.next;T.next=x,v.next=F}m.pending=v}ns=null}return l}function bu(l,u){for(;;){var m=Xt;try{if(lh(),os.current=ja,au){for(var v=Bt.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}au=!1}if(ls=0,Qt=ir=Bt=null,Xo=!1,si=0,Eu.current=null,m===null||m.return===null){tr=1,ps=u,Xt=null;break}e:{var T=l,F=m.return,$=m,te=u;if(u=Ot,$.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var he=te,me=$,Ie=me.tag;if((1&me.mode)==0&&(Ie===0||Ie===11||Ie===15)){var de=me.alternate;de?(me.updateQueue=de.updateQueue,me.memoizedState=de.memoizedState,me.lanes=de.lanes):(me.updateQueue=null,me.memoizedState=null)}var Se=js(F);if(Se!==null){Se.flags&=-257,Vn(Se,F,$,0,u),1&Se.mode&&Ih(T,he,u),te=he;var ze=(u=Se).updateQueue;if(ze===null){var st=new Set;st.add(te),u.updateQueue=st}else ze.add(te);break e}if((1&u)==0){Ih(T,he,u),Tu();break e}te=Error(o(426))}else if(Pt&&1&$.mode){var ge=js(F);if(ge!==null){(65536&ge.flags)==0&&(ge.flags|=256),Vn(ge,F,$,0,u),Uo(Wa(te,$));break e}}T=te=Wa(te,$),tr!==4&&(tr=2),Di===null?Di=[T]:Di.push(T),T=F;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u,kc(T,yu(0,te,u));break e;case 1:$=te;var q=T.type,oe=T.stateNode;if((128&T.flags)==0&&(typeof q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(oi===null||!oi.has(oe)))){T.flags|=65536,u&=-u,T.lanes|=u,kc(T,Ci(T,$,u));break e}}T=T.return}while(T!==null)}Bh(m)}catch(we){u=we,Xt===m&&m!==null&&(Xt=m=m.return);continue}break}}function Oh(){var l=Ja.current;return Ja.current=ja,l===null?ja:l}function Tu(){tr!==0&&tr!==3&&tr!==2||(tr=4),Jt===null||(268435455&ms)==0&&(268435455&gs)==0||li(Jt,Ot)}function dl(l,u){var m=nt;nt|=2;var v=Oh();for(Jt===l&&Ot===u||(on=null,Fi(l,u));;)try{zc();break}catch(x){bu(l,x)}if(lh(),nt=m,Ja.current=v,Xt!==null)throw Error(o(261));return Jt=null,Ot=0,tr}function zc(){for(;Xt!==null;)Lh(Xt)}function Gc(){for(;Xt!==null&&!Fo();)Lh(Xt)}function Lh(l){var u=Su(l.alternate,l,er);l.memoizedProps=l.pendingProps,u===null?Bh(l):Xt=u,Eu.current=null}function Bh(l){var u=l;do{var m=u.alternate;if(l=u.return,(32768&u.flags)==0){if((m=qa(m,u,er))!==null)return void(Xt=m)}else{if((m=_u(m,u))!==null)return m.flags&=32767,void(Xt=m);if(l===null)return tr=6,void(Xt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Xt=u);Xt=u=l}while(u!==null);tr===0&&(tr=5)}function ea(l,u,m){var v=ct,x=St.transition;try{St.transition=null,ct=1,function(T,F,$,te){do qn();while($n!==null);if((6&nt)!=0)throw Error(o(327));$=T.finishedWork;var he=T.finishedLanes;if($===null)return null;if(T.finishedWork=null,T.finishedLanes=0,$===T.current)throw Error(o(177));T.callbackNode=null,T.callbackPriority=0;var me=$.lanes|$.childLanes;if(function(Se,ze){var st=Se.pendingLanes&~ze;Se.pendingLanes=ze,Se.suspendedLanes=0,Se.pingedLanes=0,Se.expiredLanes&=ze,Se.mutableReadLanes&=ze,Se.entangledLanes&=ze,ze=Se.entanglements;var ge=Se.eventTimes;for(Se=Se.expirationTimes;0<st;){var q=31-mn(st),oe=1<<q;ze[q]=0,ge[q]=-1,Se[q]=-1,st&=~oe}}(T,me),T===Jt&&(Xt=Jt=null,Ot=0),(2064&$.subtreeFlags)==0&&(2064&$.flags)==0||to||(to=!0,Hh(ba,function(){return qn(),null})),me=(15990&$.flags)!=0,(15990&$.subtreeFlags)!=0||me){me=St.transition,St.transition=null;var Ie=ct;ct=1;var de=nt;nt|=4,Eu.current=null,function(Se,ze){for(H(Se.containerInfo),Ne=ze;Ne!==null;)if(ze=(Se=Ne).child,(1028&Se.subtreeFlags)!=0&&ze!==null)ze.return=Se,Ne=ze;else for(;Ne!==null;){Se=Ne;try{var st=Se.alternate;if((1024&Se.flags)!=0)switch(Se.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(st!==null){var ge=st.memoizedProps,q=st.memoizedState,oe=Se.stateNode,we=oe.getSnapshotBeforeUpdate(Se.elementType===Se.type?ge:jn(Se.type,ge),q);oe.__reactInternalSnapshotBeforeUpdate=we}break;case 3:Me&&Nr(Se.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(Qe){At(Se,Se.return,Qe)}if((ze=Se.sibling)!==null){ze.return=Se.return,Ne=ze;break}Ne=Se.return}st=fs,fs=!1}(T,$),$s($,T),D(T.containerInfo),T.current=$,Df($),Oo(),nt=de,ct=Ie,St.transition=me}else T.current=$;if(to&&(to=!1,$n=T,ro=he),me=T.pendingLanes,me===0&&(oi=null),function(Se){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Lo,Se,void 0,(128&Se.current.flags)==128)}catch{}}($.stateNode),Qr(T,Dt()),F!==null)for(te=T.onRecoverableError,$=0;$<F.length;$++)he=F[$],te(he.value,{componentStack:he.stack,digest:he.digest});if(Mt)throw Mt=!1,T=eo,eo=null,T;(1&ro)!=0&&T.tag!==0&&qn(),me=T.pendingLanes,(1&me)!=0?T===Lt?Xn++:(Xn=0,Lt=T):Xn=0,tn()}(l,u,m,v)}finally{St.transition=x,ct=v}return null}function qn(){if($n!==null){var l=wi(ro),u=St.transition,m=ct;try{if(St.transition=null,ct=16>l?16:l,$n===null)var v=!1;else{if(l=$n,$n=null,ro=0,(6&nt)!=0)throw Error(o(331));var x=nt;for(nt|=4,Ne=l.current;Ne!==null;){var T=Ne,F=T.child;if((16&Ne.flags)!=0){var $=T.deletions;if($!==null){for(var te=0;te<$.length;te++){var he=$[te];for(Ne=he;Ne!==null;){var me=Ne;switch(me.tag){case 0:case 11:case 15:Qa(8,me,T)}var Ie=me.child;if(Ie!==null)Ie.return=me,Ne=Ie;else for(;Ne!==null;){var de=(me=Ne).sibling,Se=me.return;if(Xr(me),me===he){Ne=null;break}if(de!==null){de.return=Se,Ne=de;break}Ne=Se}}}var ze=T.alternate;if(ze!==null){var st=ze.child;if(st!==null){ze.child=null;do{var ge=st.sibling;st.sibling=null,st=ge}while(st!==null)}}Ne=T}}if((2064&T.subtreeFlags)!=0&&F!==null)F.return=T,Ne=F;else e:for(;Ne!==null;){if((2048&(T=Ne).flags)!=0)switch(T.tag){case 0:case 11:case 15:Qa(9,T,T.return)}var q=T.sibling;if(q!==null){q.return=T.return,Ne=q;break e}Ne=T.return}}var oe=l.current;for(Ne=oe;Ne!==null;){var we=(F=Ne).child;if((2064&F.subtreeFlags)!=0&&we!==null)we.return=F,Ne=we;else e:for(F=oe;Ne!==null;){if((2048&($=Ne).flags)!=0)try{switch($.tag){case 0:case 11:case 15:Ka(9,$)}}catch(gt){At($,$.return,gt)}if($===F){Ne=null;break e}var Qe=$.sibling;if(Qe!==null){Qe.return=$.return,Ne=Qe;break e}Ne=$.return}}if(nt=x,tn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Lo,l)}catch{}v=!0}return v}finally{ct=m,St.transition=u}}return!1}function Uh(l,u,m){l=ii(l,u=yu(0,u=Wa(m,u),1),1),u=ar(),l!==null&&(Sa(l,1,u),Qr(l,u))}function At(l,u,m){if(l.tag===3)Uh(l,l,m);else for(;u!==null;){if(u.tag===3){Uh(u,l,m);break}if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(oi===null||!oi.has(v))){u=ii(u,l=Ci(u,l=Wa(m,l),1),1),l=ar(),u!==null&&(Sa(u,1,l),Qr(u,l));break}}u=u.return}}function Au(l,u,m){var v=l.pingCache;v!==null&&v.delete(u),u=ar(),l.pingedLanes|=l.suspendedLanes&m,Jt===l&&(Ot&m)===m&&(tr===4||tr===3&&(130023424&Ot)===Ot&&500>Dt()-Ni?Fi(l,0):In|=m),Qr(l,u)}function zh(l,u){u===0&&((1&l.mode)==0?u=1:(u=Mo,(130023424&(Mo<<=1))==0&&(Mo=4194304)));var m=ar();(l=ni(l,u))!==null&&(Sa(l,u,m),Qr(l,m))}function Gh(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),zh(l,m)}function Hc(l,u){var m=0;switch(l.tag){case 13:var v=l.stateNode,x=l.memoizedState;x!==null&&(m=x.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(o(314))}v!==null&&v.delete(u),zh(l,m)}function Hh(l,u){return ri(l,u)}function jc(l,u,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(l,u,m,v){return new jc(l,u,m,v)}function fl(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Oi(l,u){var m=l.alternate;return m===null?((m=un(l.tag,u,l.key,l.mode)).elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&l.flags,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function pl(l,u,m,v,x,T){var F=2;if(v=l,typeof l=="function")fl(l)&&(F=1);else if(typeof l=="string")F=5;else e:switch(l){case g:return ys(m.children,x,T,u);case _:F=8,x|=8;break;case w:return(l=un(12,m,u,2|x)).elementType=w,l.lanes=T,l;case M:return(l=un(13,m,u,x)).elementType=M,l.lanes=T,l;case P:return(l=un(19,m,u,x)).elementType=P,l.lanes=T,l;case O:return Cu(m,x,T,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case S:F=10;break e;case b:F=9;break e;case A:F=11;break e;case k:F=14;break e;case z:F=16,v=null;break e}throw Error(o(130,l==null?l:typeof l,""))}return(u=un(F,m,u,x)).elementType=l,u.type=v,u.lanes=T,u}function ys(l,u,m,v){return(l=un(7,l,v,u)).lanes=m,l}function Cu(l,u,m,v){return(l=un(22,l,v,u)).elementType=O,l.lanes=m,l.stateNode={isHidden:!1},l}function Pu(l,u,m){return(l=un(6,l,null,u)).lanes=m,l}function jh(l,u,m){return(u=un(4,l.children!==null?l.children:[],l.key,u)).lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Nf(l,u,m,v,x){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=v,this.onRecoverableError=x,We&&(this.mutableSourceEagerHydrationData=null)}function Wh(l,u,m,v,x,T,F,$,te){return l=new Nf(l,u,m,$,te),u===1?(u=1,T===!0&&(u|=8)):u=0,T=un(3,null,null,u),l.current=T,T.stateNode=l,T.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ch(T),l}function Vh(l){if(!l)return fr;e:{if(J(l=l._reactInternals)!==l||l.tag!==1)throw Error(o(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Tr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(o(171))}if(l.tag===1){var m=l.type;if(Tr(m))return Tc(l,m,u)}return u}function $h(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(o(188)):(l=Object.keys(l).join(","),Error(o(268,l)));return(l=Pe(u))===null?null:l.stateNode}function ml(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Ru(l,u){ml(l,u),(l=l.alternate)&&ml(l,u)}function Ff(l){return(l=Pe(l))===null?null:l.stateNode}function Of(){return null}return Su=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Hr.current)jt=!0;else{if((l.lanes&m)==0&&(128&u.flags)==0)return jt=!1,function(Ie,de,Se){switch(de.tag){case 3:Pi(de),Ia();break;case 5:Fc(de);break;case 1:Tr(de.type)&&Xl(de);break;case 4:nu(de,de.stateNode.containerInfo);break;case 10:Rc(0,de.type._context,de.memoizedProps.value);break;case 13:var ze=de.memoizedState;if(ze!==null)return ze.dehydrated!==null?(Ct(Ht,1&Ht.current),de.flags|=128,null):(Se&de.child.childLanes)!=0?Or(Ie,de,Se):(Ct(Ht,1&Ht.current),(Ie=En(Ie,de,Se))!==null?Ie.sibling:null);Ct(Ht,1&Ht.current);break;case 19:if(ze=(Se&de.childLanes)!=0,(128&Ie.flags)!=0){if(ze)return kh(Ie,de,Se);de.flags|=128}var st=de.memoizedState;if(st!==null&&(st.rendering=null,st.tail=null,st.lastEffect=null),Ct(Ht,Ht.current),ze)break;return null;case 22:case 23:return de.lanes=0,Va(Ie,de,Se)}return En(Ie,de,Se)}(l,u,m);jt=(131072&l.flags)!=0}else jt=!1,Pt&&(1048576&u.flags)!=0&&Bo(u,Bs,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;wn(l,u),l=u.pendingProps;var x=xi(u,br.current);ka(u,m),x=ou(null,u,v,l,x,m);var T=La();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Tr(v)?(T=!0,Xl(u)):T=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ch(u),x.updater=jo,u.stateNode=x,x._reactInternals=u,ph(u,v,l,m),u=cs(null,u,v,!0,T,m)):(u.tag=0,Pt&&T&&Pa(u),Ar(null,u,x,m),u=u.child),u;case 16:v=u.elementType;e:{switch(wn(l,u),l=u.pendingProps,v=(x=v._init)(v._payload),u.type=v,x=u.tag=function(Ie){if(typeof Ie=="function")return fl(Ie)?1:0;if(Ie!=null){if((Ie=Ie.$$typeof)===A)return 11;if(Ie===k)return 14}return 2}(v),l=jn(v,l),x){case 0:u=$a(null,u,v,l,m);break e;case 1:u=vu(null,u,v,l,m);break e;case 11:u=Lc(null,u,v,l,m);break e;case 14:u=Bc(null,u,v,jn(v.type,l),m);break e}throw Error(o(306,v,""))}return u;case 0:return v=u.type,x=u.pendingProps,$a(l,u,v,x=u.elementType===v?x:jn(v,x),m);case 1:return v=u.type,x=u.pendingProps,vu(l,u,v,x=u.elementType===v?x:jn(v,x),m);case 3:e:{if(Pi(u),l===null)throw Error(o(387));v=u.pendingProps,x=(T=u.memoizedState).element,Mc(l,u),Ho(u,v,null,m);var F=u.memoizedState;if(v=F.element,We&&T.isDehydrated){if(T={element:v,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},u.updateQueue.baseState=T,u.memoizedState=T,256&u.flags){u=It(l,u,v,m,x=Wa(Error(o(423)),u));break e}if(v!==x){u=It(l,u,v,m,x=Wa(Error(o(424)),u));break e}for(We&&(yr=So(u.stateNode.containerInfo),Nt=u,Pt=!0,Hn=null,bi=!1),m=Vo(u,null,v,m),u.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(Ia(),v===x){u=En(l,u,m);break e}Ar(l,u,v,m)}u=u.child}return u;case 5:return Fc(u),l===null&&Ra(u),v=u.type,x=u.pendingProps,T=l!==null?l.memoizedProps:null,F=x.children,ue(v,x)?F=null:T!==null&&ue(v,T)&&(u.flags|=32),Ws(l,u),Ar(l,u,F,m),u.child;case 6:return l===null&&Ra(u),null;case 13:return Or(l,u,m);case 4:return nu(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Oa(u,null,v,m):Ar(l,u,v,m),u.child;case 11:return v=u.type,x=u.pendingProps,Lc(l,u,v,x=u.elementType===v?x:jn(v,x),m);case 7:return Ar(l,u,u.pendingProps,m),u.child;case 8:case 12:return Ar(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,x=u.pendingProps,T=u.memoizedProps,Rc(0,v,F=x.value),T!==null)if(gn(T.value,F)){if(T.children===x.children&&!Hr.current){u=En(l,u,m);break e}}else for((T=u.child)!==null&&(T.return=u);T!==null;){var $=T.dependencies;if($!==null){F=T.child;for(var te=$.firstContext;te!==null;){if(te.context===v){if(T.tag===1){(te=Ti(-1,m&-m)).tag=2;var he=T.updateQueue;if(he!==null){var me=(he=he.shared).pending;me===null?te.next=te:(te.next=me.next,me.next=te),he.pending=te}}T.lanes|=m,(te=T.alternate)!==null&&(te.lanes|=m),uh(T.return,m,u),$.lanes|=m;break}te=te.next}}else if(T.tag===10)F=T.type===u.type?null:T.child;else if(T.tag===18){if((F=T.return)===null)throw Error(o(341));F.lanes|=m,($=F.alternate)!==null&&($.lanes|=m),uh(F,m,u),F=T.sibling}else F=T.child;if(F!==null)F.return=T;else for(F=T;F!==null;){if(F===u){F=null;break}if((T=F.sibling)!==null){T.return=F.return,F=T;break}F=F.return}T=F}Ar(l,u,x.children,m),u=u.child}return u;case 9:return x=u.type,v=u.pendingProps.children,ka(u,m),v=v(x=_n(x)),u.flags|=1,Ar(l,u,v,m),u.child;case 14:return x=jn(v=u.type,u.pendingProps),Bc(l,u,v,x=jn(v.type,x),m);case 15:return hs(l,u,u.type,u.pendingProps,m);case 17:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:jn(v,x),wn(l,u),u.tag=1,Tr(v)?(l=!0,Xl(u)):l=!1,ka(u,m),Dc(u,v,x),ph(u,v,x,m),cs(null,u,v,!0,l,m);case 19:return kh(l,u,m);case 22:return Va(l,u,m)}throw Error(o(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=ni(l,134217728);u!==null&&Pr(u,l,134217728,ar()),Ru(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=ni(l,1);u!==null&&Pr(u,l,1,ar()),Ru(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Mn(l),m=ni(l,u);m!==null&&Pr(m,l,u,ar()),Ru(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=pt(u.pendingLanes);m!==0&&(No(u,1|m),Qr(u,Dt()),(6&nt)==0&&(Zs(),tn()))}break;case 13:ln(function(){var v=ni(l,1);if(v!==null){var x=ar();Pr(v,l,1,x)}}),Ru(l,1)}},e.batchedUpdates=function(l,u){var m=nt;nt|=1;try{return l(u)}finally{(nt=m)===0&&(Zs(),ts&&tn())}},e.createComponentSelector=function(l){return{$$typeof:Ii,value:l}},e.createContainer=function(l,u,m,v,x,T,F){return Wh(l,u,!1,null,0,v,0,T,F)},e.createHasPseudoClassSelector=function(l){return{$$typeof:sl,value:l}},e.createHydrationContainer=function(l,u,m,v,x,T,F,$,te){return(l=Wh(m,v,!0,l,0,T,0,$,te)).context=Vh(null),m=l.current,(T=Ti(v=ar(),x=Mn(m))).callback=u??null,ii(m,T,x),l.current.lanes=x,Sa(l,x,v),Qr(l,v),l},e.createPortal=function(l,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:v==null?null:""+v,children:l,containerInfo:u,implementation:m}},e.createRoleSelector=function(l){return{$$typeof:Xs,value:l}},e.createTestNameSelector=function(l){return{$$typeof:Ys,value:l}},e.createTextSelector=function(l){return{$$typeof:Mi,value:l}},e.deferredUpdates=function(l){var u=ct,m=St.transition;try{return St.transition=null,ct=16,l()}finally{ct=u,St.transition=m}},e.discreteUpdates=function(l,u,m,v,x){var T=ct,F=St.transition;try{return St.transition=null,ct=1,l(u,m,v,x)}finally{ct=T,St.transition=F,nt===0&&Zs()}},e.findAllNodes=qr,e.findBoundingRects=function(l,u){if(!cr)throw Error(o(363));u=qr(l,u),l=[];for(var m=0;m<u.length;m++)l.push(ei(u[m]));for(u=l.length-1;0<u;u--)for(var v=(m=l[u]).x,x=v+m.width,T=m.y,F=T+m.height,$=u-1;0<=$;$--)if(u!==$){var te=l[$],he=te.x,me=he+te.width,Ie=te.y,de=Ie+te.height;if(v>=he&&T>=Ie&&x<=me&&F<=de){l.splice(u,1);break}if(!(v!==he||m.width!==te.width||de<T||Ie>F)){Ie>T&&(te.height+=Ie-T,te.y=T),de<F&&(te.height=F-Ie),l.splice(u,1);break}if(!(T!==Ie||m.height!==te.height||me<v||he>x)){he>v&&(te.width+=he-v,te.x=v),me<x&&(te.width=x-he),l.splice(u,1);break}}return l},e.findHostInstance=$h,e.findHostInstanceWithNoPortals=function(l){return(l=(l=fe(l))!==null?Z(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return $h(l)},e.flushControlled=function(l){var u=nt;nt|=1;var m=St.transition,v=ct;try{St.transition=null,ct=1,l()}finally{ct=v,St.transition=m,(nt=u)===0&&(Zs(),tn())}},e.flushPassiveEffects=qn,e.flushSync=ln,e.focusWithin=function(l,u){if(!cr)throw Error(o(363));for(u=Qs(l=al(l),u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!Jr(m)){if(m.tag===5&&Ul(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ct},e.getFindAllNodesFailureDescription=function(l,u){if(!cr)throw Error(o(363));var m=0,v=[];l=[al(l),0];for(var x=0;x<l.length;){var T=l[x++],F=l[x++],$=u[F];if((T.tag!==5||!Jr(T))&&(ol(T,$)&&(v.push(ll($)),++F>m&&(m=F)),F<u.length))for(T=T.child;T!==null;)l.push(T,F),T=T.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(ll(u[m]));return`findAllNodes was able to match part of the selector:
  `+v.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?L(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:Ff,findFiberByHostInstance:l.findFiberByHostInstance||Of,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Lo=u.inject(l),en=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,m,v){if(!cr)throw Error(o(363));l=qr(l,u);var x=ma(l,m,v).disconnect;return{disconnect:function(){x()}}},e.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},e.runWithPriority=function(l,u){var m=ct;try{return ct=l,u()}finally{ct=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,m,v){var x=u.current,T=ar(),F=Mn(x);return m=Vh(m),u.context===null?u.context=m:u.pendingContext=m,(u=Ti(T,F)).payload={element:l},(v=v===void 0?null:v)!==null&&(u.callback=v),(l=ii(x,u,F))!==null&&(Pr(l,x,F,T),ss(l,x,F)),F},e}),U0}({get exports(){return _g},set exports(i){_g=i}}).exports=lT();var uT=Fb(_g),Rx={name:"root",dependencies:{"react-dom":"^18.0.0"}},wg={},Rd={get exports(){return wg},set exports(i){wg=i}};(function(){var i,e,t,r,a,o;typeof performance<"u"&&performance!==null&&performance.now?Rd.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Rd.exports=function(){return(i()-a)/1e6},e=process.hrtime,r=(i=function(){var c;return 1e9*(c=e())[0]+c[1]})(),o=1e9*process.uptime(),a=r-o):Date.now?(Rd.exports=function(){return Date.now()-t},t=Date.now()):(Rd.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(Nb);var H0,Vu={},bl={};({get exports(){return Vu},set exports(i){Vu=i}}).exports=(H0||(H0=1,bl.ConcurrentRoot=1,bl.ContinuousEventPriority=4,bl.DefaultEventPriority=16,bl.DiscreteEventPriority=1,bl.IdleEventPriority=536870912,bl.LegacyRoot=0),bl);var hT={};function Bm(i,e){i.addChild&&(i.addChild(e),typeof e.didMount=="function"&&e.didMount(e,i))}function Ix(i,e){var t,r,a;(t=i.willUnmount)===null||t===void 0||t.call(i,i,e),((r=i.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(a=i.children)!==null&&a!==void 0&&a.length&&pa(i.children).forEach(function(o){Ix(o,i)})}function j0(i,e){var t;Ix(e,i),i.removeChild(e);var r=(t=e.config)!==null&&t!==void 0?t:{},a=r.destroy,o=a===void 0||a,c=r.destroyChildren,d=c===void 0||c,p=r.destroyTexture,g=p!==void 0&&p,_=r.destroyBaseTexture,w=_!==void 0&&_;o&&e.destroy({children:d,texture:g,baseTexture:w})}function W0(i,e,t){var r,a;nr(e!==t,"Cannot insert node before itself"),i.children.indexOf(e)!==-1&&i.removeChild(e);var o=i.getChildIndex(t);i.addChildAt(e,o),(r=i.__reactpixi)===null||r===void 0||(a=r.root)===null||a===void 0||a.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var V0=null,$i=uT({getRootHostContext:function(){return hT},getChildHostContext:function(i){return i},getChildHostContextForEventComponent:function(i){return i},getPublicInstance:function(i){return i},getCurrentEventPriority:function(){return function(){var i,e;if(typeof window>"u")return Vu.DefaultEventPriority;switch((i=window)===null||i===void 0||(e=i.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Vu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Vu.ContinuousEventPriority;default:return Vu.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(i){var e,t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=iT[i];if(typeof o=="function"&&(e=o(a,r)),!e){var c=Px[i];c&&((e=c.create(r,{root:a})).didMount=c.didMount?c.didMount.bind(e):void 0,e.willUnmount=c.willUnmount?c.willUnmount.bind(e):void 0,e.applyProps=c.applyProps?c.applyProps.bind(e):void 0,e.config=c.config)}return e&&(e.__reactpixi={root:a},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:Rs)(e,{},r)),e},hideInstance:function(i){i.visible=!1},unhideInstance:function(i,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;i.visible=t},finalizeInitialChildren:function(i,e,t){return!1},prepareUpdate:function(i,e,t,r,a,o){return V0=function(c,d,p,g){var _=null;for(var w in p)!g.hasOwnProperty(w)&&p.hasOwnProperty(w)&&p[w]!==null&&(w===yg||(_||(_=[]),_.push(w,null)));for(var S in g){var b=g[S],A=p!==null?p[S]:void 0;!g.hasOwnProperty(S)||b===A||b===null&&A===null||S===yg||(_||(_=[]),_.push(S,b))}return _}(0,0,t,r)},shouldSetTextContent:function(i,e){return!1},shouldDeprioritizeSubtree:function(i,e){var t=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,a=e.visible===void 0||e.visible===!0;return!(t&&r&&a)},createTextInstance:function(i,e,t){nr(!1,'Error trying to add text node "'.concat(i,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(i,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:wg,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var i,e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=Bm.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),o},appendChild:function(){for(var i,e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=Bm.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),o},appendChildToContainer:function(){for(var i,e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=Bm.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),o},removeChild:function(){for(var i,e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=j0.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),o},removeChildFromContainer:function(){for(var i,e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=j0.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),o},insertBefore:W0,insertInContainerBefore:function(){for(var i,e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o=W0.apply(null,r);return(i=r[0].__reactpixi)===null||i===void 0||(e=i.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),o},commitUpdate:function(i,e,t,r,a){var o,c,d=i&&i.applyProps;typeof d!="function"&&(d=Rs),(d(i,r,a)||V0)&&((o=i.__reactpixi)===null||o===void 0||(c=o.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(i,e,t,r,a){},commitTextUpdate:function(i,e,t){},resetTextContent:function(i){},clearContainer:function(i){},getFundamentalComponentInstance:function(i){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(i){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(i){throw new Error("Not yet implemented.")},getInstanceFromNode:function(i){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(i){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(i){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(i){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(i){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(i){}}),cT=Rx.dependencies["react-dom"].replace(/[^0-9.]/g,""),dT=Rx.name;$i.injectIntoDevTools({bundleType:0,version:cT,rendererPackageName:dT,findHostInstanceByFiber:$i.findHostInstance});var yo=new Map;function Mx(i){if(nr(dn.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`."),yo.has(i)){var e=yo.get(i).pixiFiberContainer;$i.updateContainer(null,e,void 0,function(){yo.delete(i)})}}function kx(i){nr(dn.prototype.isPrototypeOf(i),"Invalid argument `container`, expected instance of `Container`.");var e=yo.get(i);if(nr(!e,"createRoot should only be called once"),!e){var t=$i.createContainer(i);e={pixiFiberContainer:t,reactRoot:{render:function(r){return $i.updateContainer(r,t,void 0),$i.getPublicRootInstance(t)},unmount:function(){Mx(i),yo.delete(i)}}},yo.set(i,e)}return e.reactRoot}function fT(i,e,t){var r;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),yo.has(e)?r=yo.get(e).reactRoot:r=kx(e),r.render(i)}function pT(i){Mx(i)}function wc(){return wc=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},wc.apply(this,arguments)}function mT(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function gT(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Tx(r.key),r)}}function sa(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function af(i,e){return af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},af(i,e)}function yT(i,e){if(e&&(Zn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sa(i)}function of(i){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},of(i)}var bf=ha.createContext(null),Dx=bf.Provider,Nx=bf.Consumer,vT=function(i){var e=ha.forwardRef(function(t,r){return ha.createElement(Nx,null,function(a){return ha.createElement(i,wc({},t,{ref:r,app:a}))})});return e.displayName="withPIXIApp(".concat(i.displayName||i.name,")"),e};function _T(i){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,r=of(i);if(e){var a=of(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return yT(this,t)}}function $0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Id(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$0(Object(t),!0).forEach(function(r){ur(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):$0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var X0=function(){},Fx={width:Ut.number,height:Ut.number,onMount:Ut.func,onUnmount:Ut.func,raf:Ut.bool,renderOnComponentChange:Ut.bool,children:Ut.node,options:Ut.shape({autoStart:Ut.bool,width:Ut.number,height:Ut.number,useContextAlpha:Ut.bool,backgroundAlpha:Ut.number,autoDensity:Ut.bool,antialias:Ut.bool,preserveDrawingBuffer:Ut.bool,resolution:Ut.number,forceCanvas:Ut.bool,backgroundColor:Ut.number,clearBeforeRender:Ut.bool,powerPreference:Ut.string,sharedTicker:Ut.bool,sharedLoader:Ut.bool,resizeTo:function(i,e){var t=i[e];t&&nr(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Zn(t),", expect `window` or an `HTMLElement`."))},view:function(i,e,t){var r=i[e];r&&nr(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Zn(r),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},xT={width:800,height:600,onMount:X0,onUnmount:X0,raf:!0,renderOnComponentChange:!0},Eg=function(i){(function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(c&&c.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),c&&af(o,c)})(a,ha.Component);var e,t,r=_T(a);function a(){var o;mT(this,a);for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return ur(sa(o=r.call.apply(r,[this].concat(d))),"_canvas",null),ur(sa(o),"_mediaQuery",null),ur(sa(o),"_ticker",null),ur(sa(o),"_needsUpdate",!0),ur(sa(o),"app",null),ur(sa(o),"updateSize",function(){var g=o.props,_=g.width,w=g.height,S=g.options;S!=null&&S.resolution||(o.app.renderer.resolution=window.devicePixelRatio,o.resetInteractionManager()),o.app.renderer.resize(_,w)}),ur(sa(o),"needsRenderUpdate",function(){o._needsUpdate=!0}),ur(sa(o),"renderStage",function(){var g=o.props,_=g.renderOnComponentChange;!g.raf&&_&&o._needsUpdate&&(o._needsUpdate=!1,o.app.renderer.render(o.app.stage))}),o}return e=a,(t=[{key:"componentDidMount",value:function(){var o=this.props,c=o.onMount,d=o.width,p=o.height,g=o.options,_=o.raf,w=o.renderOnComponentChange;this.app=new Sf(Id(Id({width:d,height:p,view:this._canvas},g),{},{autoDensity:(g==null?void 0:g.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[_?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=$i.createContainer(this.app.stage),$i.updateContainer(this.getChildren(),this.mountNode,this),c(this.app),g!=null&&g.autoDensity&&window.matchMedia&&(g==null?void 0:g.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),w&&!_&&(this._ticker=new kr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(o,c,d){var p,g=this.props,_=g.width,w=g.height,S=g.raf,b=g.renderOnComponentChange,A=g.options;(A==null?void 0:A.resolution)!==void 0&&(o==null?void 0:o.options.resolution)!==(A==null?void 0:A.resolution)&&(this.app.renderer.resolution=A.resolution,this.resetInteractionManager()),o.height===w&&o.width===_&&((p=o.options)===null||p===void 0?void 0:p.resolution)===(A==null?void 0:A.resolution)||this.updateSize(),o.raf!==S&&this.app.ticker[S?"start":"stop"](),$i.updateContainer(this.getChildren(),this.mountNode,this),o.width===_&&o.height===w&&o.raf===S&&o.renderOnComponentChange===b&&o.options===A||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var o=this.app.renderer.plugins.interaction;o!=null&&o.resolution&&(o.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var o=this.props.children;return ha.createElement(Dx,{value:this.app},o)}},{key:"componentDidCatch",value:function(o,c){console.error("Error occurred in `Stage`."),console.error(o),console.error(c)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),$i.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var o,c,d=this,p=this.props.options;return p&&p.view?(nr(p.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):ha.createElement("canvas",wc({},(o=this.props,c=[].concat(pa(Object.keys(Fx)),pa(Object.keys(vg))),Object.keys(o).filter(function(g){return!c.includes(g)}).reduce(function(g,_){return Id(Id({},g),{},ur({},_,o[_]))},{})),{ref:function(g){return d._canvas=g}}))}}])&&gT(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),a}();Eg.propTypes=Fx,Eg.defaultProps=xT;var wT=Eg;function Ox(){var i=zr.useContext(bf);return nr(i instanceof Sf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),i}function ET(i){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=Ox();nr(typeof i=="function","`useTick` needs a callback function."),nr(t instanceof Sf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var r=zr.useRef(null);zr.useEffect(function(){r.current=i},[i]),zr.useEffect(function(){if(e){var a=function(o){return r.current.apply(t.ticker,[o,t.ticker])};return t.ticker.add(a),function(){t.ticker&&t.ticker.remove(a)}}},[e])}function ST(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sg(i,e,t){return Sg=ST()?Reflect.construct.bind():function(r,a,o){var c=[null];c.push.apply(c,a);var d=new(Function.bind.apply(r,c));return o&&af(d,o.prototype),d},Sg.apply(null,arguments)}var bT=["children","apply"];function Y0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Md(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y0(Object(t),!0).forEach(function(r){ur(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Y0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var TT=function(i,e){nr(Zn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),r=function(a){var o=a.children,c=a.apply,d=Eo(a,bT),p=zr.useRef(zr.useMemo(function(){return t.map(function(w){var S,b=(d==null||(S=d[w])===null||S===void 0?void 0:S.construct)||[];return Sg(e[w],pa(b))})},[t])),g=zr.useMemo(function(){return t.reduce(function(w,S,b){return Md(Md({},w),{},ur({},S,p.current[b]))},{})},[t]),_=zr.useMemo(function(){return Object.keys(d).filter(Cx(Ax(t))).reduce(function(w,S){return Md(Md({},w),{},ur({},S,d[S]))},{})},[d,t]);return t.forEach(function(w,S){return Object.assign(p.current[S],d[w])}),c&&function(){for(var w=arguments.length,S=new Array(w),b=0;b<w;b++)S[b]=arguments[b];return S.every(function(A){return typeof A=="function"})}(c)&&c.call(i,g),ha.createElement(i,wc({},_,{filters:p.current}),o)};return r.displayName="FilterWrapper",r.propTypes={children:Ut.node,apply:Ut.func},r},AT=Ln.BitmapText,CT=Ln.Container,PT=Ln.Graphics,RT=Ln.NineSlicePlane,IT=Ln.ParticleContainer,MT=Ln.Sprite,kT=Ln.AnimatedSprite,DT=Ln.Text,NT=Ln.TilingSprite,FT=Ln.SimpleMesh,OT=Ln.SimpleRope;const LT=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:kT,AppConsumer:Nx,AppContext:bf,AppProvider:Dx,BitmapText:AT,Container:CT,Graphics:PT,NineSlicePlane:RT,ParticleContainer:IT,PixiComponent:sT,PixiFiber:$i,SimpleMesh:FT,SimpleRope:OT,Sprite:MT,Stage:wT,TYPES:Ln,Text:DT,TilingSprite:NT,applyDefaultProps:Rs,createRoot:kx,eventHandlers:sf,render:fT,unmountComponentAtNode:pT,useApp:Ox,useTick:ET,withFilters:TT,withPixiApp:vT},Symbol.toStringTag,{value:"Module"})),BT=s_(LT);var q0;function UT(){return q0||(q0=1,pp.exports=BT),pp.exports}var $g=UT();const Lx=new zt;Vt.prototype._cacheAsBitmap=!1;Vt.prototype._cacheData=null;Vt.prototype._cacheAsBitmapResolution=null;Vt.prototype._cacheAsBitmapMultisample=null;class zT{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Vt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(i){i!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(i){i!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=i,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(i){if(this._cacheAsBitmap===i)return;this._cacheAsBitmap=i;let e;i?(this._cacheData||(this._cacheData=new zT),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Vt.prototype._renderCached=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(i),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(i))};Vt.prototype._initCachedDisplayObject=function(i){var S,b;if((S=this._cacheData)!=null&&S.sprite)return;const e=this.alpha;this.alpha=1,i.batch.flush();const t=this.getLocalBounds(new at,!0);if((b=this.filters)!=null&&b.length){const A=this.filters[0].padding;t.pad(A)}const r=this.cacheAsBitmapResolution||i.resolution;t.ceil(r),t.width=Math.max(t.width,1/r),t.height=Math.max(t.height,1/r);const a=i.renderTexture.current,o=i.renderTexture.sourceFrame.clone(),c=i.renderTexture.destinationFrame.clone(),d=i.projection.transform,p=Ll.create({width:t.width,height:t.height,resolution:r,multisample:this.cacheAsBitmapMultisample??i.multisample}),g=`cacheAsBitmap_${Nl()}`;this._cacheData.textureCacheId=g,it.addToCache(p.baseTexture,g),ke.addToCache(p,g);const _=this.transform.localTransform.copyTo(Lx).invert().translate(-t.x,-t.y);this.render=this._cacheData.originalRender,i.render(this,{renderTexture:p,clear:!0,transform:_,skipUpdateTransform:!1}),i.framebuffer.blit(),i.projection.transform=d,i.renderTexture.bind(a,o,c),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const w=new Ms(p);w.transform.worldTransform=this.transform.worldTransform,w.anchor.x=-(t.x/t.width),w.anchor.y=-(t.y/t.height),w.alpha=e,w._bounds=this._bounds,this._cacheData.sprite=w,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=w.containsPoint.bind(w)};Vt.prototype._renderCachedCanvas=function(i){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(i),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(i))};Vt.prototype._initCachedDisplayObjectCanvas=function(i){var _;if((_=this._cacheData)!=null&&_.sprite)return;const e=this.getLocalBounds(new at,!0),t=this.alpha;this.alpha=1;const r=i.canvasContext.activeContext,a=i._projTransform,o=this.cacheAsBitmapResolution||i.resolution;e.ceil(o),e.width=Math.max(e.width,1/o),e.height=Math.max(e.height,1/o);const c=Ll.create({width:e.width,height:e.height,resolution:o}),d=`cacheAsBitmap_${Nl()}`;this._cacheData.textureCacheId=d,it.addToCache(c.baseTexture,d),ke.addToCache(c,d);const p=Lx;this.transform.localTransform.copyTo(p),p.invert(),p.tx-=e.x,p.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,i.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),i.canvasContext.activeContext=r,i._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const g=new Ms(c);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(e.x/e.width),g.anchor.y=-(e.y/e.height),g.alpha=t,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=i._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=g.containsPoint.bind(g)};Vt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Vt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Vt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,it.removeFromCache(this._cacheData.textureCacheId),ke.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Vt.prototype._cacheAsBitmapDestroy=function(i){this.cacheAsBitmap=!1,this.destroy(i)};Vt.prototype.name=null;dn.prototype.getChildByName=function(i,e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].name===i)return this.children[t];if(e)for(let t=0,r=this.children.length;t<r;t++){const a=this.children[t];if(!a.getChildByName)continue;const o=a.getChildByName(i,!0);if(o)return o}return null};Vt.prototype.getGlobalPosition=function(i=new dt,e=!1){return this.parent?this.parent.toGlobal(this.position,i,e):(i.x=this.position.x,i.y=this.position.y),i};var GT=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class HT extends cn{constructor(e=1){super(eS,GT,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const jT={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},WT=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function VT(i){const e=jT[i],t=e.length;let r=WT,a="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let c;for(let d=0;d<i;d++){let p=o.replace("%index%",d.toString());c=d,d>=t&&(c=i-d-1),p=p.replace("%value%",e[c].toString()),a+=p,a+=`
`}return r=r.replace("%blur%",a),r=r.replace("%size%",i.toString()),r}const $T=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function XT(i,e){const t=Math.ceil(i/2);let r=$T,a="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let c=0;c<i;c++){let d=o.replace("%index%",c.toString());d=d.replace("%sampleIndex%",`${c-(t-1)}.0`),a+=d,a+=`
`}return r=r.replace("%blur%",a),r=r.replace("%size%",i.toString()),r}class bg extends cn{constructor(e,t=8,r=4,a=cn.defaultResolution,o=5){const c=XT(o,e),d=VT(o);super(c,d),this.horizontal=e,this.resolution=a,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,a){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,t,r,a);else{const o=e.getFilterTexture(),c=e.renderer;let d=t,p=o;this.state.blend=!1,e.applyFilter(this,d,p,Ss.CLEAR);for(let g=1;g<this.passes-1;g++){e.bindAndClear(d,Ss.BLIT),this.uniforms.uSampler=p;const _=p;p=d,d=_,c.shader.bind(this),c.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,p,r,a),e.returnFilterTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class YT extends cn{constructor(e=8,t=4,r=cn.defaultResolution,a=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new bg(!0,e,t,r,a),this.blurYFilter=new bg(!1,e,t,r,a),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,a){const o=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(o&&c){const d=e.getFilterTexture();this.blurXFilter.apply(e,t,d,Ss.CLEAR),this.blurYFilter.apply(e,d,r,a),e.returnFilterTexture(d)}else c?this.blurYFilter.apply(e,t,r,a):this.blurXFilter.apply(e,t,r,a)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var qT=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Tg extends cn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(J_,qT,e),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}tint(e,t){const[r,a,o]=bt.shared.setValue(e).toArray(),c=[r,0,0,0,0,0,a,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(c,t)}greyscale(e,t){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}blackAndWhite(e){const t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)}hue(e,t){e=(e||0)/180*Math.PI;const r=Math.cos(e),a=Math.sin(e),o=Math.sqrt,c=1/3,d=o(c),p=r+(1-r)*c,g=c*(1-r)-d*a,_=c*(1-r)+d*a,w=c*(1-r)+d*a,S=r+c*(1-r),b=c*(1-r)-d*a,A=c*(1-r)-d*a,M=c*(1-r)+d*a,P=r+c*(1-r),k=[p,g,_,0,0,w,S,b,0,0,A,M,P,0,0,0,0,0,1,0];this._loadMatrix(k,t)}contrast(e,t){const r=(e||0)+1,a=-.5*(r-1),o=[r,0,0,0,a,0,r,0,0,a,0,0,r,0,a,0,0,0,1,0];this._loadMatrix(o,t)}saturate(e=0,t){const r=e*2/3+1,a=(r-1)*-.5,o=[r,a,a,0,0,a,r,a,0,0,a,a,r,0,0,0,0,0,1,0];this._loadMatrix(o,t)}desaturate(){this.saturate(-1)}negative(e){const t=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(t,e)}sepia(e){const t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)}technicolor(e){const t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)}polaroid(e){const t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)}toBGR(e){const t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)}kodachrome(e){const t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)}browni(e){const t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)}vintage(e){const t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)}colorTone(e,t,r,a,o){e=e||.2,t=t||.15,r=r||16770432,a=a||3375104;const c=bt.shared,[d,p,g]=c.setValue(r).toArray(),[_,w,S]=c.setValue(a).toArray(),b=[.3,.59,.11,0,0,d,p,g,e,0,_,w,S,t,0,d-_,p-w,g-S,0,0];this._loadMatrix(b,o)}night(e,t){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)}lsd(e){const t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Tg.prototype.grayscale=Tg.prototype.greyscale;var QT=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,KT=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class ZT extends cn{constructor(e,t){const r=new zt;e.renderable=!1,super(KT,QT,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,t==null&&(t=20),this.scale=new dt(t,t)}apply(e,t,r,a){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,c=Math.sqrt(o.a*o.a+o.b*o.b),d=Math.sqrt(o.c*o.c+o.d*o.d);c!==0&&d!==0&&(this.uniforms.rotation[0]=o.a/c,this.uniforms.rotation[1]=o.b/c,this.uniforms.rotation[2]=o.c/d,this.uniforms.rotation[3]=o.d/d),e.applyFilter(this,t,r,a)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var JT=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,eA=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class tA extends cn{constructor(){super(eA,JT)}}var rA=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class nA extends cn{constructor(e=.5,t=Math.random()){super(J_,rA,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Q0={AlphaFilter:HT,BlurFilter:YT,BlurFilterPass:bg,ColorMatrixFilter:Tg,DisplacementFilter:ZT,FXAAFilter:tA,NoiseFilter:nA};Object.entries(Q0).forEach(([i,e])=>{Object.defineProperty(Q0,i,{get(){return lt("7.1.0",`filters.${i} has moved to ${i}`),e}})});class iA{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(kr.system.add(this.tickerUpdate,this,_o.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(kr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const po=new iA;class bc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=bc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new dt,this.page=new dt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,a,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class lf extends bc{constructor(){super(...arguments),this.client=new dt,this.movement=new dt,this.offset=new dt,this.global=new dt,this.screen=new dt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,a,o,c,d,p,g,_,w,S,b,A,M){throw new Error("Method not implemented.")}}class ji extends lf{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ku extends lf{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ku.DOM_DELTA_PIXEL=0,Ku.DOM_DELTA_LINE=1,Ku.DOM_DELTA_PAGE=2;const sA=2048,aA=new dt,Um=new dt;class oA{constructor(e){this.dispatch=new Ec,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((r,a)=>r.priority-a.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let r=0,a=t.length;r<a;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){po.pauseUpdate=!0;const r=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",a=this[r](this.rootTarget,this.rootTarget.eventMode,aA.set(e,t),this.hitTestFn,this.hitPruneFn);return a&&a[0]}propagate(e,t){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let a=0,o=r.length-1;a<o;a++)if(e.currentTarget=r[a],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let a=r.length-2;a>=0;a--)if(e.currentTarget=r[a],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const a=Array.isArray(t)?t:[t];for(let o=r.length-1;o>=0;o--)a.forEach(c=>{e.currentTarget=r[o],this.notifyTarget(e,c)})}propagationPath(e){const t=[e];for(let r=0;r<sA&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,a,o,c=!1){let d=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(po.pauseUpdate=!1),e.interactiveChildren&&e.children){const _=e.children;for(let w=_.length-1;w>=0;w--){const S=_[w],b=this.hitTestMoveRecursive(S,this._isInteractive(t)?t:S.eventMode,r,a,o,c||o(e,r));if(b){if(b.length>0&&!b[b.length-1].parent)continue;const A=e.isInteractive();(b.length>0||A)&&(A&&this._allInteractiveElements.push(e),b.push(e)),this._hitElements.length===0&&(this._hitElements=b),d=!0}}}const p=this._isInteractive(t),g=e.isInteractive();return p&&g&&this._allInteractiveElements.push(e),c||this._hitElements.length>0?null:d?this._hitElements:p&&!o(e,r)&&a(e,r)?g?[e]:[]:null}hitTestRecursive(e,t,r,a,o){if(this._interactivePrune(e)||o(e,r))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(po.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let g=p.length-1;g>=0;g--){const _=p[g],w=this.hitTestRecursive(_,this._isInteractive(t)?t:_.eventMode,r,a,o);if(w){if(w.length>0&&!w[w.length-1].parent)continue;const S=e.isInteractive();return(w.length>0||S)&&w.push(e),w}}}const c=this._isInteractive(t),d=e.isInteractive();return c&&a(e,r)?d?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var r;if(e.hitArea&&(e.worldTransform.applyInverse(t,Um),!e.hitArea.contains(Um.x,Um.y)))return!0;if(e._mask){const a=e._mask.isMaskData?e._mask.maskObject:e._mask;if(a&&!((r=a.containsPoint)!=null&&r.call(a,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var o,c;t=t??e.type;const r=`on${t}`;(c=(o=e.currentTarget)[r])==null||c.call(o,e);const a=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,a),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const a=t.button===2;this.dispatchEvent(t,a?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var p,g;if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=t.pointerType==="mouse"||t.pointerType==="pen",a=this.trackingData(e.pointerId),o=this.findMountedTarget(a.overTargets);if(((p=a.overTargets)==null?void 0:p.length)>0&&o!==t.target){const _=e.type==="mousemove"?"mouseout":"pointerout",w=this.createPointerEvent(e,_,o);if(this.dispatchEvent(w,"pointerout"),r&&this.dispatchEvent(w,"mouseout"),!t.composedPath().includes(o)){const S=this.createPointerEvent(e,"pointerleave",o);for(S.eventPhase=S.AT_TARGET;S.target&&!t.composedPath().includes(S.target);)S.currentTarget=S.target,this.notifyTarget(S),r&&this.notifyTarget(S,"mouseleave"),S.target=S.target.parent;this.freeEvent(S)}this.freeEvent(w)}if(o!==t.target){const _=e.type==="mousemove"?"mouseover":"pointerover",w=this.clonePointerEvent(t,_);this.dispatchEvent(w,"pointerover"),r&&this.dispatchEvent(w,"mouseover");let S=o==null?void 0:o.parent;for(;S&&S!==this.rootTarget.parent&&S!==t.target;)S=S.parent;if(!S||S===this.rootTarget.parent){const b=this.clonePointerEvent(t,"pointerenter");for(b.eventPhase=b.AT_TARGET;b.target&&b.target!==o&&b.target!==this.rootTarget.parent;)b.currentTarget=b.target,this.notifyTarget(b),r&&this.notifyTarget(b,"mouseenter"),b.target=b.target.parent;this.freeEvent(b)}this.freeEvent(w)}const c=[],d=this.enableGlobalMoveEvents??!0;this.moveOnAll?c.push("pointermove"):this.dispatchEvent(t,"pointermove"),d&&c.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?c.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),d&&c.push("globaltouchmove")),r&&(this.moveOnAll?c.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),d&&c.push("globalmousemove"),this.cursor=(g=t.target)==null?void 0:g.cursor),c.length>0&&this.all(t,c),this._allInteractiveElements.length=0,this._hitElements.length=0,a.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var c;if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),a=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),a&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(c=r.target)==null?void 0:c.cursor);const o=this.clonePointerEvent(r,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),a&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",a=this.findMountedTarget(t.overTargets),o=this.createPointerEvent(e,"pointerout",a);this.dispatchEvent(o),r&&this.dispatchEvent(o,"mouseout");const c=this.createPointerEvent(e,"pointerleave",a);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==this.rootTarget.parent;)c.currentTarget=c.target,this.notifyTarget(c),r&&this.notifyTarget(c,"mouseleave"),c.target=c.target.parent;t.overTargets=null,this.freeEvent(o),this.freeEvent(c)}this.cursor=null}mapPointerUp(e){if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const d=r.button===2;this.dispatchEvent(r,d?"rightup":"mouseup")}const a=this.trackingData(e.pointerId),o=this.findMountedTarget(a.pressTargetsByButton[e.button]);let c=o;if(o&&!r.composedPath().includes(o)){let d=o;for(;d&&!r.composedPath().includes(d);){if(r.currentTarget=d,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const p=r.button===2;this.notifyTarget(r,p?"rightupoutside":"mouseupoutside")}d=d.parent}delete a.pressTargetsByButton[e.button],c=d}if(c){const d=this.clonePointerEvent(r,"click");d.target=c,d.path=null,a.clicksByButton[e.button]||(a.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});const p=a.clicksByButton[e.button];if(p.target===d.target&&t-p.timeStamp<200?++p.clickCount:p.clickCount=1,p.target=d.target,p.timeStamp=t,d.detail=p.clickCount,d.pointerType==="mouse"){const g=d.button===2;this.dispatchEvent(d,g?"rightclick":"click")}else d.pointerType==="touch"&&this.dispatchEvent(d,"tap");this.dispatchEvent(d,"pointertap"),this.freeEvent(d)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),a=this.createPointerEvent(e);if(r){let o=r;for(;o;)a.currentTarget=o,this.notifyTarget(a,"pointerupoutside"),a.pointerType==="touch"?this.notifyTarget(a,"touchendoutside"):(a.pointerType==="mouse"||a.pointerType==="pen")&&this.notifyTarget(a,a.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(a)}mapWheel(e){if(!(e instanceof Ku)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){const a=this.allocateEvent(ji);return this.copyPointerData(e,a),this.copyMouseData(e,a),this.copyData(e,a),a.nativeEvent=e.nativeEvent,a.originalEvent=e,a.target=r??this.hitTest(a.global.x,a.global.y)??this._hitElements[0],typeof t=="string"&&(a.type=t),a}createWheelEvent(e){const t=this.allocateEvent(Ku);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const r=this.allocateEvent(ji);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof ji&&t instanceof ji&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof lf&&t instanceof lf&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive())if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let a=0,o=r.length;a<o&&!e.propagationImmediatelyStopped;a++)r[a].once&&e.currentTarget.removeListener(t,r[a].fn,void 0,!0),r[a].fn.call(r[a].context,e)}}const lA=1,uA={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Ag=class Cg{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new oA(null),po.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new ji(null),this.rootWheelEvent=new Ku(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Cg.defaultEventFeatures},{set:(t,r,a)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=a),t[r]=a,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,Cg._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,a=t.length;r<a;r++){const o=t[r],c=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,po.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,a=t.length;r<a;r++){const o=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",a=this.normalizeToPointerData(e);for(let o=0,c=a.length;o<c;o++){const d=this.bootstrapEvent(this.rootPointerEvent,a[o]);d.type+=r,this.rootBoundary.mapEvent(d)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let r=0,a=t.length;r<a;r++){const o=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,po.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;po.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;po.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){const a=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(t-a.left)*(this.domElement.width/a.width)*o,e.y=(r-a.top)*(this.domElement.height/a.height)*o}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,a=e.changedTouches.length;r<a;r++){const o=e.changedTouches[r];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,t.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=lA),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=uA[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};Ag.extension={name:"events",type:[De.RendererSystem,De.CanvasRendererSystem]},Ag.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Pg=Ag;Xe.add(Pg);function K0(i){return i==="dynamic"||i==="static"}const hA={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??K0(Pg.defaultEventMode)},set interactive(i){lt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=i,this.eventMode=i?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Pg.defaultEventMode},set eventMode(i){this._internalInteractive=K0(i),this._internalEventMode=i},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(i,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,a=typeof t=="object"?t.signal:void 0,o=typeof t=="object"?t.once===!0:!1,c=typeof e=="function"?void 0:e;i=r?`${i}capture`:i;const d=typeof e=="function"?e:e.handleEvent,p=this;a&&a.addEventListener("abort",()=>{p.off(i,d,c)}),o?p.once(i,d,c):p.on(i,d,c)},removeEventListener(i,e,t){const r=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,a=typeof e=="function"?void 0:e;i=r?`${i}capture`:i,e=typeof e=="function"?e:e.handleEvent,this.off(i,e,a)},dispatchEvent(i){if(!(i instanceof bc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return i.defaultPrevented=!1,i.path=null,i.target=this,i.manager.dispatchEvent(i),!i.defaultPrevented}};Vt.mixin(hA);const cA={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Vt.mixin(cA);const dA=9,kd=100,fA=0,pA=0,Z0=2,J0=1,mA=-1e3,gA=-1e3,yA=2;class Bx{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(la.tablet||la.phone)&&this.createTouchHook();const t=document.createElement("div");t.style.width=`${kd}px`,t.style.height=`${kd}px`,t.style.position="absolute",t.style.top=`${fA}px`,t.style.left=`${pA}px`,t.style.zIndex=Z0.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${J0}px`,e.style.height=`${J0}px`,e.style.position="absolute",e.style.top=`${mA}px`,e.style.left=`${gA}px`,e.style.zIndex=yA.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const t=e.children;if(t)for(let r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}update(){const e=performance.now();if(la.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:t,y:r,width:a,height:o}=this.renderer.view.getBoundingClientRect(),{width:c,height:d,resolution:p}=this.renderer,g=a/c*p,_=o/d*p;let w=this.div;w.style.left=`${t}px`,w.style.top=`${r}px`,w.style.width=`${c}px`,w.style.height=`${d}px`;for(let S=0;S<this.children.length;S++){const b=this.children[S];if(b.renderId!==this.renderId)b._accessibleActive=!1,Xu(this.children,S,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,S--;else{w=b._accessibleDiv;let A=b.hitArea;const M=b.worldTransform;b.hitArea?(w.style.left=`${(M.tx+A.x*M.a)*g}px`,w.style.top=`${(M.ty+A.y*M.d)*_}px`,w.style.width=`${A.width*M.a*g}px`,w.style.height=`${A.height*M.d*_}px`):(A=b.getBounds(),this.capHitArea(A),w.style.left=`${A.x*g}px`,w.style.top=`${A.y*_}px`,w.style.width=`${A.width*g}px`,w.style.height=`${A.height*_}px`,w.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(w.title=b.accessibleTitle),w.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&w.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==w.title||b.tabIndex!==w.tabIndex)&&(w.title=b.accessibleTitle,w.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(w))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=`${kd}px`,t.style.height=`${kd}px`,t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=Z0.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?t.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){const{displayObject:r}=e.target,a=this.renderer.events.rootBoundary,o=Object.assign(new bc(a),{target:r});a.rootTarget=this.renderer.lastObjectRendered,t.forEach(c=>a.dispatchEvent(o,c))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===dA&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Bx.extension={name:"accessibility",type:[De.RendererPlugin,De.CanvasRendererPlugin]};Xe.add(Bx);var Ur=(i=>(i[i.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",i[i.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",i[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",i[i.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",i[i.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",i[i.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",i[i.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",i[i.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",i[i.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",i[i.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",i[i.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",i[i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",i[i.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",i[i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",i[i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",i[i.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",i[i.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",i[i.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",i[i.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",i[i.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",i[i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",i[i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",i[i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",i))(Ur||{});const uf={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Es,Gu;function e_(){Gu={bptc:Es.getExtension("EXT_texture_compression_bptc"),astc:Es.getExtension("WEBGL_compressed_texture_astc"),etc:Es.getExtension("WEBGL_compressed_texture_etc"),s3tc:Es.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Es.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Es.getExtension("WEBGL_compressed_texture_pvrtc")||Es.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Es.getExtension("WEBGL_compressed_texture_etc1"),atc:Es.getExtension("WEBGL_compressed_texture_atc")}}const vA={extension:{type:De.DetectionParser,priority:2},test:async()=>{const i=Le.ADAPTER.createCanvas().getContext("webgl");return i?(Es=i,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async i=>{Gu||e_();const e=[];for(const t in Gu)Gu[t]&&e.push(t);return[...e,...i]},remove:async i=>(Gu||e_(),i.filter(e=>!(e in Gu)))};Xe.add(vA);class _A extends ff{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,a;typeof e=="string"?(r=e,a=new Uint8Array):(r=null,a=e),super(a,t),this.origin=r,this.buffer=a?new Xm(a):null,this._load=null,this.loaded=!1,this.origin!==null&&t.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Xm(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Dl extends _A{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=Dl._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||Dl._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){const a=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;a.pixelStorei(a.UNPACK_ALIGNMENT,4);for(let o=0,c=this.levels;o<c;o++){const{levelID:d,levelWidth:p,levelHeight:g,levelBuffer:_}=this._levelBuffers[o];a.compressedTexImage2D(a.TEXTURE_2D,d,this.format,p,g,0,_)}return!0}onBlobLoaded(){this._levelBuffers=Dl._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,r,a,o,c,d){const p=new Array(r);let g=e.byteOffset,_=c,w=d,S=_+a-1&~(a-1),b=w+o-1&~(o-1),A=S*b*uf[t];for(let M=0;M<r;M++)p[M]={levelID:M,levelWidth:r>1?_:S,levelHeight:r>1?w:b,levelBuffer:new Uint8Array(e.buffer,g,A)},g+=A,_=_>>1||1,w=w>>1||1,S=_+a-1&~(a-1),b=w+o-1&~(o-1),A=S*b*uf[t];return p}}const zm=4,Dd=124,xA=32,t_=20,wA=542327876,Nd={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},EA={FOURCC:2},Fd={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},SA=1,bA=2,TA=4,AA=64,CA=512,PA=131072,RA=827611204,IA=861165636,MA=894720068,kA=808540228,DA=4,NA={[RA]:Ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,[IA]:Ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,[MA]:Ur.COMPRESSED_RGBA_S3TC_DXT5_EXT},FA={70:Ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Ur.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Ur.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Ur.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Ur.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Ur.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Ur.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Ur.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Ur.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Ur.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function OA(i){const e=new Uint32Array(i);if(e[0]!==wA)throw new Error("Invalid DDS file magic word");const t=new Uint32Array(i,0,Dd/Uint32Array.BYTES_PER_ELEMENT),r=t[Nd.HEIGHT],a=t[Nd.WIDTH],o=t[Nd.MIPMAP_COUNT],c=new Uint32Array(i,Nd.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,xA/Uint32Array.BYTES_PER_ELEMENT),d=c[SA];if(d&TA){const p=c[EA.FOURCC];if(p!==kA){const z=NA[p],O=zm+Dd,W=new Uint8Array(i,O);return[new Dl(W,{format:z,width:a,height:r,levels:o})]}const g=zm+Dd,_=new Uint32Array(e.buffer,g,t_/Uint32Array.BYTES_PER_ELEMENT),w=_[Fd.DXGI_FORMAT],S=_[Fd.RESOURCE_DIMENSION],b=_[Fd.MISC_FLAG],A=_[Fd.ARRAY_SIZE],M=FA[w];if(M===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${w}`);if(b===DA)throw new Error("DDSParser does not support cubemap textures");if(S===6)throw new Error("DDSParser does not supported 3D texture data");const P=new Array,k=zm+Dd+t_;if(A===1)P.push(new Uint8Array(i,k));else{const z=uf[M];let O=0,W=a,B=r;for(let N=0;N<o;N++){const J=Math.max(1,W+3&-4),ce=Math.max(1,B+3&-4),fe=J*ce*z;O+=fe,W=W>>>1,B=B>>>1}let K=k;for(let N=0;N<A;N++)P.push(new Uint8Array(i,K,O)),K+=O}return P.map(z=>new Dl(z,{format:M,width:a,height:r,levels:o}))}throw d&AA?new Error("DDSParser does not support uncompressed texture data."):d&CA?new Error("DDSParser does not supported YUV uncompressed texture data."):d&PA?new Error("DDSParser does not support single-channel (lumninance) texture data!"):d&bA?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const r_=[171,75,84,88,32,49,49,187,13,10,26,10],LA=67305985,Gi={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Rg=64,n_={[Ke.UNSIGNED_BYTE]:1,[Ke.UNSIGNED_SHORT]:2,[Ke.INT]:4,[Ke.UNSIGNED_INT]:4,[Ke.FLOAT]:4,[Ke.HALF_FLOAT]:8},BA={[Ae.RGBA]:4,[Ae.RGB]:3,[Ae.RG]:2,[Ae.RED]:1,[Ae.LUMINANCE]:1,[Ae.LUMINANCE_ALPHA]:2,[Ae.ALPHA]:1},UA={[Ke.UNSIGNED_SHORT_4_4_4_4]:2,[Ke.UNSIGNED_SHORT_5_5_5_1]:2,[Ke.UNSIGNED_SHORT_5_6_5]:2};function zA(i,e,t=!1){const r=new DataView(e);if(!GA(i,r))return null;const a=r.getUint32(Gi.ENDIANNESS,!0)===LA,o=r.getUint32(Gi.GL_TYPE,a),c=r.getUint32(Gi.GL_FORMAT,a),d=r.getUint32(Gi.GL_INTERNAL_FORMAT,a),p=r.getUint32(Gi.PIXEL_WIDTH,a),g=r.getUint32(Gi.PIXEL_HEIGHT,a)||1,_=r.getUint32(Gi.PIXEL_DEPTH,a)||1,w=r.getUint32(Gi.NUMBER_OF_ARRAY_ELEMENTS,a)||1,S=r.getUint32(Gi.NUMBER_OF_FACES,a),b=r.getUint32(Gi.NUMBER_OF_MIPMAP_LEVELS,a),A=r.getUint32(Gi.BYTES_OF_KEY_VALUE_DATA,a);if(g===0||_!==1)throw new Error("Only 2D textures are supported");if(S!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(w!==1)throw new Error("WebGL does not support array textures");const M=4,P=4,k=p+3&-4,z=g+3&-4,O=new Array(w);let W=p*g;o===0&&(W=k*z);let B;if(o!==0?n_[o]?B=n_[o]*BA[c]:B=UA[o]:B=uf[d],B===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const K=t?jA(r,A,a):null;let N=W*B,J=p,ce=g,fe=k,Pe=z,Q=Rg+A;for(let Z=0;Z<b;Z++){const le=r.getUint32(Q,a);let Te=Q+4;for(let L=0;L<w;L++){let G=O[L];G||(G=O[L]=new Array(b)),G[Z]={levelID:Z,levelWidth:b>1||o!==0?J:fe,levelHeight:b>1||o!==0?ce:Pe,levelBuffer:new Uint8Array(e,Te,N)},Te+=N}Q+=le+4,Q=Q%4!==0?Q+4-Q%4:Q,J=J>>1||1,ce=ce>>1||1,fe=J+M-1&-4,Pe=ce+P-1&-4,N=fe*Pe*B}return o!==0?{uncompressed:O.map(Z=>{let le=Z[0].levelBuffer,Te=!1;return o===Ke.FLOAT?le=new Float32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4):o===Ke.UNSIGNED_INT?(Te=!0,le=new Uint32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)):o===Ke.INT&&(Te=!0,le=new Int32Array(Z[0].levelBuffer.buffer,Z[0].levelBuffer.byteOffset,Z[0].levelBuffer.byteLength/4)),{resource:new ff(le,{width:Z[0].levelWidth,height:Z[0].levelHeight}),type:o,format:Te?HA(c):c}}),kvData:K}:{compressed:O.map(Z=>new Dl(null,{format:d,width:p,height:g,levels:b,levelBuffers:Z})),kvData:K}}function GA(i,e){for(let t=0;t<r_.length;t++)if(e.getUint8(t)!==r_[t])return console.error(`${i} is not a valid *.ktx file!`),!1;return!0}function HA(i){switch(i){case Ae.RGBA:return Ae.RGBA_INTEGER;case Ae.RGB:return Ae.RGB_INTEGER;case Ae.RG:return Ae.RG_INTEGER;case Ae.RED:return Ae.RED_INTEGER;default:return i}}function jA(i,e,t){const r=new Map;let a=0;for(;a<e;){const o=i.getUint32(Rg+a,t),c=Rg+a+4,d=3-(o+3)%4;if(o===0||o>e-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let p=0;for(;p<o&&i.getUint8(c+p)!==0;p++);if(p===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const g=new TextDecoder().decode(new Uint8Array(i.buffer,c,p)),_=new DataView(i.buffer,c+p+1,o-p-1);r.set(g,_),a+=4+o+d}return r}const WA={extension:{type:De.LoadParser,priority:qi.High},name:"loadDDS",test(i){return wo(i,".dds")},async load(i,e,t){const r=await(await Le.ADAPTER.fetch(i)).arrayBuffer(),a=OA(r).map(o=>{const c=new it(o,{mipmap:Cs.OFF,alphaMode:On.NO_PREMULTIPLIED_ALPHA,resolution:da(i),...e.data});return Sc(c,t,i)});return a.length===1?a[0]:a},unload(i){Array.isArray(i)?i.forEach(e=>e.destroy(!0)):i.destroy(!0)}};Xe.add(WA);const VA={extension:{type:De.LoadParser,priority:qi.High},name:"loadKTX",test(i){return wo(i,".ktx")},async load(i,e,t){const r=await(await Le.ADAPTER.fetch(i)).arrayBuffer(),{compressed:a,uncompressed:o,kvData:c}=zA(i,r),d=a??o,p={mipmap:Cs.OFF,alphaMode:On.NO_PREMULTIPLIED_ALPHA,resolution:da(i),...e.data},g=d.map(_=>{d===o&&Object.assign(p,{type:_.type,format:_.format});const w=_.resource??_,S=new it(w,p);return S.ktxKeyValueData=c,Sc(S,t,i)});return g.length===1?g[0]:g},unload(i){Array.isArray(i)?i.forEach(e=>e.destroy(!0)):i.destroy(!0)}};Xe.add(VA);const $A=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],XA={extension:De.ResolveParser,test:i=>{const e=Dr.extname(i).slice(1);return["basis","ktx","dds"].includes(e)},parse:i=>{var r,a;const e=i.split("."),t=e.pop();if(["ktx","dds"].includes(t)){const o=e.pop();if($A.includes(o))return{resolution:parseFloat(((r=Le.RETINA_PREFIX.exec(i))==null?void 0:r[1])??"1"),format:o,src:i}}return{resolution:parseFloat(((a=Le.RETINA_PREFIX.exec(i))==null?void 0:a[1])??"1"),format:t,src:i}}};Xe.add(XA);const Od=new at,YA=4,Ux=class dc{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,a){const o=new Image;return o.src=await this.base64(e,t,r,a),o}async base64(e,t,r,a){const o=this.canvas(e,a);if(o.toBlob!==void 0)return new Promise((c,d)=>{o.toBlob(p=>{if(!p){d(new Error("ICanvas.toBlob failed!"));return}const g=new FileReader;g.onload=()=>c(g.result),g.onerror=d,g.readAsDataURL(p)},t,r)});if(o.toDataURL!==void 0)return o.toDataURL(t,r);if(o.convertToBlob!==void 0){const c=await o.convertToBlob({type:t,quality:r});return new Promise((d,p)=>{const g=new FileReader;g.onload=()=>d(g.result),g.onerror=p,g.readAsDataURL(c)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:r,width:a,height:o,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);c&&dc._flipY(r,a,o),d&&dc._unpremultiplyAlpha(r);const p=new Uw(a,o,1),g=new ImageData(new Uint8ClampedArray(r.buffer),a,o);return p.context.putImageData(g,0,0),p.canvas}pixels(e,t){const{pixels:r,width:a,height:o,flipY:c,premultipliedAlpha:d}=this._rawPixels(e,t);return c&&dc._flipY(r,a,o),d&&dc._unpremultiplyAlpha(r),r}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let a,o=!1,c=!1,d,p=!1;e&&(e instanceof Ll?d=e:(d=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),p=!0,t&&(Od.width=t.width,Od.height=t.height,t=Od)));const g=r.gl;if(d){if(a=d.baseTexture.resolution,t=t??d.frame,o=!1,c=d.baseTexture.alphaMode>0&&d.baseTexture.format===Ae.RGBA,!p){r.renderTexture.bind(d);const b=d.framebuffer.glFramebuffers[r.CONTEXT_UID];b.blitFramebuffer&&r.framebuffer.bind(b.blitFramebuffer)}}else a=r.resolution,t||(t=Od,t.width=r.width/a,t.height=r.height/a),o=!0,c=this._rendererPremultipliedAlpha,r.renderTexture.bind();const _=Math.max(Math.round(t.width*a),1),w=Math.max(Math.round(t.height*a),1),S=new Uint8Array(YA*_*w);return g.readPixels(Math.round(t.x*a),Math.round(t.y*a),_,w,g.RGBA,g.UNSIGNED_BYTE,S),p&&(d==null||d.destroy(!0)),{pixels:S,width:_,height:w,flipY:o,premultipliedAlpha:c}}destroy(){this.renderer=null}static _flipY(e,t,r){const a=t<<2,o=r>>1,c=new Uint8Array(a);for(let d=0;d<o;d++){const p=d*a,g=(r-d-1)*a;c.set(e.subarray(p,p+a)),e.copyWithin(p,g,g+a),e.set(c,g)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const a=e[r+3];if(a!==0){const o=255.001/a;e[r]=e[r]*o+.5,e[r+1]=e[r+1]*o+.5,e[r+2]=e[r+2]*o+.5}}}};Ux.extension={name:"extract",type:De.RendererSystem};let qA=Ux;Xe.add(qA);class QA{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function KA(i,e){var r;let t=!1;if((r=i==null?void 0:i._textures)!=null&&r.length){for(let a=0;a<i._textures.length;a++)if(i._textures[a]instanceof ke){const o=i._textures[a].baseTexture;e.includes(o)||(e.push(o),t=!0)}}return t}function ZA(i,e){if(i.baseTexture instanceof it){const t=i.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function JA(i,e){if(i._texture&&i._texture instanceof ke){const t=i._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function eC(i,e){return e instanceof zg?(e.updateText(!0),!0):!1}function tC(i,e){if(e instanceof xo){const t=e.toFontString();return fo.measureFont(t),!0}return!1}function rC(i,e){if(i instanceof zg){e.includes(i.style)||e.push(i.style),e.includes(i)||e.push(i);const t=i._texture.baseTexture;return e.includes(t)||e.push(t),!0}return!1}function nC(i,e){return i instanceof xo?(e.includes(i)||e.push(i),!0):!1}const zx=class Gx{constructor(e){this.limiter=new QA(Gx.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(rC),this.registerFindHook(nC),this.registerFindHook(KA),this.registerFindHook(ZA),this.registerFindHook(JA),this.registerUploadHook(eC),this.registerUploadHook(tC)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,kr.system.addOnce(this.tick,this,_o.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let r=0,a=this.uploadHooks.length;r<a;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)kr.system.addOnce(this.tick,this,_o.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof dn)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&kr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};zx.uploadsPerFrame=4;let Ig=zx;Object.defineProperties(Le,{UPLOADS_PER_FRAME:{get(){return Ig.uploadsPerFrame},set(i){lt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Ig.uploadsPerFrame=i}}});function Hx(i,e){return e instanceof it?(e._glTextures[i.CONTEXT_UID]||i.texture.bind(e),!0):!1}function iC(i,e){if(!(e instanceof gc))return!1;const{geometry:t}=e;e.finishPoly(),t.updateBatches();const{batches:r}=t;for(let a=0;a<r.length;a++){const{texture:o}=r[a].style;o&&Hx(i,o.baseTexture)}return t.batchable||i.geometry.bind(t,e._resolveDirectShader(i)),!0}function sC(i,e){return i instanceof gc?(e.push(i),!0):!1}class jx extends Ig{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(sC),this.registerUploadHook(Hx),this.registerUploadHook(iC)}}jx.extension={name:"prepare",type:De.RendererSystem};Xe.add(jx);const Wx=class fc{constructor(e,t,r){this.linkedSheets=[],(e instanceof it||e instanceof ke)&&(e={texture:e,data:t,resolutionFilename:r});const{texture:a,data:o,resolutionFilename:c=null,cachePrefix:d=""}=e;this.cachePrefix=d,this._texture=a instanceof ke?a:null,this.baseTexture=a instanceof it?a:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const p=this.baseTexture.resource;this.resolution=this._updateResolution(c||(p?p.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=da(e,null);return r===null&&(r=typeof t=="number"?t:parseFloat(t??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=fc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=fc.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const a=this._frameKeys[t],o=this._frames[a],c=o.frame;if(c){let d=null,p=null;const g=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,_=new at(0,0,Math.floor(g.w)/this.resolution,Math.floor(g.h)/this.resolution);o.rotated?d=new at(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):d=new at(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(p=new at(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[a]=new ke(this.baseTexture,d,_,p,o.rotated?2:0,o.anchor,o.borders),ke.addToCache(this.textures[a],this.cachePrefix+a.toString())}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const a=e[t][r];this.animations[t].push(this.textures[a])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*fc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*fc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Wx.BATCH_SIZE=1e3;let i_=Wx;const aC=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function Vx(i,e,t){const r={};if(i.forEach(a=>{r[a]=e}),Object.keys(e.textures).forEach(a=>{r[`${e.cachePrefix}${a}`]=e.textures[a]}),!t){const a=Dr.dirname(i[0]);e.linkedSheets.forEach((o,c)=>{Object.assign(r,Vx([`${a}/${e.data.meta.related_multi_packs[c]}`],o,!0))})}return r}const oC={extension:De.Asset,cache:{test:i=>i instanceof i_,getCacheableAssets:(i,e)=>Vx(i,e,!1)},resolver:{test:i=>{const e=i.split("?")[0].split("."),t=e.pop(),r=e.pop();return t==="json"&&aC.includes(r)},parse:i=>{var t;const e=i.split(".");return{resolution:parseFloat(((t=Le.RETINA_PREFIX.exec(i))==null?void 0:t[1])??"1"),format:e[e.length-2],src:i}}},loader:{name:"spritesheetLoader",extension:{type:De.LoadParser,priority:qi.Normal},async testParse(i,e){return Dr.extname(e.src).toLowerCase()===".json"&&!!i.frames},async parse(i,e,t){var _,w;const{texture:r,imageFilename:a,cachePrefix:o}=(e==null?void 0:e.data)??{};let c=Dr.dirname(e.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let d;if(r&&r.baseTexture)d=r;else{const S=fg(c+(a??i.meta.image),e.src);d=(await t.load([S]))[S]}const p=new i_({texture:d.baseTexture,data:i,resolutionFilename:e.src,cachePrefix:o});await p.parse();const g=(_=i==null?void 0:i.meta)==null?void 0:_.related_multi_packs;if(Array.isArray(g)){const S=[];for(const A of g){if(typeof A!="string")continue;let M=c+A;(w=e.data)!=null&&w.ignoreMultiPack||(M=fg(M,e.src),S.push(t.load({src:M,data:{ignoreMultiPack:!0}})))}const b=await Promise.all(S);p.linkedSheets=b,b.forEach(A=>{A.linkedSheets=[p].concat(p.linkedSheets.filter(M=>M!==A))})}return p},unload(i){i.destroy(!0)}}};Xe.add(oC);const Mg=class Hu extends xo{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Hu(Object.keys(Hu.defaultOptions).reduce((t,r)=>({...t,[r]:e[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Hu.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:r}=Hu;if(r[e]){const a=r[e];return this._fonts.push(a),a.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Le.ADAPTER.fetch(e).then(a=>a.blob()).then(async a=>new Promise((o,c)=>{const d=URL.createObjectURL(a),p=new FileReader;p.onload=()=>o([d,p.result]),p.onerror=c,p.readAsDataURL(a)})).then(async([a,o])=>{const c=Object.assign({family:Dr.basename(e,Dr.extname(e)),weight:"normal",style:"normal",display:"auto",src:a,dataSrc:o,refs:1,originalUrl:e,fontFace:null},t);r[e]=c,this._fonts.push(c),this.styleID++;const d=new FontFace(c.family,`url(${c.src})`,{weight:c.weight,style:c.style,display:c.display});c.fontFace=d,await d.load(),document.fonts.add(d),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(r=>!this._overrides.includes(r));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(r=>this._overrides.includes(r));t.length>0&&(this._overrides=this._overrides.filter(r=>!t.includes(r)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Fw(e)),typeof e=="number"?Nw(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),a=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const o=`${r}px ${a}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${o} ${e}`}reset(){Object.assign(this,Hu.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Le.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Mg.availableFonts={},Mg.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Gm=Mg;const pc=class ju extends Ms{constructor(e="",t={}){super(ke.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const r=new Image,a=ke.from(r,{scaleMode:Le.SCALE_MODE,resourceOptions:{autoLoad:!1}});a.orig=new at,a.trim=new at,this.texture=a;const o="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",d=document.createElementNS(o,"svg"),p=document.createElementNS(o,"foreignObject"),g=document.createElementNS(c,"div"),_=document.createElementNS(c,"style");p.setAttribute("width","10000"),p.setAttribute("height","10000"),p.style.overflow="hidden",d.appendChild(p),this.maxWidth=ju.defaultMaxWidth,this.maxHeight=ju.defaultMaxHeight,this._domElement=g,this._styleElement=_,this._svgRoot=d,this._foreignObject=p,this._foreignObject.appendChild(_),this._foreignObject.appendChild(g),this._image=r,this._loadImage=new Image,this._autoResolution=ju.defaultAutoResolution,this._resolution=ju.defaultResolution??Le.RESOLUTION,this.text=e,this.style=t}measureText(e){var _,w;const{text:t,style:r,resolution:a}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(a)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:c,height:d}=o;(c>this.maxWidth||d>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const p=Math.min(this.maxWidth,Math.ceil(c)),g=Math.min(this.maxHeight,Math.ceil(d));return this._svgRoot.setAttribute("width",p.toString()),this._svgRoot.setAttribute("height",g.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(_=this._style)==null?void 0:_.toCSS(a)}),this._styleElement.textContent=(w=this._style)==null?void 0:w.toGlobalCSS()),{width:p+r.padding*2,height:g+r.padding*2}}async updateText(e=!0){const{style:t,_image:r,_loadImage:a}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:o,height:c}=this.measureText();r.width=a.width=Math.ceil(Math.max(1,o)),r.height=a.height=Math.ceil(Math.max(1,c)),this._updateID++;const d=this._updateID;await new Promise(p=>{a.onload=async()=>{if(d<this._updateID){p();return}await t.onBeforeDraw(),r.src=a.src,a.onload=null,a.src="",this.updateTexture(),p()};const g=new XMLSerializer().serializeToString(this._svgRoot);a.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(g)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:a}=this,{padding:o}=e,{baseTexture:c}=t;t.trim.width=t._frame.width=r.width/a,t.trim.height=t._frame.height=r.height/a,t.trim.x=-o,t.trim.y=-o,t.orig.width=t._frame.width-o*2,t.orig.height=t._frame.height-o*2,this._onTextureUpdate(),c.setRealSize(r.width,r.height,a),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var r,a,o,c,d;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},ju.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=t,(a=this._svgRoot)==null||a.remove(),this._svgRoot=t,(o=this._domElement)==null||o.remove(),this._domElement=t,(c=this._foreignObject)==null||c.remove(),this._foreignObject=t,(d=this._styleElement)==null||d.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=mo(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=mo(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Gm?(this.ownsStyle=!1,this._style=e):e instanceof xo?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Gm.from(e)):(this.ownsStyle=!0,this._style=new Gm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};pc.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},pc.defaultMaxWidth=2024,pc.defaultMaxHeight=2024,pc.defaultAutoResolution=!0;let AC=pc;const lC=()=>{const i=$g.useApp();return zr.useEffect(()=>{P1({app:i})},[i]),null};function uC(){const[i,e]=zr.useState("");return co.jsxs(co.Fragment,{children:[co.jsx("input",{type:"text",onInput:t=>e(t.currentTarget.value)}),co.jsxs($g.Stage,{children:[co.jsx(lC,{}),co.jsx(hC,{text:i})]})]})}function hC(i){const{fontName:e}=cC(),t=$g.useApp();if(!e)return null;const r=new px(i.text,{fontName:e});return t.stage.addChild(r),t.renderer.resize(r.textWidth,r.textHeight),t.stage.removeChildAt(0),t.stage.addChild(r),null}function cC(){const[i,e]=zr.useState(null),[t,r]=zr.useState(null),a=zr.useRef([]);return zr.useEffect(()=>()=>{for(const o of a.current)URL.revokeObjectURL(o);a.current=[]},[]),zr.useEffect(()=>{const o=d=>d.preventDefault(),c=async d=>{var _,w;d.preventDefault(),r(null);const p=[];if((w=(_=d.dataTransfer)==null?void 0:_.files)!=null&&w.length)for(let S=0;S<d.dataTransfer.files.length;S++)p.push(d.dataTransfer.files[S]);if(!p.length)return;const g=p.filter(S=>S.type==="text/xml"||S.name.toLowerCase().endsWith(".xml")||S.name.toLowerCase().endsWith(".fnt"));if(!g.length){r("No XML files dropped.");return}for(const S of g)try{const b=await S.text(),A=new DOMParser().parseFromString(b,"text/xml");if(dC(A)){const M=await fC(A,p,a);e(M);return}else console.log("Dropped XML parsed:",S.name,A.documentElement.nodeName)}catch(b){r(`Failed to process ${S.name}: ${String(b.message||b)}`)}};return window.addEventListener("dragover",o),window.addEventListener("drop",c),()=>{window.removeEventListener("dragover",o),window.removeEventListener("drop",c)}},[]),{fontName:i,error:t}}function dC(i){const e=i.documentElement;if((e==null?void 0:e.nodeName)!=="font")return!1;const t=e.querySelector("info"),r=e.querySelector("common"),a=e.querySelectorAll("pages > page");return!!t&&!!r&&a.length>0}async function fC(i,e,t){const r=i.querySelector("font > info"),a=(r==null?void 0:r.getAttribute("face"))||`BMFont-${Math.random().toString(36).slice(2,8)}`,o=Array.from(i.querySelectorAll("font > pages > page"));if(!o.length)throw new Error("BMFont XML has no <page> nodes.");const c={};for(const d of o){const p=d.getAttribute("file");if(!p)throw new Error('BMFont page is missing "file" attribute.');const g=e.find(w=>w.name.toLowerCase()===p.toLowerCase());if(!g)throw new Error(`BMFont page image "${p}" not found in dropped files. Drop the XML and its image(s) together.`);const _=URL.createObjectURL(g);t.current.push(_),c[p]=ke.from(_)}return aa.install(i,c),a}const pC=b1.createRoot(document.getElementById("root"));pC.render(co.jsx(zr.StrictMode,{children:co.jsx(uC,{})}));export{bx as $,Fw as A,di as B,Uw as C,mo as D,Ec as E,yC as F,Gw as G,Nl as H,Td as I,C0 as J,Im as K,fb as L,Hg as M,b0 as N,A0 as O,e0 as P,jg as Q,Xi as R,db as S,Fn as T,cb as U,rf as V,vx as W,Q0 as X,Bx as Y,cA as Z,Sf as _,Jv as a,F_ as a$,bd as a0,JS as a1,Ml as a2,qi as a3,eb as a4,Ju as a5,wo as a6,Wi as a7,fg as a8,SS as a9,VA as aA,OA as aB,zA as aC,XA as aD,nx as aE,rS as aF,Xd as aG,qd as aH,fa as aI,I_ as aJ,it as aK,Qm as aL,S_ as aM,Rl as aN,fE as aO,R_ as aP,eg as aQ,hr as aR,ff as aS,tx as aT,nS as aU,Qd as aV,iS as aW,cn as aX,wE as aY,N_ as aZ,rg as a_,Sc as aa,tb as ab,nb as ac,ab as ad,ob as ae,sb as af,rb as ag,OS as ah,tf as ai,VS as aj,PS as ak,YS as al,wf as am,MS as an,KS as ao,US as ap,lb as aq,_A as ar,Dl as as,BA as at,Ur as au,uf as av,n_ as aw,UA as ax,vA as ay,WA as az,x_ as b,R1 as b$,EE as b0,IE as b1,Sm as b2,j_ as b3,vo as b4,O_ as b5,SC as b6,Ym as b7,Wu as b8,M_ as b9,Il as bA,Bg as bB,Y_ as bC,Lg as bD,q_ as bE,Yi as bF,sx as bG,Zd as bH,Xm as bI,KE as bJ,E_ as bK,Vw as bL,OE as bM,J_ as bN,eS as bO,DE as bP,BE as bQ,aE as bR,LE as bS,Yu as bT,hE as bU,bt as bV,On as bW,et as bX,Hm as bY,Ts as bZ,Ss as b_,CE as ba,L_ as bb,ex as bc,vf as bd,rx as be,G_ as bf,ua as bg,H_ as bh,xE as bi,D_ as bj,Ll as bk,k_ as bl,W_ as bm,Ug as bn,yc as bo,ag as bp,PE as bq,As as br,$_ as bs,AE as bt,Kd as bu,Is as bv,XE as bw,z_ as bx,YE as by,ke as bz,EC as c,vc as c$,Vi as c0,Ol as c1,Ae as c2,Dg as c3,Er as c4,Cs as c5,mr as c6,pi as c7,a_ as c8,Oe as c9,dn as cA,Vt as cB,aS as cC,oA as cD,Pg as cE,hA as cF,bc as cG,lf as cH,ji as cI,Ku as cJ,qA as cK,HT as cL,YT as cM,bg as cN,Tg as cO,ZT as cP,tA as cQ,nA as cR,Ef as cS,TC as cT,gc as cU,nf as cV,gb as cW,go as cX,fi as cY,Wg as cZ,Fl as c_,oa as ca,$u as cb,Ke as cc,ca as cd,De as ce,Xe as cf,pf as cg,Jw as ch,mf as ci,zt as cj,bs as ck,Yd as cl,dt as cm,kl as cn,Zw as co,at as cp,gf as cq,Gr as cr,yf as cs,qt as ct,I1 as cu,Le as cv,kr as cw,K_ as cx,_o as cy,Jd as cz,lt as d,yS as d0,xf as d1,_c as d2,xb as d3,yb as d4,vb as d5,wb as d6,_b as d7,Eb as d8,Sb as d9,wx as da,Ig as db,QA as dc,jx as dd,Ms as de,xc as df,Vg as dg,Ex as dh,i_ as di,oC as dj,_f as dk,zg as dl,fo as dm,xo as dn,aa as dp,ef as dq,px as dr,Hd as ds,cg as dt,dg as du,fS as dv,hb as dw,AC as dx,Gm as dy,Lw as e,wC as f,w_ as g,Sw as h,Hw as i,L1 as j,zw as k,da as l,gC as m,Nw as n,la as o,Kv as p,bw as q,Zv as r,$d as s,Dr as t,mC as u,__ as v,vC as w,_C as x,xC as y,Xu as z};
